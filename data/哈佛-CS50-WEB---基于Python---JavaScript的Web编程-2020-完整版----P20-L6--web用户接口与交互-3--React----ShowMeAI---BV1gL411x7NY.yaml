- en: 哈佛 CS50-WEB ｜ 基于Python ／ JavaScript的Web编程(2020·完整版) - P20：L6- web用户接口与交互 3 (React)
    - ShowMeAI - BV1gL411x7NY
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 哈佛 CS50-WEB ｜ 基于Python ／ JavaScript的Web编程(2020·完整版) - P20：L6- web用户接口与交互 3 (React)
    - ShowMeAI - BV1gL411x7NY
- en: application at the same time，and you can imagine that as web pages。start to
    get more complex and as you，want to start making them，more interactive and more
    dynamic。there's going to be a lot of javascript，code required，in order to keep
    everything in sync in。order to make sure that all of the，elements are updated
    when they should。
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序同时运行，你可以想象，随着网页变得更加复杂，以及你希望使其更互动和动态，必然会需要大量的JavaScript代码，以保持一切同步，确保所有元素在适当的时候被更新。
- en: so on and so forth and it's for that，reason that in recent years。a lot of javascript
    has now turned to，some javascript libraries or frameworks，that allow。to more efficiently
    and more effectively，create user interfaces that are more，interactive。and more
    reactive and one of the most。
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 以此类推，正因如此，近年来许多JavaScript都转向了一些JavaScript库或框架，这些库或框架允许更高效、更有效地创建更互动、更反应迅速的用户界面。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_1.png)'
  id: totrans-3
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_1.png)'
- en: popular of these is a framework known as，react，react is a javascript library
    that is。going to enable us，to be able to design user interfaces，that are very
    interactive where the。content of the web page，updates automatically based on some，underlying
    state。and what we'll do now is take a look at，a brief taste of react to get a
    sense，for how。
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一个流行的框架是React，React是一个JavaScript库，它使我们能够设计非常互动的用户界面，其中网页内容会根据某种基础状态自动更新。现在我们来简单了解一下React，以便感受一下。
- en: frameworks like it can actually work and，can help us in designing some，interactive
    and useful。interfaces for users to be able to，interact with react is ultimately
    based。on this idea of declarative programming，a particular style of programming。which
    is different from the types of，programming you might be familiar with。
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的框架实际上可以发挥作用，并且可以帮助我们设计一些互动性强且对用户有用的界面。React最终基于声明式编程的理念，这是一种不同于你可能熟悉的编程类型的特定编程风格。
- en: more classical programming styles，like imperative programming in，imperative
    programming。you generally give the computer commands，tell the computer what to
    do。for example if we had that counter，program from before and we wanted to。update
    the counter from one number to，another number，in the view like the html that the
    user。
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 更经典的编程风格，如命令式编程。在命令式编程中，你通常会给计算机发出命令，告诉计算机该做什么。例如，如果我们之前有那个计数器程序，并且想要在视图中将计数器从一个数字更新到另一个数字，比如用户的HTML。
- en: sees we would include something like，a heading that just has the number zero。inside
    of it and then the logic，in imperative programming would take。something like this
    form it would be，like all right first，document。queryselector to get that h1，tag。get
    it its innerhtml parseint will take，the string and convert it into an，integer。
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 看到我们可能会包括类似的内容，比如一个仅包含数字零的标题。在其中，命令式编程的逻辑会采取这样的形式：好吧，首先，使用`document.querySelector`来获取那个h1标签。获取它的innerHTML，`parseInt`将字符串转换为整数。
- en: and we can save that inside of a，variable called num for example，and then after
    that if i want to。increase it i would take this variable，num and just add one
    to it。num plus equals one add one to it and，then if i want to update this heading
    in。order to replace the zero with a one for，example，well then i would need to
    say，document。
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将其保存在一个名为num的变量中，之后如果我想增加它，我只需取这个变量num并加1。`num += 1`，然后如果我想更新这个标题，以便将零替换为一，例如，那么我需要说，`document`。
- en: queryselectorh1，set the inner html equal to that number，for instance in order
    to say all right。num is now one，go ahead and replace that in the view，but this
    is a fair amount of code。to do something fairly simple just like，increase a number
    by one。and the reason why is because we've had，to be very explicit about what，instructions。
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '`querySelector`获取h1，将innerHTML设置为那个数字，例如为了表示好吧，num现在是1，继续在视图中替换它，但这是一段相当多的代码，仅仅为了做一些简单的事情，比如将数字增加1。原因是我们必须非常明确地说明指令。'
- en: we're giving to the web browser we're，saying first grab the h1 figure out what。number
    is inside of it add one to that，number，and then replace it inside of this tag。what
    declarative program is going to，allow us to do，is it's going to allow us to just。describe
    what state should be displayed，on the page in what form。
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们给浏览器的指令是，首先抓取 h1，找出里面的数字，给这个数字加一，然后替换这个标签中的内容。声明式编程将允许我们只是描述页面上应该显示的状态及其形式。
- en: in declarative programming in our view，like the html like code that we're going，to
    be writing。we're just going to say something like，h1 and then in curly braces。num
    to mean like fill in the number here，and this is what the react syntax is，going
    to look like。and then the logic code if we want to，increment that number by one。
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在声明式编程中，我们认为，类似于我们将要编写的 HTML 代码。我们只需要说一些像 h1 的东西，然后用大括号包起来。num 表示在这里填写数字，这就是
    React 语法的样子。如果我们想让这个数字加一，那么就加一。
- en: is we just need to say num plus equals，one add one to the number。and the effect
    of that is that since we，have declared that inside of this。heading it should be
    whatever the value，of the number is，when we increment the value of number。react
    is effectively，just going to update the view so that，the number updates。
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们只需要说 num 加等于一，将数字加一。这样做的效果是，因为我们在这个标题中声明了它应该是数字的值，所以当我们增加数字的值时，React 实际上会更新视图，以便数字更新。
- en: as well and so this will be some of the，power that react gives us react。lets
    us divide our application into a，whole bunch of different components，where a component。is
    something like this thing here that，is keeping track of some sort of count。along
    with a button that might，manipulate it，and then make that component based on。
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这也是 React 赋予我们的某些功能，React 允许我们将应用程序分割成许多不同的组件，其中一个组件就像是跟踪某种计数的东西，以及一个可能操控它的按钮，然后基于此创建组件。
- en: some underlying state some，underlying variables that represent the，state of
    the application。something like the current number and，then we can manipulate that
    state and。when we manipulate the state，that will have an impact on what the。user
    actually sees and react will handle，the process。
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 一些基础状态，一些表示应用程序状态的变量。像当前数字这样的东西，然后我们可以操作这个状态。当我们操纵状态时，这将影响用户实际看到的内容，React 将处理这个过程。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_3.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_3.png)'
- en: of updating that user interface for us，there are a number of ways to get react。working
    on our web page，but the simplest is probably just to，include these three。javascript
    packages inside of our，web page so we're first going to include。react itself which
    is going to be the，library that's going to allow us to。
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 更新用户界面的方式有很多，但最简单的可能就是在我们的网页中包含这三个 JavaScript 包。因此，我们首先将包含 React 本身，这是一个允许我们...
- en: define these components and how they，behave，then is react dom a special package。that's
    going to allow us to，take react components and insert them。into the dom the document
    object model，that represents the structure of the。entire page and then finally
    babel，is going to be a package that we're。
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 定义这些组件及其行为，React DOM 是一个特殊的包。它将允许我们将 React 组件插入到 DOM 中，文档对象模型表示整个页面的结构，最后 Babel
    是我们将要使用的一个包。
- en: going to use in order to translate code，from one language to another it turns。out
    that when we're writing react code，we're not actually going to be writing。javascript
    we're going to be writing in，an extension to javascript known as。jsx and jsx is
    going to be an extension，to javascript that looks a lot like，javascript。
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用它来将代码从一种语言翻译成另一种语言。结果表明，当我们编写 React 代码时，我们实际上并不是在写 JavaScript，而是在写一个被称为
    JSX 的 JavaScript 扩展，JSX 看起来很像 JavaScript。
- en: but has some additional features in，particular it has the ability to，effectively。allow
    us to represent html inside of our，javascript code，in a way that's much easier
    to read and。it's going to be convenient for us to，deal with，browsers on the other
    hand don't。understand jsx automatically，so what we're going to use is a tool，like
    babel to convert。
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 但它还有一些额外的功能，特别是它能够有效地。允许我们在 JavaScript 代码中表示 HTML，以一种更易读的方式。这对我们来说是方便的，另一方面，浏览器并不能自动理解
    JSX，因此我们将使用一个工具，比如 Babel 来转换。
- en: that jsx code into plain javascript that，our web browsers are ultimately going
    to。be able to understand，the best way to get a feel for this kind，of thing is
    just to see it in action。so i'll go ahead and create a couple of，react applications，just
    to get a sense for how it is that。you can use react in your own，applications，as
    well so let's start by taking a look，at react。html。
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 了解这种情况的最好方法就是看看它的实际运行效果。所以我将继续创建几个 React 应用程序，以便感受一下你如何在自己的应用程序中使用 React。所以让我们先来看看
    react.html。
- en: and what i have here is the beginning of，an html page，inside the head section
    what you'll。notice is i've already included these，three script tags，and what these
    script tags are doing are。just including those three javascript，libraries we were
    talking about。a moment ago i have a title for the page，just called react，and now
    let's start to fill in the body。
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个 HTML 页面的开始，在 head 部分你会注意到我已经包含了这三个 script 标签，而这些 script 标签的作用就是引入我们刚才提到的三种
    JavaScript 库。我给页面设置了一个标题，简单称为 react，现在让我们开始填充主体部分。
- en: of this web page，i'll begin by adding a div which i'll，give an id to i'll call
    it app。but i could call it anything and this is，where our application is going
    to go。but right now i'm just going to leave it，as empty it's going to be react's
    job to，fill in this div。with the contents of our user interface，and now beneath
    that div i'll start to，write some javascript。
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个网页中，我将首先添加一个 div，我会给它一个 ID，叫它 app。但我可以叫它任何名字，这就是我们的应用程序将要放置的地方。现在我只会让它保持为空，由
    React 来填充这个 div，包含我们的用户界面内容。现在在这个 div 下，我将开始写一些 JavaScript。
- en: but remember i'm not going to be writing，javascript per se but rather jsx that。extension
    to javascript，so in this case i'll need to add an，extra attribute type。equals
    text babel and all this is doing，is telling，my browser that it's going to need
    to。translate this jsx code into javascript，code that the browser is actually going。
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 但请记住，我不是在写 JavaScript，而是在写 JSX，这是 JavaScript 的一种扩展。因此，在这种情况下，我需要添加一个额外的属性 type
    等于 text/babel，这一切只是告诉我的浏览器，它需要将这个 JSX 代码转换成浏览器实际上能够理解的 JavaScript 代码。
- en: to be able to understand，before it tries to run this code in，practice if you
    were developing a real。application，what you would want to do is you would，want
    to do this translation ahead of。time prior to deploying the application，but here
    we're just going to translate，it on the fly。and so all of our react applications
    are，going to be composed of components。
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解这一点，首先在实际开发一个真正的应用程序之前，你需要提前进行这种翻译，在部署应用程序之前，但这里我们只是实时进行翻译。所以我们所有的 React
    应用程序都将由组件组成。
- en: where a component is just some part of，my web application's user interface。and
    to describe a component i can write，a javascript function，so i'll create a function
    called app。which is going to represent this app，component，and what's going to
    go inside of this。app component well it's a function so，it's going to return something。
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 组件只是我网络应用程序用户界面的一部分。为了描述一个组件，我可以写一个 JavaScript 函数，所以我将创建一个名为 app 的函数，它将代表这个
    app 组件，app 组件内部将返回某些内容。
- en: and what it's going to return is what，should appear，inside of that component
    and this app。component could really just be for，example，a div that says hello
    let's say。and this is where the power of jsx，really starts to come in，that here
    i can write html like syntax。inside of my javascript code and jsx is，going to
    be able to，understand it so this function right。
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 它将返回的内容是应该出现在该组件内部的内容，这个 app 组件实际上可以是一个简单的 div，上面写着“你好”。这就是 JSX 的强大之处，我可以在我的
    JavaScript 代码中写 HTML 类似的语法，而 JSX 能够理解它。因此，这个函数会将 JSX 代码转换成我们网络浏览器最终能够理解的普通 JavaScript。
- en: here is a function called app，that is representing a react component。and when
    this component is rendered，onto my web page it's going to say hello。so there's
    one last line i need inside，of my javascript now，and that is to actually render
    this。component into the page，to do that i'll say react dom dot render。
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个名为 app 的函数，代表一个 React 组件。当这个组件渲染到我的网页上时，它将显示“你好”。所以我在我的 JavaScript 中需要的最后一行，就是实际将这个组件渲染到页面中，为此我将使用
    react dom.dot render。
- en: and the first argument to this function，reactdom。render，is what component would
    i like to render。the component is this app component that，i just created，and so
    i'll say app again using this。html like syntax，and then the second argument is
    where on，the page would i like to render this。component，and i want to render this
    component，right here on line 10。
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数的第一个参数是`reactdom.render`，我想渲染哪个组件。组件是我刚创建的应用组件，所以我会再次使用这种类似HTML的语法，然后第二个参数是我希望在页面的哪个位置渲染这个组件，我想在第10行渲染这个组件。
- en: where i have a div whose id is app so，find，that particular div and to do that
    i can。just say document，hash app to say find the，element with an id of app and
    that is。where i would like to render，this app component so i first created，this
    empty div。then i defined this function，representing a react component，and then
    after that we're going to。
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我有一个id为app的div，所以找到那个特定的div，为此我可以只说`document.hash app`，表示找到一个id为app的元素，这就是我想渲染这个应用组件的地方，所以我首先创建了这个空div。然后我定义了这个表示React组件的函数，之后我们将要。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_5.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_5.png)'
- en: render that component inside，of the html page itself，so now if we were to open
    a browser and。see what this page actually looks like，i'll make the text a little
    bit bigger。you see that we actually do see，the word hello and if i make a change
    to。![](img/5d53683b6a69413d33c6e42e94e87297_7.png)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 将该组件渲染到HTML页面本身，所以现在如果我们打开浏览器，查看这个页面的实际样子，我会把文本稍微放大一些。你会看到我们确实看到了“你好”这个词，如果我做出更改。![](img/5d53683b6a69413d33c6e42e94e87297_7.png)
- en: the component，and refresh the page it will change the，page as well。![](img/5d53683b6a69413d33c6e42e94e87297_9.png)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 组件，刷新页面，它也会改变页面。![](img/5d53683b6a69413d33c6e42e94e87297_9.png)
- en: so if the component instead displayed，hello world，well then i refresh the page
    and the。![](img/5d53683b6a69413d33c6e42e94e87297_11.png)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 所以如果组件改为显示“你好，世界”，那么我刷新页面。![](img/5d53683b6a69413d33c6e42e94e87297_11.png)
- en: page now also，says hello world and because this is，javascript，i can add javascript
    code to the。function just as i could with any，function in javascript，imagine for
    example that i had some。variables like，let's create a variable x which is equal，to
    1 and a variable y which is equal to，2。inside of this div rather than just，render
    some text i can use curly braces。
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在页面也显示“你好，世界”，因为这是JavaScript，我可以向函数中添加JavaScript代码，就像我可以对JavaScript中的任何函数做的那样，假设我有一些变量，比如我们创建一个变量`x`，它等于1，还有一个变量`y`，它等于2。在这个div中，而不是仅仅渲染一些文本，我可以使用花括号。
- en: to say plug in the value of some，javascript expression，i could plug in the value
    of x plus y。for example and now by including x plus，y in these curly braces。javascript
    is going to evaluate what is。![](img/5d53683b6a69413d33c6e42e94e87297_13.png)
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要插入某个JavaScript表达式的值，我可以插入`x + y`的值。例如，现在通过在这些花括号中包含`x + y`，JavaScript会计算出结果。![](img/5d53683b6a69413d33c6e42e94e87297_13.png)
- en: x plus y and display that，inside of the div instead and so now。![](img/5d53683b6a69413d33c6e42e94e87297_15.png)
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`x + y`并将其显示在div内部，所以现在。![](img/5d53683b6a69413d33c6e42e94e87297_15.png)'
- en: when i refresh the page，you see that the page just says three，for example。and
    so that's the basics of react we，create these components，and then render those
    components all。using the power of javascript，but where react starts to get more。powerful
    is when we can reuse components，the whole idea of a component is it。
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 当我刷新页面时，你会看到页面上只显示三个，例如。所以这就是React的基础，我们创建这些组件，然后利用JavaScript的力量渲染这些组件，但React开始变得更强大的地方在于我们可以重用组件，组件的整体概念就是这样。
- en: represents some part of the user，interface，and i could reuse that same component。across
    multiple parts，of the interface as well imagine for，example that inside of my
    app component。i was going to render a div that had，three headings each of which
    said。hello so there's one heading there's，another one，and we'll add a third one
    there as well。
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 表示用户界面的某个部分，我可以在界面的多个部分重用同一个组件。例如，假设在我的应用组件内部，我要渲染一个包含三个标题的div，每个标题都说“你好”，所以有一个标题，还有另一个，我们也会添加第三个标题。
- en: so i have a div with three headings，inside of it，and we can see what that looks
    like each。one of them says hello，but there's some repetition here i'm，having to
    use this h1 tag three times。all to create exactly the same ui，element on the page，this
    is a case where i can create a。separate component and then just reuse，that component，rather
    than have to repeat myself。
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 所以我有一个包含三个标题的 div，在其中，我们可以看到每个标题的样子。它们都说“你好”，但这里有些重复，我不得不使用这个 h1 标签三次。全部都是为了在页面上创建完全相同的
    UI 元素，这是一个我可以创建一个单独组件并重复使用该组件，而不是必须重复自己的情况。
- en: multiple times so how could i do that，well remember that in javascript we can，write
    a function。to represent a react component so i'll，add another function here，and
    i'll call that function hello。because it's going to represent this，hello component，and
    this hello function is also going to。return something，and what it's going to return
    is a，heading in h1，that just says hello。
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 多次，我该如何做到这一点呢？好吧，记住在 JavaScript 中我们可以写一个函数来表示一个 React 组件，所以我将在这里添加另一个函数，我称这个函数为
    hello，因为它将表示这个 hello 组件，而这个 hello 函数也将返回某些东西，它将返回一个只是说 hello 的 h1 标题。
- en: and so now inside of my app component，rather than render three separate h1s。i
    can simplify this a little bit to just，say，hello here i'm saying go ahead and。render
    a hello component here，we'll render a second one and a third，one after that。each
    time i render a hello component，it's going to display。
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在在我的应用组件中，而不是渲染三个单独的 h1，我可以稍微简化一下，只说，hello，这里我说继续渲染一个 hello 组件，我们将渲染第二个和第三个组件。每次我渲染一个
    hello 组件，它都会显示。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_17.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_17.png)'
- en: as this heading that just says hello，so i refresh the page and nothing。![](img/5d53683b6a69413d33c6e42e94e87297_19.png)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这个标题只是说“你好”，所以我刷新页面，什么都没有。![](img/5d53683b6a69413d33c6e42e94e87297_19.png)
- en: changes i still see three headings each，of which says hello，because inside of
    my app component i'm。rendering this hello component three，times and，each time
    it's going to display this h1。but where components start to get more，powerful
    is when they're not always，time。but when we can parameterize those，components
    with properties。
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 更改后我仍然看到三个标题，每个都说“你好”，因为在我的应用组件内部，我渲染这个 hello 组件三次，每次都会显示这个 h1。但是当组件变得更强大时，并不是总是每次，而是当我们可以用属性参数化这些组件时。
- en: or as react simplifies them props short，for properties，so what would that mean
    we see that html。elements can take attributes，likewise react components can take。properties
    where maybe i don't just want，to say hello，but i want to say hello to someone
    hello。to harry or to ron or hermione for，example，so i could say hello name equals
    harry。
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 或者正如 React 简化它们的 props 简称，表示属性，那么这意味着什么呢？我们看到 HTML 元素可以接受属性，同样，React 组件也可以接受属性。也许我不仅仅想说“你好”，而是想对某人说“你好”，比如对哈利或罗恩或赫敏，所以我可以说
    hello name 等于哈利。
- en: using syntax much like an html，attribute then here say hello name，equals ron。and
    then finally hello name equals，hermione，and so now my hello component is，accepting
    this prop。this property called name which is，different for，all three of these
    components。and so inside this hello function now i，would like the hello function
    to take。
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 使用类似 HTML 属性的语法，那么在这里说 hello name 等于罗恩。最后 hello name 等于赫敏，现在我的 hello 组件正在接受这个属性，这个名为
    name 的属性对于这三个组件都是不同的。因此在这个 hello 函数内部，我希望 hello 函数能够利用这些属性。
- en: advantage of these properties of these，props，and so i'm going to add an argument
    to。the hello function that argument is，conventionally just called props。and now
    instead of just saying hello i'm，going to say hello comma，and then remember to
    plug in a。javascript value i use curly braces，and inside of those curly braces
    i can，say props。
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 利用这些属性的优势，所以我将给 hello 函数添加一个参数，这个参数通常称为 props。现在我不再只是说 hello，而是要说 hello，逗号，并且记得插入一个
    JavaScript 值，我使用花括号，在这些花括号内部，我可以说 props。
- en: dot and then whatever the name of the，property is in this case the name of the，property
    is just。name so i can say props dot name，to say whatever the name prop is go，ahead
    and plug that in。right here inside of the hello component，so the hello component
    is going to say，hello comma。![](img/5d53683b6a69413d33c6e42e94e87297_21.png)
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 点，然后无论属性的名称是什么，在这个案例中，属性的名称就是 name，所以我可以说 props.dot name，表示无论 name 属性是什么，请继续将其插入到
    hello 组件内部。因此，hello 组件将会说 hello，逗号。![](img/5d53683b6a69413d33c6e42e94e87297_21.png)
- en: and then someone's name so i can save，that，refresh the page and now i see hello。![](img/5d53683b6a69413d33c6e42e94e87297_23.png)
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 然后是某人的名字，这样我就可以保存，刷新页面，现在我看到“你好”。![](img/5d53683b6a69413d33c6e42e94e87297_23.png)
- en: harry hello ron，and hello hermione three different，components each of which
    is still just。this hello component，but we're rendering it with different，props
    one time with the name of harry。one time with the name of ron and one，time with
    the name，hermione and so this is where components。can start to get a little bit
    different，by passing in different props into those，components。
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: “哈利，您好，罗恩，您好，赫敏”，这三个不同的组件，每个组件仍然只是这个问候组件，但我们用不同的`props`进行渲染，一次是哈利的名字，一次是罗恩的名字，还有一次是赫敏的名字。因此，在这里组件可以通过传递不同的`props`开始变得有些不同。
- en: we can decide how that component is，ultimately going to render。but let's add
    to this a little bit and，start to add state，into our react components as well
    and。state is going to mean，any kind of data that we want to store，inside of the
    component itself。and for this let's try to recreate the，counter application，that
    we created when we first introduced。
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以决定这个组件最终将如何渲染。但让我们对此进行一些添加，开始在我们的`react`组件中添加状态。状态意味着我们想要存储在组件内部的任何数据。为了这个目的，让我们尝试重新创建我们首次介绍时创建的计数器应用程序。
- en: javascript where we were really just，count，and encounter it up from 0 1 2 3
    4 etc。so to do this let's create a new file，i'll create a new file and just call
    it，counter。html。and we can start just by copying the，contents of react。html，into
    our counter。html file we're still。going to use the same script tags and，we can
    still have an app component。
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript中，我们实际上只是在计数，从0到1，2，3，4等。因此，为了实现这个功能，让我们创建一个新文件，我将新文件命名为`counter.html`。我们可以通过将`react.html`的内容复制到我们的`counter.html`文件中开始，我们仍然会使用相同的`script`标签，并且我们仍然可以有一个`app`组件。
- en: but what's going to be inside this app，different，i'll change the title of the
    page to to，be counter。instead of react so what goes inside of，the app component，well
    if we're going to do this counting。we need a div that's going to display，to，something
    like zero to start with and。we're going to need a button this button，is just going
    to be，count which will be the label for that。
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 但是这个应用程序内部会有什么不同，我将把页面的标题改为“计数”，而不是“react”，那么应用组件内部应该放什么呢？如果我们要进行计数，我们需要一个`div`来显示，比如一开始是零。我们还需要一个按钮，这个按钮将只是“计数”，这将是它的标签。
- en: button。![](img/5d53683b6a69413d33c6e42e94e87297_25.png)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 按钮。![](img/5d53683b6a69413d33c6e42e94e87297_25.png)
- en: so a div that just says zero and a，button that says count，and now if i open
    up counter。html。i'll make it a little bigger you can see，that i have this number
    zero here。and a button that says count of course，right now clicking on the button
    doesn't，do anything。because i haven't written any javascript，code to say what
    should happen。
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，一个仅显示零的`div`和一个显示“计数”的按钮，现在如果我打开`counter.html`，我会放大一点，你可以看到我这里有一个数字零和一个按钮，上面写着“计数”，当然，现在点击这个按钮没有任何反应，因为我还没有写任何JavaScript代码来说明应该发生什么。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_27.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_27.png)'
- en: when this button is actually clicked on，but before we get there。let's modify
    this program a little bit，right now i've written the number zero。directly into
    the div itself，but it's not always going to be zero，eventually as i start counting
    by。pressing that count button，that number is going to change so what。
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 当这个按钮被点击时，但在我们到达那一步之前，让我们稍微修改一下这个程序，现在我已经将数字零直接写入了`div`本身，但它不总是会是零，最终当我开始通过按计数按钮来计数时，这个数字将会改变。
- en: i'm going to do now is factor this zero，out，into what's known as state inside
    of my，react component。and here one way to create state in my，react component，is
    to use a special function inside of，react。called use state this is one example
    of，a react hook，that allows me to add some additional。functionality into my react
    component，and the argument to react。ustate is。
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我现在要做的是将这个零分解为我在我的`react`组件内部所称的状态。创建状态的一个方法是在`react`内部使用一个特殊的函数，称为`use state`。这是一个`react
    hook`的例子，它允许我为我的`react`组件添加一些额外的功能，而`react`的参数是。
- en: going to be the initial value，of that state i'm going to start，counting and
    i want to start counting。from the number zero，so i'm going to include the number
    zero，as the argument。to this use state function so we're，going to start counting
    at zero。and what this u state function returns，is really an array of two things。
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是那个状态的初始值，我将开始计数，我希望从数字零开始，所以我将把数字零包含作为这个use state函数的参数，这样我们就可以从零开始计数。这个u
    state函数返回的实际上是一个包含两个元素的数组。
- en: it's going to be a variable that i can，give a name to i'll call it count。and
    also a function that i'm going to，call setcount，and that function is going to
    allow me。to set the value，for the state if ever i need to change，the state at
    some point in the future。so this u-state function accepts zero，the initial state
    as its argument。
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是一个我可以命名的变量，我会称之为count，还有一个函数，我将称之为setcount，这个函数将允许我在将来需要更改状态时设置状态的值。所以这个u-state函数接受零，作为其参数的初始状态。
- en: and then i get two things back i get the，state variable itself，called count
    and i get a function for。changing that state when i need to，so now instead of
    rendering a zero。inside of the div just by writing the，number zero，i'm going to
    instead in curly braces。go ahead and render whatever the value，zero，but eventually
    that number might change。
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我得到了两个返回值，我得到了状态变量本身，叫做count，还有一个用于在需要时更改该状态的函数。所以现在不再是通过在div中写数字零来渲染零，而是要在花括号中渲染这个值，零，但最终这个数字可能会改变。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_29.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_29.png)'
- en: and i want my ui to reflect the changes，in the underlying state so right now
    if，i refresh the page。![](img/5d53683b6a69413d33c6e42e94e87297_31.png)
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望我的UI能反映底层状态的变化，所以现在如果我刷新页面。![](img/5d53683b6a69413d33c6e42e94e87297_31.png)
- en: it still says zero because the initial，state was set to 0，but i could change
    that if initially。![](img/5d53683b6a69413d33c6e42e94e87297_33.png)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 它仍然显示零，因为初始状态被设置为0，但如果我最初可以改变它。![](img/5d53683b6a69413d33c6e42e94e87297_33.png)
- en: that initial state was some other value，i could refresh the page and see a。![](img/5d53683b6a69413d33c6e42e94e87297_35.png)
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这个初始状态是其他值，我可以刷新页面并看到。![](img/5d53683b6a69413d33c6e42e94e87297_35.png)
- en: different value appear for the count，instead，whatever the value of this count。variable
    is in the state，that's going to be what the user is，going to see。when they're
    looking at my user，interface and when they see my component。so now let's make
    this button actually，do something because right now the，number is never changing。
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的值出现在count上，而无论这个count变量在状态中是什么值，这将是用户在查看我的用户界面时看到的内容，当他们看到我的组件时。所以现在让我们让这个按钮实际上做点什么，因为现在数字从未变化。
- en: to do that i can add an on click handler，and notice one difference between。onclick
    and react and onclick as we，traditionally used it in javascript。i'm using this
    capital c and that's just，a common react convention。when we're defining event
    handlers and，here i'm going to say on click and then，in curly braces。
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我可以添加一个点击处理程序，并注意到onclick和React之间的一个区别，以及我们在JavaScript中传统使用的onclick。我使用了这个大写的C，这只是一个常见的React约定。当我们定义事件处理程序时，在这里我要说on
    click，然后用花括号。
- en: the name of a function a function that i，would like to run，when this button
    is clicked and i can。call that function whatever i'd like，i'll call it update
    count for example。and now what i need to do is define a，function called，update
    count and i'm going to define。that function，inside of this react component inside
    of，my app function。
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个函数的名称，我希望在点击这个按钮时运行的函数，我可以随意命名这个函数，我会称它为update count，例如。现在我需要做的是定义一个名为update
    count的函数，我将在这个React组件中定义该函数，在我的app函数内部。
- en: it turns out in javascript you can have，functions that are defined。inside of
    other functions so i'll define，this function，called update count and what do i
    want。the update count function to do，well what i'd like to do is just，increase
    count by one and you might。think that i could do that just by，saying count，equals
    count plus one but it turns out。
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在JavaScript中，事实证明你可以有在其他函数内部定义的函数。所以我会定义这个函数，叫做update count，我希望这个update count函数做什么呢？我想做的就是让count增加1，你可能会想，我可以通过说count等于count加1来做到，但事实并非如此。
- en: you can't quite do that，in react in react whenever whenever i'm，using this use
    state。if i want to change the state i have to，use this function，that use state
    provides to me for。whenever i want to set，the new value of the state so rather，than
    count equals count plus one。i have to use this set count function，and the argument
    to set count，count。
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在React中，你不能直接做到这一点，每当我使用这个use state时，如果我想改变状态，我必须使用这个use state为我提供的函数来设置新状态的值，而不是count等于count加一，我必须使用这个set
    count函数，并且set count的参数是count。
- en: is this function that is going to change，the underlying state。inside of my component
    and the argument，is what should the new state be。and in this case it's just going
    to be，count plus one，one more than whatever the count was。![](img/5d53683b6a69413d33c6e42e94e87297_37.png)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个将改变我组件内部底层状态的函数，参数是新的状态应该是什么，在这个例子中，它只是count加一，比count多一。![](img/5d53683b6a69413d33c6e42e94e87297_37.png)
- en: before，so i can save that and i'll go ahead and，refresh the page。it starts at
    a zero but every time i，click on this count button。![](img/5d53683b6a69413d33c6e42e94e87297_39.png)
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在此之前，我可以保存它，然后刷新页面。它从零开始，但每次我点击这个计数按钮时。![](img/5d53683b6a69413d33c6e42e94e87297_39.png)
- en: you'll notice the count increases by one，and again i have no code that's saying，go
    into the div and。change whatever is inside of the div all，i have inside of this
    div。is this reference to this state variable，count and whenever the state changes。javascript
    and in turn react knows that，what react needs to do。
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 你会注意到计数增加了一次，而我没有任何代码在说，进入div并改变div内部的内容，我在这个div里面的，只有对这个状态变量count的引用，每当状态变化时，JavaScript，反过来，React知道，React需要做的。
- en: is to recreate this component re-render，the component，by displaying the new
    value of this。state variable，and then when the button is clicked on，we're able
    to run this function to。change the value，of that underlying state so by taking，state，we
    can start to represent information。inside of our components，and then define what
    our component is，going to display as a。
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 是重新创建这个组件，重新渲染，显示这个状态变量的新值，当按钮被点击时，我们可以运行这个函数来改变，底层状态的值。因此，通过获取状态，我们可以开始在组件内表示信息，然后定义我们的组件将展示的内容。
- en: just by representing html in terms of，that underlying state deciding。how we
    should use that state in order to，render an interface。that the user is ultimately
    going to see，so let's now try and put these pieces。together and create a web application，that
    uses these abilities of react to，define state。
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 通过根据底层状态来表示HTML，决定我们应该如何使用该状态以呈现用户最终将看到的界面，所以让我们现在尝试将这些部分组合在一起，创建一个使用React定义状态的Web应用程序。
- en: and to manipulate that state and in turn，update a user interface。based on changes
    that are happening to，that underlying state，and we'll create an application that。will
    just display some simple，mathematical questions to the user。and quiz the user
    on some basic addition，facts for example，so let's create that application i'll。
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 并操作该状态，进而更新用户界面。基于正在发生的底层状态变化，我们将创建一个应用程序。它将向用户展示一些简单的数学问题，并对用户进行一些基本加法的测验，比如说，让我们创建这个应用程序。
- en: create a new file，and call it addition。html，and inside of edition。html i'll
    start。again just by copying，the contents of this counter。html file，because the。framework
    the structure of this page，will be similar，but i'll go ahead and clear out what's。inside
    of my，app component at least for now and so，to，render well let's go ahead and
    render a，div。
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新文件，命名为addition.html，在addition.html内部，我将开始。再次通过复制这个counter.html文件的内容，因为这个页面的框架结构将是类似的，但我会清除我的app组件里面的内容，至少现在是这样，所以，来渲染吧，让我们渲染一个div。
- en: and if i want to create an application，that's going to ask the user some，mathematical
    questions。and then prompt the user to type in an，answer there are at least。two
    parts of this user interface that，i'm going to need i'm going to need a，place
    to display。the addition fact answer like what is，one plus two for example。
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我想创建一个应用程序，向用户询问一些数学问题，然后提示用户输入答案，至少有两个部分的用户界面，我需要，我需要一个地方来展示加法的答案，比如说，一加二等于多少。
- en: and then i'll need an input field where，the user can type in their response
    to，that question。and then see if they got the question，right or wrong，so inside
    the div i'll start by creating。a div that displays the question itself。![](img/5d53683b6a69413d33c6e42e94e87297_41.png)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我需要一个输入框，让用户可以输入他们对那个问题的回答。接着查看他们的回答是对还是错，所以在这个div里我会开始创建一个显示问题本身的div。![](img/5d53683b6a69413d33c6e42e94e87297_41.png)
- en: something like one plus two and then，beneath that，i'll just add an input field
    eventually。we'll add more to this user interface，but for now，all we really need
    is a div that。displays the mathematical question，and an input for the user to
    type in，their response。so now if i go ahead and go to，addition。html，here's what
    i see i'll make it a little。
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 类似一加二，然后在下面，我会添加一个输入框。最终我们会在这个用户界面上添加更多内容，但现在我们真正需要的只是一个显示数学问题的div，以及一个供用户输入他们的响应的输入框。所以现在如果我继续去addition.html，这里是我看到的，我会把它稍微调整一下。
- en: bit bigger i see，oneplus 2 and then an input field where，the user could start
    to type in their。![](img/5d53683b6a69413d33c6e42e94e87297_43.png)
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 稍微大一点，我看到的是一加二，然后是一个输入框，用户可以开始输入他们的。![](img/5d53683b6a69413d33c6e42e94e87297_43.png)
- en: response，but just as we did before i don't want，to literally write the numbers
    1。and 2 into what i'm returning instead i，want these 1 and 2，to be based on some
    underlying state。inside of my application，the application is going to maintain，state
    about what two numbers to add。together，and then it's going to display a user，interface
    based on that state。
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 响应，但就像我们之前做的那样，我不想在返回的内容中逐字写出数字1和2，而是希望这1和2基于我的应用程序内部的一些基础状态。应用程序将维护有关要相加的两个数字的状态，然后根据该状态显示用户界面。
- en: so what could i do here well one thing i，could do，is again use react dot use
    state。start this number off as one and maybe，call this，num1 and then a function
    to set number，one。and then i could do it again let's，create num2 and set num2，to
    be react。ustate2 and i could have two。different pieces of state num1 and num2，each
    of which has a different function，set num1 and set num2。
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 那么我可以在这里做什么呢？我可以再次使用react的useState。将这个数字设为一，可能命名为num1，然后是一个设置数字一的函数。接着我可以再做一次，创建num2并将其设为react的ustate2，这样我就有两个不同的状态num1和num2，每个都有不同的函数，set
    num1和set num2。
- en: that are each representing the two，different numbers that i would like to，add
    together。but already this is starting to get，messy and over time as i add。more
    different pieces of state to the，moment，the state might start to get more and。more
    complex with more and more，different functions and variables，so it's often helpful
    and a common。
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 每个代表我想要相加的两个不同的数字。但这已经开始变得有些杂乱，随着时间的推移，我添加更多不同的状态，状态可能会变得越来越复杂，有更多不同的函数和变量，所以通常将多个状态合并是有帮助的，也是常见的做法。
- en: practice in react to combine multiple，pieces of state，just into one javascript
    object that's。maintaining，all of the different pieces of state for，this particular。component
    and to do that i'll again use，react。ustate，but instead of setting the state。initially
    to be a number like one，or two it's instead going to be a，javascript object。
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在react中练习将多个状态组合成一个JavaScript对象，以维护这个特定组件的所有不同状态部分。为了做到这一点，我将再次使用react的ustate，但不是将状态最初设置为一个数字，例如一或二，而是将其设置为一个JavaScript对象。
- en: that has keys and values where i could，say let num1，be the number one and let
    num2。be the number two much like a dictionary，in python for example。where i have
    multiple different values，num1 and num2，all together inside of the same object。and
    i can call that state，and have a variable and have a function，called setstate。
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 这有键和值，我可以说让num1是数字一，让num2是数字二，就像Python中的字典一样。例如，在同一个对象中，我有多个不同的值num1和num2，我可以调用这个状态，拥有一个变量，并有一个名为setstate的函数。
- en: that is going to update the value of，that state and so rather than have to，have。all
    of these different variables i can，simplify a little bit to just state。and a function
    to set the state and the，state now has these two different pieces。number one and
    number two，and so now instead of rendering，literally the number one。
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这个将更新那个状态的值，因此我可以将所有这些不同的变量简化为状态和一个设置状态的函数，而现在状态有这两个不同的部分：数字一和数字二，所以现在不需要逐字渲染数字一。
- en: using curly braces i can say state dot，num1，and instead of rendering literally
    the。number two i can say state，dot num2 drawing upon that state to。![](img/5d53683b6a69413d33c6e42e94e87297_45.png)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 使用花括号，我可以说`state.num1`，而不是直接渲染数字2，我可以说`state.num2`，利用状态来决定它将在用户界面中显示什么。 ![](img/5d53683b6a69413d33c6e42e94e87297_45.png)
- en: decide what it is going to appear，inside of the user interface and so。right
    now the page appears no different。![](img/5d53683b6a69413d33c6e42e94e87297_47.png)
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 决定它在用户界面中将出现什么，因此现在页面看起来没有什么不同。 ![](img/5d53683b6a69413d33c6e42e94e87297_47.png)
- en: but if i were to change those initial，values of the state maybe make it two。and
    four for example and then refresh，the page，well now it displays as two plus four。and
    so that's helpful we now have a user，interface where the numbers are based on，the
    state。but now what i'd like to do is add the，ability to keep track of what the
    user，typed in。
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 但是如果我更改状态的初始值，可能将其设置为2和4，然后刷新页面，那么现在它将显示为2加4。因此这很有帮助，我们现在有一个用户界面，数字基于状态。但现在我想做的是添加跟踪用户输入内容的能力。
- en: so we can tell if the user correctly，typed in the answer，to this mathematical
    problem and how。would i do that，well the state represents any，of，inside of this
    component and so in。addition to storing the two numbers，inside of the state，i
    likely also need to keep track of a。third piece of information，which is the response
    what did the user，type in。
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 所以我们可以判断用户是否正确输入了这个数学问题的答案，以及如何做到这一点。好吧，状态代表这个组件内部的任何内容，除了在状态中存储两个数字，我可能还需要跟踪第三个信息，即用户输入的响应是什么。
- en: into this text field and so i'll add a，third part of the state called response。that
    initially will just be the empty，string will just be nothing。and then this input
    field i'm going to，give it a value，and the value is going to be state dot。response，whatever
    the user typed in as the，response that's stored inside of the，state。
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我会在状态中添加第三部分，称为响应，最初将只是一个空字符串，也就是没有任何内容。然后，我要给这个输入框一个值，这个值将是状态中的`response`，无论用户作为响应输入了什么，都会存储在状态中。
- en: and that is going to be the value of，what shows up，in the input field and so
    that way。whatever's in the input field will have。![](img/5d53683b6a69413d33c6e42e94e87297_49.png)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是输入框中显示的值，因此无论输入框中有什么内容，都会有。 ![](img/5d53683b6a69413d33c6e42e94e87297_49.png)
- en: access to it inside of this，state。response variable，but there is a problem and
    here's the。problem i'll try refreshing the page，i'll go into this text field and
    let's。say i know the answer i know 2 plus 4 is，equal to 6。i'm now going to press
    6 on my keyboard。but as i press 6 on the keyboard，nothing's happening no 6 is
    appearing。
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这个`state.response`变量访问它，但存在一个问题。这个问题是，我尝试刷新页面，进入这个文本框，假设我知道答案，我知道2加4等于6。现在我将按下键盘上的6，但当我按下6时，什么也没有发生，6没有出现。
- en: inside of the text field even though i，am pressing the key，on the keyboard so
    why is that why is。![](img/5d53683b6a69413d33c6e42e94e87297_51.png)
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 即使我在键盘上按下按键，文本框内部也没有任何变化，那为什么呢？ ![](img/5d53683b6a69413d33c6e42e94e87297_51.png)
- en: the text field not updating，well the reason is the value of the，input field
    whatever appears in the。input field，is this value state。response and，string，and
    never changing what state。response。is equal to，and so i need to change this a
    little，bit i need to add。as an attribute to this input field on，change meaning
    when the input field。
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 文本框没有更新，原因在于输入框中的值，无论输入框中出现什么，都是这个值`state.response`，而这个字符串从未改变`state.response`的值。因此我需要稍微更改一下，我需要将一个属性添加到这个输入框上，表示在输入框发生变化时。
- en: changes i need to do something，and i'll call a function that i can call，update
    response。but again i could call that update，function whatever i'd like it's just
    the，run。whenever something changes in the input，field so let me now define。that
    update response function i'll，define a function，called update response and because
    it's。
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我需要进行一些更改，我将调用一个可以调用的函数，称为`update response`。但我可以根据需要调用这个更新函数，只要它在输入框中的内容发生更改时运行。让我现在定义这个更新响应函数，我将定义一个名为`update
    response`的函数，因为这是。
- en: an event handler，it can accept an argument which is the，event itself the fact
    that something has。changed，inside of the input field and when i，have access to
    this event it turns out。that if i want to figure out what it is，the user has typed
    into the input field。i can get at that with，event。target。value，and i'd only know
    that by looking at it。
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 事件处理程序可以接受一个参数，即事件本身，实际上是输入字段中的某些内容发生了变化。当我访问这个事件时，结果表明，如果我想找出用户在输入字段中输入的内容，我可以通过事件。目标。值来获取这个值，而我只有通过查看它才能知道。
- en: in the documentation but what i'd like，is for event。target。value to be the new，value。for
    this response and so what i'd like，to do，is do something like this set state and。what
    should the new value of the state，be，well i would like for response to no。longer
    be the empty string，but to now be event event。target。value。
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在文档中，我希望事件。目标。值成为这个响应的新值，因此我想做的是像这样设置状态，新的状态值应该是什么呢？我希望响应不再是空字符串，而是事件。事件。目标。值。
- en: and that is going to be the new value，for response，but i'm not quite done yet
    because state。doesn't just have response as one of the，parts of the state，the
    state also has num1 and num2。and those two pieces aren't really，changing so i
    could say all right num1，is just going to be。whatever state。num1 was that's not，changing
    and num2 is going to be，whatever state。
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这将成为响应的新值，但我还没有完全完成，因为状态不仅包含响应作为状态的一部分，状态还包含num1和num2，而这两个部分并没有真正改变，因此我可以说好吧，num1将保持为原来的状态。num1，这没有改变，num2将是，用户输入的内容。
- en: num2 was that's not，changing，the only thing that's changing is the，response。but
    this is starting to get a little bit，verbose and especially if i start adding，state。it's
    going to become difficult to manage，if i constantly have to repeat myself。for
    all of the parts of the state that，do，is just specify the parts of the state，that
    will change。
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: num2没有改变，唯一改变的是响应。但这开始变得有些冗长，尤其是如果我开始添加状态，就会变得难以管理，因为我必须不断重复自己。为了所有的状态部分，只需指定将要改变的状态部分。
- en: and ignore everything else and so one，shorthand way to do that。in javascript
    is to use what's known as，the spread operator，and it looks like this dot dot dot
    and。then state，and what this is saying is just use the，existing values of the
    state for。everything else like num1 and num2，the only thing to override is the
    new，value。
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 忽略其他所有内容，因此在JavaScript中有一种简便的方法称为扩展运算符，看起来像这样：省略号，然后是状态，这表示仅使用状态的现有值作为其他内容，如num1和num2，唯一要覆盖的是新的值。
- en: for the response and so this syntax here，is my way of saying，i would like to
    update the state。everything should stay the same，except for response which is
    now going，to be，event。target。value in other words。![](img/5d53683b6a69413d33c6e42e94e87297_53.png)
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我更新状态的一种方式，所有内容应该保持不变，除了响应，现在将是事件。目标。值，换句话说。![](img/5d53683b6a69413d33c6e42e94e87297_53.png)
- en: whatever it is the user typed in，into that input field and so i'll go，ahead
    and refresh the page。and now if i type a number like six you，actually see that
    number，appear in the input field so that's。great we've now displayed a question，state，and
    the user can type in a response。where that response is，also stored in the state
    now what i'd。
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 用户在那个输入字段中输入的任何内容，因此我将继续刷新页面。现在如果我输入一个数字，例如六，你实际上会看到这个数字出现在输入字段中，因此这很好，我们现在展示了一个问题状态，用户可以在其中输入响应，而该响应也存储在状态中。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_55.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_55.png)'
- en: like is when the user presses the enter，key on their keyboard，we check did they
    get the answer right。or did they get the answer，wrong and so how would i do that
    well，the first thing i need to do。is in this input field somehow detect，when a
    key is pressed，when a key is pressed what i'd like to。key，and if it was the enter
    key then let's，go ahead and check to see。
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 用户按下键盘上的回车键时，我们检查他们的答案是否正确。或者他们的答案是否错误，我该怎么做呢？第一件我需要做的事情是，在这个输入字段中以某种方式检测，当按下一个键时，如果按下的是回车键，那么我们就可以进行检查。
- en: what the actual sum of the two numbers，is and see if the user。got that right
    or wrong so let's add an，event handler，on key press is going to be equal to，something。again
    i can name this function whatever，i'd like i'll call it，input key press but again
    i could name。that anything，and now let's define that input keypress，function，so
    up above i'm going to define this。
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的两个数字之和是多少，并查看用户是否回答正确，所以让我们添加一个事件处理程序，键按下时将等于某个值。我可以随意命名这个函数，我称之为 input keypress，但我可以给它任何名字，现在让我们定义这个
    input keypress 函数。
- en: function called，input keypress again it takes that event，to happen。any time
    a key is pressed regardless of，whether it's a letter or a number or the，enter
    key。and so i want to check to make sure that，the key is actually the enter key
    that's。the only time that i want to now check，to see，if they got the question
    right or wrong。
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 定义一个名为 input keypress 的函数，它在任何键被按下时触发，无论是字母、数字还是回车键，因此我想检查确保按下的键实际上是回车键，只有在这种情况下我才想检查他们是否答对了。
- en: so i'll add here a condition，it's just javascript so i can say if，event dot
    key。is equal to enter well then let's go，ahead and check，and otherwise we don't
    have to do。anything i don't need an else case here，because nothing should happen。unless
    it's the enter key that was，actually pressed，and so now how do i check to see
    if the。
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 所以我在这里添加一个条件，这只是 JavaScript，所以我可以说如果事件的键等于回车，那么我们就继续检查，否则我们不需要做任何事情，这里不需要 else，因为除非实际按下的是回车键，否则什么都不应该发生。
- en: user got the answer right or wrong，well inside of state。num1 is the first，number，and
    inside of state。num2 is the second，number，so i could have a condition that checked，if
    state。num1 plus state。num2。is equal to state。response which is what，the user typed
    in，into the input field but that doesn't。quite work，because state。response that's
    a string，the user doesn't necessarily have to。
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 用户是否答对了，内部状态中 num1 是第一个数字，num2 是第二个数字，因此我可以有一个条件检查，如果 state.num1 加上 state.num2
    等于 state.response，也就是用户在输入框中输入的内容，但这并不完全奏效，因为 state.response 是一个字符串，用户不一定需要。
- en: type in numbers it's possible，the user is going to type in some，letters instead
    for example or other。characters instead，and so what i'm going to do first is，convert
    the response。into an integer if we're able to do so，so i'm going to define a variable
    called，answer。using the javascript function parseint，that takes a string，and tries
    to convert it into an integer。
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 用户输入数字时，可能会输入一些字母或其他字符，因此我首先要做的是将响应转换为整数，如果我们能够做到这一点，我会定义一个变量叫做 answer，使用 JavaScript
    函数 parseInt，该函数接受一个字符串并尝试将其转换为整数。
- en: so we're going to parse the end，state dot response，and now we can check if number
    one plus。number two，is equal to the answer well then this，means，the user got the
    question right。and else if the sum is not equal to the，answer that means the user。got
    the question wrong and so now what i，could do is handle those two different。
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将解析 end.state.response，现在我们可以检查 number one 加上 number two 是否等于答案，如果是，这意味着用户回答正确，如果和不等于答案，则意味着用户回答错误，现在我可以处理这两种不同的情况。
- en: scenarios in one case the user got the，question right，and we should do something
    and in，wrong。and we should do something else and，we're making that decision，by
    looking at the state of the。application by looking at what two，numbers we're supposed
    to be adding。and looking at what the user typed in as，their response，so what should
    we do when the user gets。
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在某种情况下，用户回答正确，我们应该做一些事情，而在错误时，我们应该做其他事情，我们通过查看应用程序的状态以及我们应该添加的两个数字来做出这个决定，看看用户输入的响应，所以当用户回答时我们应该怎么做。
- en: a question right or gets a question，wrong，well maybe this game is going to keep。score
    by maintaining a number for how，many questions，the user has gotten right and every
    time。the user gets a question right we could，increase that score by one。and any
    time the user gets a question，wrong we could decrease that score。
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如何检查问题是否正确，或者用户是否答错了，可能这个游戏会通过维护一个数字来记录用户回答正确的题目数量，每次用户回答正确时，我们可以将分数增加一，而每当用户答错时，我们可以减少分数。
- en: by one for example so how would we do，that，well the score is some piece of state。inside
    of the application，and so we're going to need to add to the。state right now in
    the state we're，storing a number one，a number two and a response i'll add to。that
    a score，where the score is going to start out as，just zero。
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，增加一，那么我们怎么做呢？分数是应用程序中的一部分状态，所以我们现在需要将其添加到状态中。目前在状态中，我们存储一个数字一、一个数字二和一个响应，我将添加一个分数，分数将从零开始。
- en: and we can render that score on the page，if i scroll down，to where we're returning
    the div to。render let's add，another day of it that says the score is，and then
    using curly braces plug in。![](img/5d53683b6a69413d33c6e42e94e87297_57.png)
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以在页面上渲染这个分数，如果我向下滚动到我们返回的 div，来渲染，让我们添加另一个 div，上面写着分数是，然后使用花括号插入。![](img/5d53683b6a69413d33c6e42e94e87297_57.png)
- en: whatever the value of，state dot score is whatever the score is，let's figure
    that out from the state。and let's display that in the user，interface，so now this
    user interface shows not，only a question。and an input field but also a score and。![](img/5d53683b6a69413d33c6e42e94e87297_59.png)
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 无论状态。分数的值是什么，分数是什么，让我们从状态中找出这个，并在用户界面中显示出来，所以现在这个用户界面显示的不仅是一个问题和一个输入框，还有一个分数。![](img/5d53683b6a69413d33c6e42e94e87297_59.png)
- en: the score starts out，so let's now go back to this function，when a key is pressed
    if it's the enter。key let's check to see if they got the，answer right or wrong，we
    check did the user actually get the。question right，if so what should we do well
    we should，increase the score。and how do we do that we do that by，calling the set
    state function。
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 分数开始时，所以现在回到这个函数，当按下一个键时，如果是回车键，我们就检查他们的答案对错，我们检查用户是否真的答对了问题，如果答对了，我们应该做什么呢？我们应该增加分数。那我们怎么做呢？我们通过调用设置状态函数来做到这一点。
- en: all of the state is going to be the same，so using that dot dot state spread，operator。the
    only thing that's different is the，score is going to be state dot score。plus one
    so we're updating the state，to increase the score by one and if the，user gets
    the question。wrong let's set the state to be，dot dot state and then the score
    is，going to be state。
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 所有状态都将保持不变，所以使用点点状态扩展运算符。唯一不同的是分数将是状态。分数加一，因此我们更新状态以将分数增加一。如果用户答错了，我们将状态设置为点点状态，然后分数将是状态。
- en: dot score minus one，so if the user gets the question right。![](img/5d53683b6a69413d33c6e42e94e87297_61.png)
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 点数减去一，所以如果用户答对了问题。![](img/5d53683b6a69413d33c6e42e94e87297_61.png)
- en: we increase the score by one，otherwise we decrease the score by one。and let's
    test that to see what it，actually looks like when we try this。in the user interface
    i'll refresh the，page，two plus four if i type in the correct，answer six。press
    return the score increases by one，if i typed in the wrong answer and say，eight
    press return。
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们分数增加一，否则我们减少分数一。让我们测试一下，看看当我们在用户界面中尝试这个时实际效果如何。我将刷新页面，两个加四，如果我输入正确答案六，按回车，分数增加一；如果我输入错误答案，比如说八，按回车。
- en: the score decreases by one so this，appears to work depending on whether i，get
    the question right。or wrong the score is able to update，increasing or decreasing，based
    on the result of that condition。now this game is pretty easy to get a，high score
    on right now because i can。just keep pressing return，over and over and over and
    the，question's never changing my response is。
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 分数减去一，因此这似乎取决于我是否答对了问题。分数能够根据结果更新，增加或减少。现在这个游戏很容易获得高分，因为我可以不停地按回车，问题从未改变，我的回答是。
- en: already there，and so the score keeps going up and up，and up so let's make the
    game a little。bit more interesting，every time the user gets a question，right let's
    display。a new question for them to answer and，how would we do that，well the question
    that's displayed to。![](img/5d53683b6a69413d33c6e42e94e87297_63.png)
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 已经存在，因此分数会不断上升。那么我们来让游戏更有趣一点，每当用户答对问题时，我们就显示一个新问题让他们回答，我们该怎么做呢？显示的问题是。![](img/5d53683b6a69413d33c6e42e94e87297_63.png)
- en: the user is based on two，underlying pieces of the state of the，component，it's
    based on state。num1 and it's based，on state。num2，so if i want to change the question
    all，i have to do。is when the user gets the question right，and i'm updating the
    state。instead of only updating the score let's，also update num1，and num2 and i
    could set these to be。
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 用户基于两个底层组件的状态，它基于状态。num1 和状态。num2，所以如果我想更改问题，我所要做的就是在用户答对问题时更新状态。除了更新分数外，我们还要更新
    num1 和 num2，我可以将它们设置为。
- en: specific values maybe like 5 and 10 for，example，but let's make it more interesting
    and。display a random number every time we'll，generate a random number，and so the
    user will be adding two。random numbers together every time，they get a new question
    right how do we，generate a random number。well math。random is a javascript，function
    that generates a random number，between 0 and 1。
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 具体的值可能像5和10，但让我们更有趣，每次显示一个随机数，我们将生成一个随机数，所以用户每次会把两个随机数相加，他们每次都会得到一个新问题。对吗？我们如何生成随机数呢？well
    math。random是一个生成0到1之间随机数的javascript函数。
- en: we can multiply it by 10 so now we're，getting a number between 0 and 10。but
    we don't want any decimals to appear，in the number so i'll go ahead and take。the
    ceiling of the number，math。seal to say if the number was like，5。8。we'll just go
    ahead and round that up to，six for example and we'll do the same，thing for number
    two。
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将其乘以10，现在我们得到的是一个介于0到10之间的数字。但我们不想让数字中出现小数，所以我会取这个数字的上限，math。seal，如果数字是5.8，我们就将其四舍五入到6，举个例子，我们对第二个数字做同样的事情。
- en: we'll take the ceiling of math。random，times 10。so every time the user gets a，question
    right。we'll update num1 and num2 to be new。![](img/5d53683b6a69413d33c6e42e94e87297_65.png)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将取math。random乘以10的上限。所以每次用户正确回答一个问题时，我们将更新num1和num2为新的。![](img/5d53683b6a69413d33c6e42e94e87297_65.png)
- en: random numbers generated just like this，and so let's go back and try it again
    we，see two plus four。i type in the correct answer six and the，question changes，eight
    plus five i type in the correct。answer press return my score，increases and the
    question changes again。this time if i get the answer wrong i，type in 10 for example。
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 随机数就这样生成，所以让我们回去再试一次，我们看到2加4。我输入正确答案6，问题变化为8加5，我输入正确答案并按回车，分数增加，问题再次变化。这次如果我答错，我输入10作为例子。
- en: watch my score decrease it went from two，down to one，but the question didn't
    change now i get。another opportunity to try to answer，this question，and when i
    answer it correctly the score。increases again，from one to two so this game is
    starting，my，score it's displaying different。questions there is at least one，user
    interface quirk right now and that。
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 看着我的分数下降，从二变成了一，问题没有改变，现在我又有了。一次回答问题的机会，当我正确回答时，分数。再次增加，从一到二，所以这个游戏开始了，我的，分数显示着不同的问题，现在至少有一个用户界面的小问题。
- en: is the fact that at the moment，when i get a question right and press。return
    i type in six and press return，the six still stays there ideally i get。a new question
    i'd like to clear out the，response，so the user can just type in whatever。the new
    answer is，rather than have to delete whatever they，typed in before and then type
    in a new。
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 目前的情况是，当我正确回答一个问题并按回车时，我输入6并按回车，6仍然保留在那里。理想情况下，我想得到一个新问题，我希望清空响应，以便用户可以直接输入新的答案，而不是必须删除之前输入的内容再输入新内容。
- en: number，so how could we do that reset whatever，is inside of the input field。well
    what's typed into the input field，is stored inside of the state。of my component
    it's stored inside of，state dot response。![](img/5d53683b6a69413d33c6e42e94e87297_67.png)
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，如何重置输入框中的内容呢？输入框中输入的内容存储在我组件的状态中，存储在，state.dot response中。![](img/5d53683b6a69413d33c6e42e94e87297_67.png)
- en: and so if i wanted to change that all i，would have to do，is say let's change
    the response to be。the empty string when the user gets a，question right we're
    going to update，these two numbers。increase the score and also clear out，the response，so
    that it's just the empty string and i。can do the same thing，if the user gets a
    question wrong，decrease the score by one。
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 所以如果我想改变这一切，我需要做的就是，当用户正确回答问题时，将响应清空为一个空字符串，我们将更新这两个数字，增加分数，同时也清空响应，使其仅为一个空字符串。如果用户回答错误，我也可以做同样的事情，分数减少一。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_69.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_69.png)'
- en: but also clear out that response back to，the empty string，so that there's nothing
    there and so now。we get a question i type in an answer，press return，and the input
    field clears out i get a。new question，and the score increases by one four，separate
    pieces of state。all changing at the same time and that，gets reflected in the user
    interface。
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 但也将那个响应清空为一个空字符串，这样就没有任何内容。现在我们得到一个问题，我输入答案，按回车，输入框清空，我得到一个新问题，分数增加了一，四个独立的状态同时改变，这反映在用户界面中。
- en: that i'm now able to see so i type in，another value，and the score increases
    and everything，updates。again all right so that's definitely，progress，one other
    user interface quirk that i。noticed here is that the input field，by default isn't
    automatically selected。where i would have to go in and click。
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我能够看到，所以我输入另一个值，分数增加了，一切都更新了。再次确认，这绝对是进步。我注意到的另一个用户界面小问题是，输入框默认并没有自动选中，我必须手动点击。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_71.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_71.png)'
- en: on the input field in order to highlight，it so that i can start typing in my，response，down，auto。focus
    attribute and just set that to be，true，so that the input field automatically。![](img/5d53683b6a69413d33c6e42e94e87297_73.png)
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在输入框上，为了突出显示它，以便我可以开始输入我的响应，使用自动聚焦属性并将其设置为true，以便输入框自动。![](img/5d53683b6a69413d33c6e42e94e87297_73.png)
- en: focuses when i，load the page for the first time so now，i refresh the page。![](img/5d53683b6a69413d33c6e42e94e87297_75.png)
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 当我第一次加载页面时，它会聚焦，所以现在我刷新了页面。![](img/5d53683b6a69413d33c6e42e94e87297_75.png)
- en: the input field is already highlighted，and immediately i can，start to try to
    play this game so now。that we have the basic functionality of，this app working，let's
    try and improve the css so that。the game looks a little bit nicer，i'll scroll
    up to the top of the page，and add a style tag。to the head section of my html page
    and，i'd like for this entire app。
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 输入框已经被高亮显示，我立即可以开始尝试玩这个游戏。所以现在我们有了这个应用程序的基本功能，让我们尝试改进CSS，使游戏看起来更好一点。我会滚动到页面顶部，并在我的HTML页面的头部添加一个样式标签，我希望这个整个应用程序。
- en: to be centered so i'll say text align is，going to be center，be。![](img/5d53683b6a69413d33c6e42e94e87297_77.png)
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 使其居中，所以我会说文本对齐将是居中，成为。![](img/5d53683b6a69413d33c6e42e94e87297_77.png)
- en: sans-serif because i prefer that font，for this particular game。so i refresh
    the page and now everything，is centered and the font。is different than what the
    default was，and what else would i like to have，changed。well this problem two plus
    four maybe，i'd like for that to be bigger i'd like，the problem to be big。
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我喜欢这种字体，所以在这个特定游戏中，我刷新了页面，现在一切都居中，字体与默认字体不同。还有什么我希望改变的呢？这个问题“二加四”，也许我希望它能更大，我希望这个问题能够更突出。
- en: and the score beneath that that can stay。![](img/5d53683b6a69413d33c6e42e94e87297_79.png)
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 而且下面的分数可以保持原样。![](img/5d53683b6a69413d33c6e42e94e87297_79.png)
- en: the same size that it is right now，so how would i do that well if i go back，to
    the html here。i'll go ahead and give this div where，i'm displaying the problem
    number one，plus number two。i'll give it an id of problem，and then if i scroll
    back up i'll say，for。the element with an id of problem let's。
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 保持目前的大小，那我该怎么做呢？如果我回到这里的HTML。我将为显示问题的div设置一个ID，问题是数字一加数字二。然后如果我向上滚动，我会说，对于ID为问题的元素，让我们。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_81.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_81.png)'
- en: go ahead and set the font size to be，bigger，and so now i see a big math equation
    2。plus 4 for example，the input field and then the smaller，score beneath it。so
    that's a nice ui enhancement a little，bit and now i can play the game get a，question
    right。and the score increases i get a question，wrong and i get to try again。
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 我继续设置字体大小更大，所以现在我看到一个大的数学方程式“2加4”，例如，输入框和下面较小的分数。所以这是一个不错的用户界面增强，稍微好一点，现在我可以玩这个游戏，答对一个问题，分数增加，答错一个问题，我可以再试一次。
- en: but maybe i'd like to offer more of a，visual indication，that the user got a
    question wrong maybe。anytime the user gets a question wrong，i'd like to change
    the color of this。text instead of being black instead it，should be red when the
    user。gets a question wrong and how could i go，about doing that。
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 但也许我希望提供更多的视觉指示，当用户答错问题时，也许每当用户答错问题，我希望将这个文本的颜色从黑色改为红色，当用户答错问题时，我该如何做到这一点。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_83.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_83.png)'
- en: well we can change the color of，something just by using css，if we had like a
    class called incorrect。for example if i scroll down here，and give this div a class
    name。which is how you add a class in react of，incorrect then i could use this
    class，name to style。it as red or not red so i could say，anything that has a class
    of incorrect。
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，我们可以通过使用CSS来更改某些事物的颜色，比如说如果我们有一个名为“incorrect”的类。例如，如果我在这里向下滚动，并给这个div一个类名，这就是在React中添加类的方式为“incorrect”，那么我可以使用这个类名来将它的样式设置为红色或不是红色，所以我可以说，任何带有“incorrect”类的东西。
- en: let's go ahead and give that。![](img/5d53683b6a69413d33c6e42e94e87297_85.png)
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们继续给它。![](img/5d53683b6a69413d33c6e42e94e87297_85.png)
- en: a color of red，and so now because i gave this problem a，class of incorrect。and
    i said turn all incorrect text to be，read we now see this text appear。as read
    but this again is not quite what，i want i don't want it to be read all of，the
    time。i only want it to be read when the user，has just gotten a question wrong
    when。
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 一种红色，因此现在因为我将这个问题归为错误的类别。我说将所有错误文本变为红色，我们现在看到这个文本出现为红色，但这并不是我想要的，我并不希望它一直是红色。我只希望在用户刚刚答错问题时变为红色。
- en: they were just incorrect，in answering a mathematical question and，so how could
    i represent that。information。![](img/5d53683b6a69413d33c6e42e94e87297_87.png)
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 他们刚刚在回答一个数学问题时是错误的，那么我该如何表示那条信息呢？![](img/5d53683b6a69413d33c6e42e94e87297_87.png)
- en: inside of my application well i'm going，to need some additional state。state
    again is any information that i，need to keep track of，inside of my component and
    now it seems。that in addition to the response and the，score and the numbers，i
    also want to keep track of did the。user just answer a question incorrectly，or
    not，so i'll add another piece to the state。
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的应用程序内部，我需要一些额外的状态。状态再次是我需要在组件内部跟踪的任何信息，现在看来，除了响应、分数和数字外，我还想跟踪用户是否刚刚错误回答了一个问题，所以我会在状态中添加另一部分。
- en: i'll call it incorrect，and initially it will be false they，didn't just get something
    incorrect。and now here if i scroll down to this，class name，rather than have it
    be incorrect all the，time。let me add in curly braces an expression，i'll say if
    state dot incorrect is true。using the ternary operator with a，question mark then，the
    class should be incorrect but。
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我将其命名为`incorrect`，起初它是`false`，他们并没有刚刚答错什么。现在，如果我向下滚动到这个类名，而不是让它一直是错误的，让我在花括号中添加一个表达式，我会说如果`state.incorrect`为`true`。使用三元运算符和问号，那么类应该是`incorrect`，但是。
- en: otherwise it shouldn't have a class of，incorrect it'll just be the empty string。and
    so this expression here allows me to，change the class of an html element。based
    on the underlying state if，state。incorrect is true，then this div will have a class
    of。incorrect and otherwise。
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 否则，它不应该有`incorrect`类，它将只是一个空字符串。因此这个表达式允许我根据底层状态更改HTML元素的类。如果`state.incorrect`为`true`，那么这个`div`将有一个`incorrect`类，否则。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_89.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_89.png)'
- en: it won't and so now when i load the page，for the first time，the text appears
    as black and what i。need to do，is when the user gets a question wrong i。![](img/5d53683b6a69413d33c6e42e94e87297_91.png)
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 它不会，因此现在当我第一次加载页面时，文本呈现为黑色，我需要做的是当用户答错一个问题时，我。![](img/5d53683b6a69413d33c6e42e94e87297_91.png)
- en: need to change the，state to indicate that they just got a，question wrong，how
    do i do that well here。is the set state call when the user gets，a question wrong，and
    in that case i'll go ahead and set。incorrect equal to true，and when the user gets
    a question right，we'll go ahead and set incorrect。equal to false we're modifying
    this one，additional piece of state based on。
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 需要更改状态以表明他们刚刚答错了一个问题，我该怎么做呢？这里是当用户答错问题时的设置状态调用，在这种情况下，我将`incorrect`设为`true`，当用户答对一个问题时，我们将`incorrect`设为`false`，我们正在根据。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_93.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_93.png)'
- en: whether the user，got the question right or wrong so now，if i load the page answer
    a question。correctly the score increases and i get，a new question，but if i answer
    a question incorrectly。and press return，you'll notice the score decreases the，input
    field clears out。and the text changes color because i，changed the value of that
    incorrect part。
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 无论用户是答对还是答错问题，现在，如果我加载页面，正确回答一个问题，分数增加，我得到了一个新问题，但如果我错误回答一个问题并按返回键，你会注意到分数减少，输入字段清空，文本颜色改变，因为我更改了那个错误部分的值。
- en: of the underlying state，and based on that we were able to see，the text color。change
    as well if i now get a question，correct press return，the text color changes back
    to black and。the score，increases and let's now add one final，piece of state or
    one final change to。the ui for this application，let's give me a way to win this
    game，maybe once i get to a score of 10。
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 基于底层状态，我们能够看到文本颜色的变化。如果我现在答对一个问题，按返回键，文本颜色又变回黑色，分数增加，现在让我们为这个应用程序添加最后一个状态或最终的界面更改，让我有办法赢得这个游戏，也许一旦我的分数达到10。
- en: '![](img/5d53683b6a69413d33c6e42e94e87297_95.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d53683b6a69413d33c6e42e94e87297_95.png)'
- en: by answering 10 questions correctly then，we're going to win the game。and how
    could i do that well remember，that each react component。can just be a javascript
    function and，this function is just immediately，returning this div。but it's a function
    so i can add，additional logic to it i can say，if state dot score。
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 通过正确回答10个问题，我们就会赢得比赛。我该如何做到呢？记住，每个React组件都可以只是一个JavaScript函数，这个函数立即返回这个div。但这是一个函数，所以我可以在其中添加额外的逻辑，我可以说，如果状态得分。
- en: is equal to 10 for example then rather，than render the old div，let's run return
    a new div。something like u1 and so that i can，style it i'll give it an id，the
    id will be winner。and if the id is winner，let's go ahead and make the font size
    72，pixels。and let's make the color green if i win，so i added some css just to
    style it。
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果等于10，例如，那么与其渲染旧的div，不如返回一个新的div。类似于u1，所以我可以为它设置样式，我会给它一个id，id将是winner。如果id是winner，我们就继续把字体大小设为72像素。如果我赢了，就让颜色变成绿色，所以我添加了一些CSS来设置样式。
- en: but really the only new logic is further，down below，where i'm here saying check
    the state if。the score is 10，well that means we win so instead of，returning the
    new problem。![](img/5d53683b6a69413d33c6e42e94e87297_97.png)
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 但实际上唯一的新逻辑是在下面进一步的地方，我在这里说检查状态。如果得分是10，那就意味着我们获胜，所以不返回新问题。![](img/5d53683b6a69413d33c6e42e94e87297_97.png)
- en: just return a div that says you won the，game，questions，every time i answer a
    question you're。noticing that the score is going to，increase by one，and every
    time we're generating new。random numbers to display，as the as what's going to
    appear in the，user interface。and once i get to question number 10 if，i answer
    it correctly，press return the entire ui changes。
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 只需返回一个显示你赢得了比赛的div，每次我回答一个问题时，你会注意到得分会增加1，而每次我们生成新的随机数以显示在用户界面上。一旦我回答到第10个问题，如果我答对了，按下返回键，整个用户界面就会改变。
- en: instead of the problem and an input。![](img/5d53683b6a69413d33c6e42e94e87297_99.png)
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 而不是问题和输入。![](img/5d53683b6a69413d33c6e42e94e87297_99.png)
- en: field and the score，i just see in green large text that i，won，and again i was
    able to do that by。looking here，at this condition where we're looking at，the value
    of the state。and if the state is 10 we're deciding，what's a retina，and this again
    is one of the great。powers of react this ability to use this，underlying state，and
    based on the value of the underlying。
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在字段和得分方面，我只看到绿色的大字显示我赢了，而我能够做到这一点是通过查看这个条件，我们在关注状态的值。如果状态是10，我们正在决定什么是视网膜，而这又是React的一个伟大功能，能够使用这个基础状态，并根据基础状态的值来进行判断。
- en: state decide what it is the user should，see。![](img/5d53683b6a69413d33c6e42e94e87297_101.png)
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 状态决定用户应该看到的内容。![](img/5d53683b6a69413d33c6e42e94e87297_101.png)
- en: in their user interface and react is，just one of many libraries that do。this
    type of thing other popular ones，include angular and vue，where all of these are
    just these web。frameworks that make it easy to be able，to create applications，that
    are able to respond to some。underlying state so that you the，programmer，don't
    have to worry about constantly。
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 在他们的用户界面中，React只是众多执行这种类型操作的库之一，其他流行的库包括Angular和Vue，所有这些都是使创建能够响应一些基础状态的应用程序变得简单的Web框架，这样你作为程序员就不必担心不断。
- en: having to manipulate various different，parts of the page，which especially especially
    as you。imagine websites like facebook or，twitter where there are many things。happening
    on the page at the same time，every time a new tweet comes in you。might get a notification
    and see a new，post in your main area of your news feed。
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 必须操作页面的不同部分，尤其是当你想象像Facebook或Twitter这样的网站时，页面上同时发生很多事情。每当有新推文进来时，你可能会收到通知，并在你的新闻源主区域看到新帖子。
- en: so these are the types of things that，you might want the application to be，able
    to more easily。handle for you where you describe what，the state is you describe
    what the page。should look like based on that，underlying state，and let the library
    whether it's react。or something else begin to handle the，process，of doing that
    for you and the world of，user interfaces。
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是你可能希望应用程序更轻松处理的类型的事情，你描述状态是什么，描述页面应该基于那个基础状态看起来像什么，让库（无论是React还是其他库）开始为你处理这个过程，在用户界面的世界里。
- en: is changing pretty quickly that a lot，changes in user interfaces in terms of，the
    technologies。and the tools that are quite popular but，they're really based on
    the same set of。underlying ideas the idea that we can，use javascript，in order
    to manipulate what it is the。user sees on their page in order to，detect what's
    happening based on。
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 正在快速变化的是用户界面的很多变化，涉及到的技术和工具相当流行，但它们实际上是基于同一组基本思想。这个思想是我们可以使用`javascript`来操控用户在页面上看到的内容，以便检测基于特定事件的发生。
- en: particular events like scrolling to the，bottom of the page，or typing something
    into an input field。and then responding，to those particular events by providing，some
    sort of function that gets called。anytime a particular event happens by，mixing
    that in with other features like。the ability to asynchronously，request information
    from an external。
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 比如滚动到页面底部或在输入框中输入内容，然后通过提供某种函数来响应这些特定事件，该函数会在特定事件发生时被调用，并与其他功能混合，例如异步请求外部服务器的信息。
- en: server or the ability to do computations，based on the values of the state like
    we，saw within react。we have the ability to create very，interesting engaging，dynamic
    user interfaces very very。quickly all just using the power，of combining python
    and javascript that。was web programming with python and。
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 或者基于状态值进行计算，就像我们在`react`中看到的那样。我们有能力非常快速地创建非常有趣和引人入胜的动态用户界面，这全靠将`python`和`javascript`结合的力量，这就是用`python`进行网页编程。
