- en: Building from Scratch
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从Scratch开始构建
- en: 原文：[https://cs50.harvard.edu/scratch/notes/9/](https://cs50.harvard.edu/scratch/notes/9/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://cs50.harvard.edu/scratch/notes/9/](https://cs50.harvard.edu/scratch/notes/9/)
- en: Broadcasts
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 广播
- en: A useful feature in Scratch will allow our sprites to communicate with each
    other.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Scratch 中的一个有用功能将允许我们的精灵之间相互通信。
- en: We’ll add our cat and dinosaur sprites, and rotate the dinosaur so it faces
    the cat.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将添加我们的猫和恐龙精灵，并将恐龙旋转使其面向猫。
- en: 'Now, we’ll have the cat say hello to the dinosaur:'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们将让猫向恐龙问候：
- en: '[PRE0]'
  id: totrans-6
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We’ll also have our dinosaur say hello back, but it should wait for two seconds:'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还将让恐龙回话，但它应该等待两秒钟：
- en: '[PRE1]'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: But now, if we want to have the cat say hello for just one second, we have to
    remember to change how long the dinosaur waits. And this will be more complex
    as we have more interactions, or even more sprites on the stage.
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 但是现在，如果我们想让猫只问候一秒钟，我们必须记得改变恐龙等待的时间。随着我们交互的增多，或者舞台上精灵的增多，这将会变得更加复杂。
- en: It turns out that our cat sprite can use **broadcasting**, or the ability to
    send a message or signal. And our dinosaur sprite can respond when it receives
    that message.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结果表明，我们的猫精灵可以使用**广播**，即发送消息或信号的能力。而我们的恐龙精灵在接收到该消息时会做出响应。
- en: 'In the Events category of blocks, we’ll use the “broadcast” block. We’ll use
    the dropdown to choose “New message”, and we’ll just call it “greet”:'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在积木的“事件”类别中，我们将使用“广播”积木。我们将使用下拉菜单选择“新消息”，并将其命名为“greet”：
- en: '[PRE2]'
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We’ll change our cat’s script to use that block to send a message when it’s
    done:'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将更改猫的脚本以使用该积木在完成时发送消息：
- en: '[PRE3]'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'And for our dinosaur, we can use the “when I receive” block:'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于我们的恐龙，我们可以使用“当我收到”积木：
- en: '[PRE4]'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now, our dinosaur will always respond when our cat finishes saying hello.
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，当我们的猫完成问候后，我们的恐龙总是会做出回应。
- en: Control the Duck
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 控制鸭子
- en: Let’s add a duck to our stage for [Control the Duck](https://scratch.mit.edu/projects/507464954/).
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们在舞台添加一只鸭子以控制[控制鸭子](https://scratch.mit.edu/projects/507464954/)。
- en: 'We can use the arrow keys to control it, but let’s add two arrows sprites to
    the stage, and rotate one so it’s pointing up, and the other so it’s pointing
    down:'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以使用箭头键来控制它，但让我们在舞台上添加两个箭头精灵，并将其中一个旋转使其向上，另一个向下：
- en: '![stage with arrows and duck](../Images/980014d5a10e8122adf9a9f78d0a7a80.png)'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![带有箭头和鸭子的舞台](../Images/980014d5a10e8122adf9a9f78d0a7a80.png)'
- en: 'For the arrow pointing up, we’ll tell it to broadcast a message of “up” whenever
    it’s clicked:'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于指向上方的箭头，我们将告诉它在点击时广播一个“up”的消息：
- en: '[PRE5]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'And for the arrow pointing down, we’ll broadcast another message, “down”:'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于指向下方的箭头，我们将广播另一个消息，“down”：
- en: '[PRE6]'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'For our duck, we’ll tell it to move up or down based on the message it receives:'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于我们的鸭子，我们将告诉它根据接收到的消息上下移动：
- en: '[PRE7]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Now, each of the arrow sprites will broadcast a message when they are clicked,
    and our duck will move when it receives a message.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，每个箭头精灵在点击时都会广播一个消息，而鸭子在接收到消息时会移动。
- en: Visiting Fish
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问鱼
- en: The stage can broadcast messages as well, as we’ll see in [Visiting Fish](https://scratch.mit.edu/projects/507465389/).
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 舞台也可以广播消息，正如我们将在[访问鱼](https://scratch.mit.edu/projects/507465389/)中看到的。
- en: We’ll change our backdrop to “Underwater 1”, and add a fish sprite.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将把背景更改为“水下1”，并添加一个鱼精灵。
- en: 'Now, we can click on the backdrop in the bottom right, and in the Code tab,
    add the “when stage clicked” block in the Events section:'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以点击右下角的背景，并在代码选项卡中，在事件部分添加“当舞台点击”积木：
- en: '[PRE8]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Then, we’ll broadcast a new message that we’ll call “visit”.
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们将广播一个新的消息，我们将其命名为“visit”。
- en: 'We’ll tell our fish to go to our mouse pointer when it receives the “visit”
    message:'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当我们的鱼接收到“visit”消息时，我们将告诉它去我们的鼠标指针：
- en: '[PRE9]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now, after we click the flag, we can click anywhere on the stage and our fish
    will move to it.
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，点击旗帜后，我们可以在舞台上的任何地方点击，我们的鱼就会移动到那里。
- en: Stars
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 星星
- en: Let’s see how we might be able to clone, or copy, a sprite with [Stars](https://scratch.mit.edu/projects/507465575/).
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们看看我们如何能够使用[星星](https://scratch.mit.edu/projects/507465575/)克隆或复制一个精灵。
- en: 'With our plain white backdrop and a star sprite, we’ll add the following blocks:'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用我们朴素的白色背景和星星精灵，我们将添加以下积木：
- en: '[PRE10]'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The “create clone” and “when I start as a clone” blocks are in the Control section
    of blocks.
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: “创建克隆”和“当我作为克隆体开始”积木位于积木的“控制”部分。
- en: Now, whenever our star is clicked, it will make a copy of itself. Then, the
    copy will run whatever script is under “when I start as a clone”, moving itself
    to a random position on the stage.
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，每次点击星星时，它都会复制自己。然后，副本将运行“当我作为克隆体开始”下的任何脚本，将自己移动到舞台上的随机位置。
- en: Crystal Catch
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 晶石捕捉
- en: Let’s remove our stars, and build a fully complete game with [Crystal Catch](https://scratch.mit.edu/projects/507465773/).
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们移除我们的星星，并使用[Crystal Catch](https://scratch.mit.edu/projects/507465773/)构建一个完全完整的游戏。
- en: We’ll start by using our cat, and try to build a game where we’re catching the
    “Crystal” sprite. We’ll ultimately want crystals to fall from the sky, and for
    the cat to catch them before they reach the ground.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将从我们的猫开始，尝试构建一个捕捉“Crystal”精灵的游戏。我们最终希望水晶从天空落下，而猫在它们到达地面之前捕捉到它们。
- en: 'First, we’ll add blocks for our cat to move left and right with the arrow keys:'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先，我们将添加用于猫左右移动的箭头键的方块：
- en: '[PRE11]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Then, we’ll want our cat to start in the middle of the stage when the green
    flag is clicked:'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们希望我们的猫在点击绿色旗帜时从舞台中央开始：
- en: '[PRE12]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: We’ll also say some instructions for our user.
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还会为我们的用户提供一些说明。
- en: We should hide the crystal before the game starts, and then make clones of itself
    since we’ll want many crystals to appear. Before that, we’ll need our cat to broadcast
    a message, “begin”.
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在游戏开始之前，我们应该隐藏水晶，然后创建它的克隆，因为我们希望出现许多水晶。在此之前，我们需要我们的猫广播一条消息，“开始”。
- en: 'Now we can tell our crystal to hide itself at the beginning, and make clones
    of itself when the game has started:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以让我们的水晶在游戏开始时隐藏自己，并创建自己的克隆：
- en: '[PRE13]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Then, when the crystal starts as a clone, it should show itself:'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，当水晶作为一个克隆体开始时，它应该显示自己：
- en: '[PRE14]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: After our crystal appears, it will start at the top center of the stage, and
    move down over and over in a forever loop.
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们的水晶出现后，它将从舞台顶部中央开始，并不断向下移动，形成一个永无止境的循环。
- en: Notice that we’re building our game one component at a time, and we can always
    start our program to make sure that everything we’ve made is working so far.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注意，我们一次构建游戏的一个组件，并且我们可以始终启动程序来确保到目前为止我们所做的一切都在工作。
- en: 'Next, our crystal will need to check if it is touching the cat:'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，我们的水晶需要检查它是否接触到了猫：
- en: '[PRE15]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'We’ll make a new variable called “catches” to represent the score, and we’ll
    reset it in our cat’s script, since we’re doing other resetting there as well:'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将创建一个新的变量“catches”来表示得分，并在猫的脚本中重置它，因为我们也在那里进行其他重置：
- en: '[PRE16]'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Now we can go back to our crystal’s script, and add blocks for what we need
    to do when it touches our cat:'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以回到我们的水晶脚本，并添加当它接触到我们的猫时需要执行的方块：
- en: '[PRE17]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: We’ll need to increase our “catches” variable by 1, to keep track of our score.
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们需要将“catches”变量增加1，以跟踪我们的得分。
- en: Then, we need to create a new crystal, and make our original crystal delete
    itself.
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们需要创建一个新的水晶，并让原始水晶删除自己。
- en: The new crystal will start at the top of the screen, since it’s a new clone.
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新的水晶将从屏幕顶部开始，因为它是一个新的克隆。
- en: 'Let’s change the x value of the crystal’s position to something random, so
    our game has some unpredictability. The far left and far right of the stage will
    be some big numbers, so we’ll use negative 200 and 200:'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们改变水晶位置的x值到一个随机的值，这样我们的游戏就有了一些不可预测性。舞台的左右两侧将是很大的数字，所以我们将使用-200和200：
- en: '[PRE18]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Now, our crystals will appear in different spots every time.
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们的水晶每次都会出现在不同的位置。
- en: If we don’t catch the crystal, we might want to count the number of misses there
    has been so far.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们没有捕捉到水晶，我们可能想要计算到目前为止的失误次数。
- en: 'We’ll create a new variable called “misses”, which will keep track of the number
    of times that our cat has not caught the crystal. We’ll reset this to 0 every
    time the game is started, as well:'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将创建一个新的变量“misses”，它将跟踪我们的猫没有捕捉到水晶的次数。每次游戏开始时，我们将将其重置为0：
- en: '[PRE19]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Now, we can tell our crystal to check if it’s touching the ground (or edge):'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以让我们的水晶检查它是否接触到了地面（或边缘）：
- en: '[PRE20]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: If our crystal reaches the edge, we’ll increase the value of “misses”, and then
    create a new clone, and delete this clone.
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们的水晶到达边缘，我们将增加“misses”的值，然后创建一个新的克隆体，并删除这个克隆体。
- en: 'We might want a limit to the number of misses we can have, so we can have a
    condition to check for that:'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可能想要限制可以有的失误次数，因此我们可以有一个条件来检查这一点：
- en: '[PRE21]'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: After we miss, we’ll check if the number is three. If so, we’ll broadcast a
    message for our cat, and then delete this clone.
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们错过之后，我们将检查数字是否为三。如果是，我们将为我们的猫广播一条消息，然后删除这个克隆体。
- en: 'Finally, in our cat’s script, we can say our score when we receive that message:'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，在我们的猫的脚本中，我们可以说出我们收到消息时的得分：
- en: '[PRE22]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'We can try this, and see that our program is working as we intended. We can
    create more crystals at a time, by having our crystal clone itself over and over:'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以尝试这样做，并看到我们的程序按预期工作。我们可以通过让水晶不断克隆自己来一次创建多个水晶：
- en: '[PRE23]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Now, every 15 seconds, a new crystal will be created.
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，每15秒就会创建一个新的水晶。
- en: 'But we see that when the game ends, new crystals will still be created. So,
    we’ll need our cat to stop everything in our program:'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 但是我们注意到，当游戏结束时，新的水晶仍然会继续创建。所以，我们需要让我们的猫在我们的程序中停止一切：
- en: '[PRE24]'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: With these examples, hopefully you can see how all of these components, tools,
    and concepts can be used to build interesting and exciting projects in Scratch.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过这些示例，希望你能看到所有这些组件、工具和概念如何被用来在Scratch中构建有趣和令人兴奋的项目。
- en: We encourage you to create something of your own, and share it with your friends,
    family and us. Thanks for joining us in Introduction to Programming with Scratch!
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们鼓励你创建一些自己的东西，并与你的朋友、家人和我们分享。感谢你加入我们，一起学习Scratch编程入门！
