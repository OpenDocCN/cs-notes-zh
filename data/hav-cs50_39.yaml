- en: Lecture 1
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 讲座 1
- en: 原文：[https://cs50.harvard.edu/r/notes/1/](https://cs50.harvard.edu/r/notes/1/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://cs50.harvard.edu/r/notes/1/](https://cs50.harvard.edu/r/notes/1/)
- en: '[Welcome!](#welcome)'
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[欢迎！](#welcome)'
- en: '[IDE](#ide)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[IDE](#ide)'
- en: '[Creating Your First Program](#creating-your-first-program)'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[创建您的第一个程序](#creating-your-first-program)'
- en: '[Functions](#functions)'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[函数](#functions)'
- en: '[Bugs](#bugs)'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[错误](#bugs)'
- en: '[`readline`](#readline)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[readline](#readline)'
- en: '[`paste`](#paste)'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[paste](#paste)'
- en: '[Documentation](#documentation)'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[文档](#documentation)'
- en: '[Arithmetic](#arithmetic)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[算术](#arithmetic)'
- en: '[Tables](#tables)'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[表格](#tables)'
- en: '[Vectors](#vectors)'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[向量](#vectors)'
- en: '[Vector Arithmetic](#vector-arithmetic)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[向量算术](#vector-arithmetic)'
- en: '[External Data](#external-data)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[外部数据](#external-data)'
- en: '[Special Values](#special-values)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[特殊值](#special-values)'
- en: '[`factor`](#factor)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[factor](#factor)'
- en: '[Summing Up](#summing-up)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[总结](#summing-up)'
- en: Welcome!
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 欢迎！
- en: Welcome to CS50’s Introduction to Programming with R!
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 欢迎来到 CS50 的 R 编程入门课程！
- en: '*Programming* is a way by which we can communicate instructions to a computer.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*编程* 是一种我们可以向计算机传达指令的方式。'
- en: There are many *programming languages* that one can use to program, including
    *C*, *Python*, *Java*, *R*, and so on!
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有许多 *编程语言* 可以用来编程，包括 *C*、*Python*、*Java*、*R* 等等！
- en: We can use R to answer questions dealing with data, such as modeling how COVID-19
    was spread on a cruise ship. R can also be used to visualize answers to those
    questions.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以使用 R 来回答有关数据的问题，例如模拟 COVID-19 在游轮上的传播情况。R 也可以用来可视化这些问题的答案。
- en: IDE
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IDE
- en: An *IDE* is an Integrated Development Environment, which is a pre-configured
    set of tools that can be used to program.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*集成开发环境*（IDE）是一个预配置的工具集，可以用来编程。'
- en: R has its own IDE called *RStudio*, which is used to exclusively program R.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: R 有自己的 IDE，称为 *RStudio*，用于专门编写 R 代码。
- en: In RStudio, notice the `>` symbol. This denotes the R console, where we can
    issue commands.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 RStudio 中，注意 `>` 符号。这表示 R 控制台，我们可以在此处发出命令。
- en: Creating Your First Program
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建您的第一个程序
- en: You can create your first program by typing `file.create("hello.R")` in the
    R console and hitting the `enter` or `return` key on your keyboard.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以通过在 R 控制台中输入 `file.create("hello.R")` 并按键盘上的 `enter` 或 `return` 键来创建您的第一个程序。
- en: Notice that `hello.R` ends in `.R`. You might have seen other files with a `.jpg`
    or `.gif` extension in the past. `.R` is the specific file extension used by R.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注意 `hello.R` 以 `.R` 结尾。你可能以前见过其他以 `.jpg` 或 `.gif` 扩展名结尾的文件。`.R` 是 R 使用的特定文件扩展名。
- en: When you issued the command above, you should see `[1] TRUE` in the R console.
    More on that later!
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当你发出上述命令时，你应该在 R 控制台中看到 `[1] TRUE`。关于这一点，稍后会有更多介绍！
- en: To the right of the R console, you can access the *file explorer*. Notice how
    `hello.R` is created in our *working directory*—the place where all our files
    will be saved by default.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 R 控制台的右侧，您可以访问 *文件资源管理器*。注意 `hello.R` 是在我们的工作目录中创建的——所有文件都将默认保存在此位置。
- en: We can open our `hello.R` file by double-clicking it.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以通过双击它来打开我们的 `hello.R` 文件。
- en: The *file editor* will now appear, a place where we can write many lines of
    code.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*文件编辑器*现在将出现，这是一个我们可以编写多行代码的地方。'
- en: 'In the file editor, type out your first program as follows:'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在文件编辑器中，按照以下方式输入您的第一个程序：
- en: '[PRE0]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Notice all the text and characters that appear here. They are all necessary.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意这里出现的所有文本和字符。它们都是必要的。
- en: You can save by clicking on the *save* icon.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以通过点击 *保存* 图标来保存。
- en: You may be used to running programs by double-clicking an icon. Within R, we
    have to take a different approach to run our program.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可能习惯于通过双击图标来运行程序。在 R 中，我们必须采取不同的方法来运行我们的程序。
- en: R is more than a programming language. It is also an interpreter that changes
    our *source code* into something the computer understands and can run.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: R 不仅仅是一种编程语言。它还是一个解释器，可以将我们的 *源代码* 转换为计算机可以理解和运行的格式。
- en: We can execute this process by clicking the *run* button. Notice how `hello,
    world` is now displayed. Well done!
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以通过点击 *运行* 按钮来执行此过程。注意 `hello, world` 现在已经显示出来。做得好！
- en: Functions
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 函数
- en: '*Functions* are a way by which we can run a set of instructions.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*函数* 是一种我们可以运行一系列指令的方式。'
- en: In your code, `print` is a function to which `"hello world"` is passed. What
    we pass to a function we call an `argument`.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您的代码中，`print` 是一个将 `"hello world"` 传递给它的函数。我们传递给函数的内容称为 `参数`。
- en: The side effect of this function is that `hello, world` is displayed in the
    R console.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个函数的副作用是在 R 控制台中显示 `hello, world`。
- en: Bugs
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 错误
- en: '*Bugs* are unintentional mistakes that can manifest in one’s code.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*错误* 是代码中无意中出现的错误。'
- en: 'Modify your code as follows:'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改您的代码：
- en: '[PRE1]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Notice the missing `t` in `prin`.
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `prin` 中缺少的 `t`。
- en: Running your code, you will notice how an error is produced.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行你的代码，你会注意到产生了错误。
- en: '*Debugging* is the process of finding and eliminating bugs.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*调试*是寻找和消除错误的过程。'
- en: '`readline`'
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`readline`'
- en: Within R, the function `readline` can read input from the user.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在R中，函数`readline`可以从用户那里读取输入。
- en: 'Modify your code as follows:'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改你的代码：
- en: '[PRE2]'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Notice how `Carter` will always appear if we run this code.
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意如果我们运行此代码，`Carter`将始终出现。
- en: We need to create a way by which we can read and use what is given by the user
    as a name.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们需要创建一种方法，通过这种方法我们可以读取和使用用户提供的名称。
- en: Functions don’t just have arguments and side effects. They also have *return
    values*. Return values are provided back by functions. We can store returned values
    as *variables*. In R, *variables* can also be called *objects* to avoid confusion
    with statistical variables—a different concept!
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数不仅仅有参数和副作用，它们还有*返回值*。返回值是由函数提供的。我们可以将返回值存储为*变量*。在R中，*变量*也可以称为*对象*，以避免与统计变量混淆——这是一个不同的概念！
- en: 'Modify your code as follows:'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改你的代码：
- en: '[PRE3]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Notice how the variable called `name` stores the return value of `readline`.
    The arrow `<-` indicates that the return value is traveling from `readline` to
    `name`. This arrow is called the *assignment operator*.
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意名为`name`的变量存储了`readline`的返回值。箭头`<-`表示返回值是从`readline`流向`name`的。这个箭头被称为*赋值运算符*。
- en: Running this code and opening the *environment* window on the right of our IDE,
    you can see the variables that are within your program and what is stored within
    them.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此代码并打开IDE右侧的*环境*窗口，你可以看到程序中的变量以及它们存储的内容。
- en: '`paste`'
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`paste`'
- en: Still, running this code, notice how “name” always appears. This is clearly
    a bug!
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管如此，运行此代码，注意“name”总是出现。这显然是一个错误！
- en: 'We can correct this bug as follows:'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以按照以下方式纠正这个错误：
- en: '[PRE4]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Notice how the first line of code remains unchanged. Notice how we create a
    new variable called `greeting` and assign the *string concatenation* of “Hello,
    “ and `name` together to `greeting`. *Strings* sets of characters. Two separate
    strings are combined into one using the `paste` function. The resulting variable,
    `greeting` is printed using the `print` function.
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意代码的第一行保持不变。注意我们创建了一个名为`greeting`的新变量，并将“Hello, ”和`name`的字符串连接赋值给`greeting`。*字符串*是一组字符。两个单独的字符串通过`paste`函数合并成一个。使用`print`函数打印出结果变量`greeting`。
- en: Running this code, notice the new variable that appears in the environment.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此代码，注意环境中出现的新变量。
- en: If you are being particularly observant, there is still a bug! Two spaces are
    stored in greeting, between “Hello,” and the value of `name`.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你特别留心，仍然有一个错误！在“Hello,”和`name`的值之间存储了两个空格。
- en: Documentation
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档
- en: The *documentation* for `paste` can be accessed by typing `?paste` in the R
    console. Accordingly, the documentation for `paste` will appear. Reading this
    documentation, one can learn the various *parameters* one can use with `paste`.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以通过在R控制台中输入`?paste`来访问`paste`的*文档*。相应地，`paste`的文档将出现。阅读此文档，可以了解可以使用`paste`的各种*参数*。
- en: One parameter relevant to our current work is `sep`.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与我们当前工作相关的参数之一是`sep`。
- en: 'Modify your code as follows:'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改你的代码：
- en: '[PRE5]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Notice how `sep = ""` is added to the code.
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意代码中添加了`sep = ""`。
- en: Running this program, you will see the output now works as intended.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此程序，你会看到输出现在按预期工作。
- en: 'It just so happens that programmers have often had a need to omit these extra
    spaces by setting `sep` equal to `""`. Thus, they invented `paste0`, which concatenates
    strings without any separating characters. `paste0` can be used as follows:'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恰好程序员经常需要通过将`sep`设置为`""`来省略这些额外的空格。因此，他们发明了`paste0`，它可以不使用任何分隔字符连接字符串。`paste0`可以使用如下：
- en: '[PRE6]'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Notice how `paste` becomes `paste0`.
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`paste`变成了`paste0`。
- en: 'Your program can be further simplified as follows:'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的程序可以进一步简化如下：
- en: '[PRE7]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Notice how `greeting` is eliminated by directly passing the `paste` return value
    as the input value of `print`.
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`greeting`是通过直接将`paste`的返回值作为`print`的输入值来消除的。
- en: In the end, when nesting functions within functions as above, do consider how
    you and others may be further challenged in reading your code. Sometimes, too
    much nesting can result in not being able to understand what the code is doing.
    This is a *design* decision. That is, you will often make decisions about your
    code to benefit both your users and programmers.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，当在函数内部嵌套函数，如上所示时，请考虑你和他人阅读代码时可能遇到的进一步挑战。有时，过多的嵌套可能会导致无法理解代码在做什么。这是一个*设计*决策。也就是说，你将经常做出关于代码的决定，以使你的用户和程序员都受益。
- en: Further, a *style* decision you might make is to include comments using the
    `#` symbol, where you describe what a section of code is doing.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，你可能做出的一个*风格*决策是使用`#`符号添加注释，其中描述代码部分的功能。
- en: Arithmetic
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 算术
- en: Let’s create a new program that will count votes for some fictional characters.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们创建一个新的程序，用来统计一些虚构角色的票数。
- en: Close the `hello.R` file.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关闭`hello.R`文件。
- en: In your console, type `file.create("count.R")`.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你的控制台中输入`file.create("count.R")`。
- en: 'Create your code as follows:'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式创建你的代码：
- en: '[PRE8]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Notice how the return values of `readline` are stored in three variables called
    `mario`, `peach`, and `bowser`. The variable `total` is assigned the values of
    `mario`, `peach`, and `bowser` added together. Then, the total is printed.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到`readline`的返回值被存储在三个变量中，分别命名为`mario`、`peach`和`bowser`。变量`total`被分配了`mario`、`peach`和`bowser`的总和值。然后，打印出这个总和。
- en: R has many arithmetic operators, including `+`, `-`, `*`, `/`, and others!
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: R有很多算术运算符，包括`+`、`-`、`*`、`/`以及其他运算符！
- en: Running this code, and typing in the number of votes, produces an error.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行这段代码，并输入票数，会产生一个错误。
- en: It just so happens that input from the user is treated as a string instead of
    a number. Looking at the environment, notice how the values for `mario` and others
    are stored with quotation marks around them. These quotes indicate that these
    are being stored as character strings instead of numbers. These values need to
    be numbers to be added together with `+`.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正好用户输入被当作字符串处理，而不是数字。查看环境，你会注意到`mario`和其他值的值被引号包围。这些引号表明这些值被存储为字符字符串，而不是数字。这些值需要是数字才能与`+`一起相加。
- en: In R, there are different modes (sometimes also called “types”!) as which a
    variable can be stored. Some of these “storage modes” include character, double,
    and integer.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在R中，变量可以以不同的模式（有时也称为“类型”）存储。其中一些“存储模式”包括字符、双精度和整数。
- en: 'We can convert these variables to the storage mode we want as follows:'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以按照以下方式将这些变量转换为所需的存储模式：
- en: '[PRE9]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Notice how *coercion* is employed through `as.integer` to convert `mario` and
    others to integers.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到如何通过`as.integer`使用*强制转换*将`mario`和其他值转换为整数。
- en: Running this code and looking at the environment, you can see how these values
    are now being stored as integers without quotation marks.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行这段代码并查看环境，你可以看到这些值现在被存储为没有引号的整数。
- en: 'This program can be further simplified as follows:'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个程序可以进一步简化如下：
- en: '[PRE10]'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Notice how the `sum` function is employed to sum the values of the three variables.
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到`sum`函数是如何被用来对三个变量的值进行求和的。
- en: Could there be a way by which we can utilize a pre-existing source of data?
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有没有一种方法可以利用现有的数据源？
- en: Tables
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 表格
- en: '*Tables* are one of the many structures we can use to organize data.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*表格*是我们可以用以组织数据的许多结构之一。'
- en: A *table* is a set of rows and columns, where rows often represent some entity
    being stored, and columns represent attributes of each of those entities.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*表格*是一组行和列，其中行通常代表存储的某个实体，列代表这些实体的属性。'
- en: Tables can be stored in a variety of file formats. One common format is a comma-separated
    values (CSV) file.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表格可以存储在多种文件格式中。一种常见的格式是逗号分隔值（CSV）文件。
- en: In CSV files, each row is stored on a separate line. Columns are separated by
    commas.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在CSV文件中，每一行存储在单独的一行上。列由逗号分隔。
- en: Before we begin our next program, type `ls()` in the R console to determine
    all the variables that are active in your environment. Then, type `rm(list = ls())`
    to remove all those values from your environment. Typing `ls()` again, you’ll
    notice that there are no objects left in your environment.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们开始下一个程序之前，在R控制台中输入`ls()`以确定环境中所有活动的变量。然后，输入`rm(list = ls())`从环境中移除所有这些值。再次输入`ls()`，你会注意到环境中没有剩余的对象。
- en: Next, type `file.create("tabulate.R")` to create our new program file. Opening
    your file explorer, open the `tabulate.R` file. Additionally, you should download
    the `votes.csv` file from this lecture’s source code and drag it into your working
    directory.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，输入 `file.create("tabulate.R")` 以创建我们的新程序文件。打开你的文件资源管理器，打开 `tabulate.R` 文件。此外，你应该从本讲座的源代码下载
    `votes.csv` 文件并将其拖入你的工作目录。
- en: 'Create your code as follows:'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式创建你的代码：
- en: '[PRE11]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Notice how the first line of code reads the table from `votes.csv` into the
    `votes` variable. Then, `View` allows you to view what was stored in `votes`.
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意代码的第一行是如何从 `votes.csv` 读取表格到 `votes` 变量的。然后，`View` 允许你查看 `votes` 中存储的内容。
- en: Running this code, you can now see a separate tab of what is stored in the `votes`
    object. However, there is an error. Notice how all data has been read into one
    column. It would seem that `read.table` is reading the data from the `csv` file.
    But, there seems to be some formatting that is still needed.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此代码，你现在可以看到 `votes` 对象中存储的单独标签页。然而，这里有一个错误。注意所有数据都被读入了一个列中。看起来 `read.table`
    正在从 `csv` 文件中读取数据。但是，似乎还需要一些格式化。
- en: 'Modify your code as follows:'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改你的代码：
- en: '[PRE12]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Notice how `sep` is used to tell `read.table` on which character each column
    will separate.
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `sep` 是如何用于告诉 `read.table` 每个列将根据哪个字符进行分隔的。
- en: Still, running this code, there is an error. How can we have `read.table` recognize
    the header of the table?
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管如此，运行此代码时仍然有错误。我们如何让 `read.table` 识别表格的标题？
- en: 'Modify your code as follows:'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照以下方式修改你的代码：
- en: '[PRE13]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Notice how the `header = TRUE` argument allows `read.table` to recognize that
    there is a header.
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `header = TRUE` 参数允许 `read.table` 识别存在标题。
- en: Running this file, the table displays as intended.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此文件，表格将按预期显示。
- en: 'Programmers have created a shortcut to be able to do this more simply. Modify
    your code as follows:'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 程序员创建了一个快捷方式，以便能够更简单地完成此操作。按照以下方式修改你的代码：
- en: '[PRE14]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Notice how `read.csv` accomplishes with far greater simplicity what the previous
    code did!
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `read.csv` 如何以前所未有的简单性完成之前代码所做的工作！
- en: 'Now that our data is loaded, how can we access it? Modify your code as follows:'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在我们已经加载数据，我们如何访问它？按照以下方式修改你的代码：
- en: '[PRE15]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Notice how *bracket notation* is used to access values using a `votes[row, column]`
    format. Thus, `votes[, 2]` will display the numbers in the `poll` column.
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意如何使用 *方括号表示法* 以 `votes[row, column]` 格式访问值。因此，`votes[, 2]` 将显示 `poll` 列中的数字。
- en: Vectors
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向量
- en: '*Vectors* are a list of values all of the same storage mode.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*向量* 是一个具有相同存储模式的值的列表。'
- en: Considering our data frame (or table) of candidates and votes, we can access
    specific values by creating a new vector.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑到我们的候选人投票数据框（或表格），我们可以通过创建一个新向量来访问特定值。
- en: 'We can simplify this program by calling the precise name of each column:'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以通过调用每个列的精确名称来简化此程序。
- en: '[PRE16]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Notice how `votes$poll` returns a vector of all the values within the `poll`
    column. We can now access the values of the `poll` column with this new vector.
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `votes$poll` 返回一个包含 `poll` 列中所有值的向量。现在我们可以通过这个新向量访问 `poll` 列的值。
- en: Running this code, notice how the values of each column appear.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行此代码，注意每个列的值是如何出现的。
- en: 'Turning to our original question about how to sum these values, modify your
    code as follows:'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转到我们关于如何求和这些值的原始问题，按照以下方式修改你的代码：
- en: '[PRE17]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Notice how `sum` is employed to sum the values in the first, second, and third
    rows of poll.
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `sum` 函数是如何用于对 `poll` 表格的前三行中的值进行求和的。
- en: 'However, this code is not dynamic. It’s quite inflexible. What if there were
    more than three candidates? Hence, we can simplify our code as follows to be more
    dynamic:'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然而，此代码不是动态的。它相当不灵活。如果有超过三个候选人怎么办？因此，我们可以简化我们的代码如下，使其更具动态性：
- en: '[PRE18]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Notice how the values found in the vectors `votes$poll` and `votes$mail` are
    summed.
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意在向量 `votes$poll` 和 `votes$mail` 中找到的值是如何被求和的。
- en: 'As illustrated above using bracket notation, we could also try to sum the values
    in each row across the `poll` and `mail` columns. Modify your code as follows:'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如上图所示，使用方括号表示法，我们也可以尝试对 `poll` 和 `mail` 列中的每一行的值进行求和。按照以下方式修改你的代码：
- en: '[PRE19]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Notice how each row for `poll` and `mail` is added together.
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `poll` 和 `mail` 的每一行是如何被加在一起的。
- en: Is this is the best approach R offers, though?
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是否是 R 提供的最佳方法？
- en: Vector Arithmetic
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向量算术
- en: There are many times when we want to be able to add the rows of one vector with
    the rows of another vector. We can do this through vector arithmetic.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有很多时候我们希望能够将一个向量的行与另一个向量的行相加。我们可以通过向量算术来完成此操作。
- en: 'In the same spirit of making our code more dynamic, we can further modify our
    code as follows:'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使我们的代码更加动态的同一种精神下，我们可以进一步修改我们的代码如下：
- en: '[PRE20]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Notice how the vectors are added *element-wise*. That is, the first row of the
    first vector is added to the first row of the second vector, the second row of
    the first vector is added to the second row of the second vector, and so on. This
    results in a final vector with the same number of rows as the `poll` and `mail`
    vectors.
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意向量是如何逐元素相加的。也就是说，第一个向量的第一行加到第二个向量的第一行上，第一个向量的第二行加到第二个向量的第二行上，依此类推。这导致了一个与`poll`和`mail`向量具有相同行数的最终向量。
- en: Vector arithmetic results in an entirely new vector. We can work with this new
    vector in a whole host of ways.
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向量算术会产生一个全新的向量。我们可以以各种方式处理这个新向量。
- en: 'Naturally, we may want to store the result of our arithmetic. We can do so
    by modifying our code as follows:'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自然地，我们可能想要存储我们算术的结果。我们可以通过以下方式修改我们的代码来做到这一点：
- en: '[PRE21]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Notice how the final total is stored in a new vector called `votes$total`, which
    in fact is a new `total` column of the `votes` data frame. We then write the resulting
    `votes` data frame to a file called `totals.csv`.
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意最终的总数被存储在一个名为`votes$total`的新向量中，实际上它是`votes`数据框的新`total`列。然后我们将结果`votes`数据框写入一个名为`totals.csv`的文件。
- en: 'An issue arises when you look at the `csv` file. Notice that, by default, “row
    names” are included. These can be excluded by modifying your code as follows:'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当你查看`csv`文件时，会出现一个问题。注意默认情况下，“行名”是包含在内的。这些可以通过修改以下代码来排除：
- en: '[PRE22]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Notice how `row.names` is set to `FALSE`.
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`row.names`被设置为`FALSE`。
- en: External Data
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 外部数据
- en: Today, we have seen many examples about how to use R.
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 今天，我们看到了许多关于如何使用R的例子。
- en: There are many instances where you may wish to use someone else’s dataset.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有许多情况下你可能希望使用别人的数据集。
- en: 'You can access data from online sources as follows:'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以如下访问在线数据源：
- en: '[PRE23]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Notice how `read.csv` is pulling data from a defined URL.
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`read.csv`是如何从定义的URL中提取数据的。
- en: Looking at this data frame, you can run `nrow` to get the number of rows. You
    can run `ncol` to get the number of columns.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看这个数据框，你可以运行`nrow`来获取行数。你可以运行`ncol`来获取列数。
- en: '[PRE24]'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Notice how the `nrow` and `ncol` are used to determine how many rows and columns
    exist in this data.
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`nrow`和`ncol`是如何用来确定这个数据中有多少行和列的。
- en: Datasets sometimes come with a *code book*. A code book is a guide to what columns
    are included in this data. For example, column `Q1` may represent a specific question
    asked of participants in a study. By looking at this data set’s code book, we
    can tell there is a column called `voter_category` that defines a specific voting
    behavior for each participant.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集有时会附带一个*代码簿*。代码簿是关于这个数据中包含哪些列的指南。例如，列`Q1`可能代表在研究中向参与者提出的一个特定问题。通过查看这个数据集的代码簿，我们可以知道有一个名为`voter_category`的列，它定义了每个参与者的特定投票行为。
- en: You might want to understand what were the various options that could have been
    selected by participants in this column. This can be accomplished through the
    `unique` function.
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可能想了解在这个列中参与者可能选择的各个选项。这可以通过`unique`函数来完成。
- en: '[PRE25]'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Notice how `unique` is used to determine the possible options participants could
    have selected.
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意`unique`是如何用来确定参与者可能选择的选项的。
- en: Special Values
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 特殊值
- en: For `Q22`, we discover in the code book that this question deals with why participants
    are *not* registered to vote. Looking at this data, we see `NA` as one of the
    values presented. `NA` represents “not available” as a special value within R.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`Q22`，我们在代码簿中发现这个问题是关于为什么参与者没有注册投票的原因。查看这个数据，我们看到`NA`是呈现的值之一。`NA`在R中表示“不可用”的特殊值。
- en: Other special values in R include `Inf`, `-Inf`, `NaN`, and `NULL`. Respectively,
    these mean infinite, negatively infinite, not a number, and null (or none) value.
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: R中的其他特殊值包括`Inf`，`-Inf`，`NaN`和`NULL`。分别表示无限大，负无限大，非数字和空（或无）值。
- en: 'To see these possible values for `Q22`, we can run the following code:'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要查看`Q22`的这些可能值，我们可以运行以下代码：
- en: '[PRE26]'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Notice how `unique` is employed again to discover the possible values for `Q22`.
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到`unique`再次被用来发现`Q22`的可能值。
- en: '`factor`'
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`factor`'
- en: '`Q21` deals with participants’ plans to vote in a future election. In this
    column, a value of `1`, `2`, and `3`, coincided with specific possible answers.
    For example, `1` might represent “Yes”.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Q21`涉及参与者对未来选举的投票计划。在这个列中，值`1`，`2`和`3`与特定的可能答案相对应。例如，`1`可能代表“是”。'
- en: 'In R, we can use `factor` to convert the numbered values to specific text-based
    answers. For example, we can use `factor` to change the number `1` to correspond
    to the text “Yes”. We can accomplish this by modifying our code as follows:'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 R 语言中，我们可以使用 `factor` 函数将数字值转换为特定的文本答案。例如，我们可以使用 `factor` 函数将数字 `1` 转换为对应的文本“是”。我们可以通过以下方式修改我们的代码来完成这个操作：
- en: '[PRE27]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Notice how `factor(voters$Q21)` will show the specific levels (categories) of
    data for `Q21`. In the `factor` that appears later in the code, labels are applied
    to each level. `1`, for example, is associated with “Yes”.
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `factor(voters$Q21)` 将会显示 `Q21` 的具体级别（类别）数据。在代码中出现的后续 `factor` 中，标签被应用于每个级别。例如，`1`
    与“是”相关联。
- en: 'There are many instances in which we may want to exclude values. In `Q21`,
    we may wish to exclude `-1`, since it’s not clear what this value represents.
    We can do so as follows:'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在许多情况下，我们可能希望排除某些值。在 `Q21` 中，我们可能希望排除 `-1`，因为这个值代表的含义并不明确。我们可以按照以下方式操作：
- en: '[PRE28]'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Notice how `-1` is excluded.
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `-1` 是如何被排除的。
- en: Summing Up
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: In this lesson, you learned how to represent data in R. Specifically, you learned…
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，你学习了如何在 R 语言中表示数据。具体来说，你学习了……
- en: Functions
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数
- en: Bugs
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误
- en: '`readline`'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`readline`'
- en: '`paste`'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`paste`'
- en: Documentation
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文档
- en: Arithmetic
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 算术
- en: Tables
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表格
- en: Vectors
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向量
- en: Vector arithmetic
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向量算术
- en: External data
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外部数据
- en: Special values
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特殊值
- en: '`factor`'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`factor`'
- en: See you next time when we discuss how to transform data.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 次次再见，当我们讨论如何转换数据时再见。
