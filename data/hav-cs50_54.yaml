- en: Abstraction
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 抽象
- en: 原文：[https://cs50.harvard.edu/scratch/notes/8/](https://cs50.harvard.edu/scratch/notes/8/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://cs50.harvard.edu/scratch/notes/8/](https://cs50.harvard.edu/scratch/notes/8/)'
- en: So far, we’ve seen many features of Scratch, with blocks that let us add loops,
    variables, and conditions to our projects.
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经看到了Scratch的许多功能，包括让我们可以向项目中添加循环、变量和条件的块。
- en: Now, let’s think about how we might be able to improve upon the way that we’ve
    designed the blocks inside of our Scratch projects.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，让我们考虑一下我们如何可能改进我们在Scratch项目中设计的块的方式。
- en: Dinosaur Game
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 恐龙游戏
- en: Let’s start by adding a dinosaur sprite to start building our [Dinosaur Game](https://scratch.mit.edu/projects/507462509/)
    example.
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们从添加一个恐龙精灵开始，构建我们的[Dinosaur Game](https://scratch.mit.edu/projects/507462509/)示例。
- en: 'We’ll add blocks so that it can move when the arrow keys are pressed:'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将添加块，以便在按下箭头键时它可以移动：
- en: '[PRE0]'
  id: totrans-7
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We’ll add another sprite, the star, and we can say that we’ve won the game when
    our dinosaur touches the star.
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将添加另一个精灵，星星，并且当我们的恐龙触摸星星时，我们可以说我们赢得了游戏。
- en: 'Let’s tell our dinosaur to check if it’s touching the star after we’ve moved
    up:'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们的恐龙在向上移动后检查它是否接触到了星星：
- en: '[PRE1]'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Recall that the “if” block is under the Control section of blocks, and “touching?”
    block is under the Sensing section.
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回想一下，“if”块位于块的“控制”部分，而“接触？”块位于“感应”部分。
- en: We’ll also add a “say” block along with the “timer” variable, so that our dinosaur
    can tell us how long it took to find the star.
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还会添加一个“说”块以及“计时器”变量，这样我们的恐龙就可以告诉我们找到星星花了多长时间。
- en: But this doesn’t work if we reach the star after we pressed right to get to
    it.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 但如果我们按下右键到达星星后，这种方法就不起作用了。
- en: 'We want our dinosaur to check if we’ve reached the star no matter which key
    we used for it, so we need to right-click, or control-click, on the “if” block,
    and choose “Duplicate” to make a copy for each key:'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们希望我们的恐龙能够检查无论我们使用哪个键，我们是否已经到达了星星，因此我们需要在“if”块上右键单击或控制单击，并选择“复制”为每个键创建一个副本：
- en: '[PRE2]'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We’ll also add some code to our star so it moves to a random position every
    time the program is started:'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还会在我们的星星上添加一些代码，以便每次程序启动时它都会移动到随机位置：
- en: '[PRE3]'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Now, we can use the arrow keys to move our dinosaur to the star, and every time
    it will tell us how long we took.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以使用箭头键将我们的恐龙移动到星星，并且每次它都会告诉我们我们花了多长时间。
- en: It looks like the time is reported with decimals, like 9.70\. So we can round
    this time to the nearest number of seconds, with the “round” block in the Operators
    section.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看起来时间是以小数报告的，比如9.70。因此，我们可以使用运算符部分中的“round”块将此时间四舍五入到最接近的秒数。
- en: But now, we’d have to drag the “round” block into the scripts for each of the
    four directions.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 但现在，我们必须将“圆形”块拖入每个方向的脚本中。
- en: When we’re copying a lot of code in our projects, it’s often the case that there’s
    a better solution.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当我们在项目中复制大量代码时，通常有一个更好的解决方案。
- en: In this case, it turns out we can create a new block of our own, and refer back
    to it every time we need to.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在这种情况下，我们实际上可以创建一个新的自定义块，并在需要时引用它。
- en: 'We’ll look in the section of blocks called “My Blocks”, and click “Make a Block”
    to make a new block. We’ll name this “check if won”, since that’s what we’re trying
    to do. Then, we’ll see this block appear:'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将在“我的块”部分中查找，并点击“创建块”来创建一个新的块。我们将将其命名为“检查是否胜利”，因为我们正在尝试做的事情。然后，我们会看到这个块出现：
- en: '[PRE4]'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now, we can add blocks underneath, that will run every time we use the “check
    if won” block.
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们可以在下面添加一些块，每次我们使用“检查是否胜利”块时，它都会运行。
- en: 'So we’ll take the condition and the “say” block, and move them to it:'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，我们将条件块和“说”块移动到它那里：
- en: '[PRE5]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'And for our other scripts, we’ll drag out our own “check if won” block:'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于我们的其他脚本，我们将拖出我们自己的“检查是否胜利”块：
- en: '[PRE6]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now, we’re using fewer blocks to achieve the same effect.
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们使用更少的块来实现相同的效果。
- en: 'If we wanted to round the value of the timer, we can change it just one place
    now, instead of four:'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们想要四舍五入计时器的值，我们现在只需更改一个位置，而不是四个：
- en: '[PRE7]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The ability to create our own blocks will allow us to improve the overall design
    and readability of our projects.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建我们自己的块的能力将使我们能够改进项目的整体设计和可读性。
- en: Balloon
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 气球
- en: 'Let’s add a balloon sprite for [Balloon 1](https://scratch.mit.edu/projects/507463302/),
    and add blocks for it to inflate and deflate itself:'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们为[Balloon 1](https://scratch.mit.edu/projects/507463302/)添加一个气球精灵，并添加使其充气和放气的块：
- en: '[PRE8]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Our balloon will start at a size of 50%, increase its size by 10 ten times,
    wait a second, and then decrease its size by 10 (changing it by negative 10) ten
    times.
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的风筝将从一个50%的大小开始，增加其大小10次，等待一秒钟，然后减小其大小10次（通过负10改变）。
- en: But this code would require someone else to think about what the numbers and
    loops are doing, to understand what will happen. We can make our code easier to
    read by adding more blocks.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 但这段代码需要其他人思考数字和循环在做什么，以理解会发生什么。我们可以通过添加更多块来使我们的代码更容易阅读。
- en: 'We can make a new block called “inflate”, that will increase the size of our
    balloon by 10 ten times:'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以创建一个新的名为“inflate”的块，该块将使我们的风筝大小增加10次：
- en: '[PRE9]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'And we’ll make another block called “deflate”, that will decrease the size
    of our balloon:'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还将创建另一个名为“deflate”的块，它将减小风筝的大小：
- en: '[PRE10]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'For the main script, we’ll use our new blocks:'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于主脚本，我们将使用我们新的块：
- en: '[PRE11]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Note that our program does the exact same thing still, but the script under
    “when flag clicked” is easier to read.
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注意，我们的程序仍然执行完全相同的事情，但“when flag clicked”下的脚本更容易阅读。
- en: We can call these custom blocks **abstractions**, or taking more complex ideas
    or actions, and giving them a name that we can refer to and use over and over.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以将这些自定义块称为**抽象**，或者将更复杂的思想或动作取一个名字，这样我们就可以反复引用和使用。
- en: 'We can give ourselves even more control in [Balloon 2](https://scratch.mit.edu/projects/507463768/).
    Let’s right-click, or control-click, the “inflate” block we have, and choose “Edit”.
    Then, we’ll click “Add an input” to give this block the ability to accept some
    input, and we’ll call it “n”:'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以在[Balloon 2](https://scratch.mit.edu/projects/507463768/)中给自己更多的控制。让我们右键单击或按住控制键单击我们拥有的“inflate”块，并选择“编辑”。然后，我们将点击“添加输入”以使这个块能够接受一些输入，并将其命名为“n”：
- en: '![Make a Block with inflate and n as input](../Images/a261caf502a91780bcb08d42851894a8.png)'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用inflate和n作为输入创建一个块](../Images/a261caf502a91780bcb08d42851894a8.png)'
- en: “n” will be the name of the input, and since it will be some number, we can
    use “n” by convention.
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: “n”将是输入的名称，由于它将是一个数字，我们可以按照惯例使用“n”。
- en: 'We’ll also click “Add a label”, and change that to say “times”, so our block
    will look like this:'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还将点击“添加标签”，并将其更改为“times”，这样我们的块看起来就像这样：
- en: '![block with inflate n times](../Images/6abff0088368a76b984e9d703959a104.png)'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![包含inflate n times块的代码](../Images/6abff0088368a76b984e9d703959a104.png)'
- en: The label lets us add more words to describe what the block will do.
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签让我们可以添加更多文字来描述块将要执行的操作。
- en: 'Notice that our “define” block for “inflate” will show an “n” in an oval that
    we can use in our block below, so we’ll drag it into the “repeat” block:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注意，我们的“inflate”的“define”块将显示一个椭圆形的“n”，我们可以在下面的块中使用它，所以我们将将其拖入“repeat”块中：
- en: '[PRE12]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Now, “inflate” will increase the balloon’s size by 10 for “n” times.
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，“inflate”将根据“n”的次数增加风筝的大小10次。
- en: 'We’ll do this with deflate as well. Then, in our script for “when flag clicked”,
    we’ll need to type a number into each of our custom blocks:'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将以相同的方式对“deflate”进行操作。然后，在我们的“when flag clicked”脚本中，我们需要在每个自定义块中输入一个数字：
- en: '[PRE13]'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: We can type in 10 so the balloon is inflated 10 times, or we can change that
    to 20, or any other value.
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以输入10，这样风筝就会膨胀10次，或者我们可以将其更改为20，或者任何其他值。
- en: By giving our functions the ability to take inputs, we can make them more flexible.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过让我们的函数能够接受输入，我们可以使它们更加灵活。
- en: Walking Bear
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Walking Bear
- en: Let’s take a look at a function that can take multiple inputs in [Walking Bear](https://scratch.mit.edu/projects/507464163/).
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们看看一个在[Walking Bear](https://scratch.mit.edu/projects/507464163/)中可以接受多个输入的函数。
- en: We’ll add our bear sprite, and rename our costumes for the bear on four legs
    to “4”, and the costume for the bear on two legs “2”.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将添加我们的熊角色，并将熊的四条腿服装重命名为“4”，两条腿的服装重命名为“2”。
- en: 'Let’s make a new block called “walk”, and give it an input called “m”. We’ll
    add a label “steps on”, and then another input, “n”. Finally, we’ll add another
    label, “feet”:'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们创建一个新的名为“walk”的块，并给它一个名为“m”的输入。我们将添加一个标签“steps on”，然后另一个输入，“n”。最后，我们还将添加另一个标签，“feet”：
- en: '![block labeled walk m steps on n feet](../Images/fa7376ce1913daf149db3bc9ba250dc7.png)'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![带有walk m steps on n feet标签的块](../Images/fa7376ce1913daf149db3bc9ba250dc7.png)'
- en: We could call the inputs anything we’d like, but we’ll use “m” and “n”.
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以将输入命名为任何我们想要的，但我们将使用“m”和“n”。
- en: 'What we want this block to do is to make our bear walk “m” steps on “n” feet,
    so we’ll define it as:'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们希望这个块执行的操作是让我们的熊在“n”只脚上走“m”步，所以我们将定义为：
- en: '[PRE14]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: We’ll first switch our costume to “n”, and then move 1 step “m” times.
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们首先将我们的服装切换到“n”，然后移动1步“m”次。
- en: 'Now, in our main script, we can tell our bear to walk any number of steps,
    on two or four feet:'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，在我们的主脚本中，我们可以告诉我们的熊走任意数量的步数，用两只或四只脚：
- en: '[PRE15]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Notice that it’s easier to understand what our bear will do when the flag is
    clicked. And we’ve saved ourselves from having to repeat multiple blocks over
    and over again.
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注意，当点击标志时，更容易理解我们的熊会做什么。而且我们也避免了反复重复多个代码块。
- en: With our own custom blocks, we can define complex behaviors that we can reuse
    and keep our project better organized.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过我们自己的自定义代码块，我们可以定义可以重用并使我们的项目更有条理的复杂行为。
