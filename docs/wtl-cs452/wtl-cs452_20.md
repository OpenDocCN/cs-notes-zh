# 讲座 18 - 项目，校准 III，项目

### 公共服务公告

1.  考试：8 月 8 日上午 9:00

1.  第一个里程碑。

    +   路线查找只是这个里程碑的一部分，只是为了你可以做些显示你的校准是正确的事情。对于里程碑 2，你将不得不在轨道图上找到路线，其中边缺失，所以选择一种通用的路线查找方法。

    +   在演示中，你可以使用你喜欢的火车和你喜欢的轨道，但只有在它们工作的情况下，而且其中一个可能不工作。在这种情况下，我们希望你使用另一列火车和/或另一条轨道来运行你的演示。做好准备！

* * *

## 项目

### 1\. 火车风格

给列车角色和目标。例如，

+   客运列车沿着重复的路线行驶，遵循时间表。

+   货运列车尽可能快地前往随机目的地。

+   目标是尽可能多地运送货物，同时保持客运列车准点。

另一个例子，

+   火车就是出租车。

+   当一批货物出现时，他们争先恐后地看谁能得到。

另一个例子，

+   火车就是公共汽车，从轨道上的一个地方到另一个地方行驶长途。

+   在路线的最后是前往不同地点的预定行程。

+   当公共汽车迟到时，调度员必须找到另一辆未使用的公共汽车，以便在预定的离开时间离开。

### 2\. 游戏风格：人工智能

轨道就是图形。

+   选择顶点和边的几种不同方式

许多游戏是在图形上进行的。

+   跳棋，蛇和梯子，迷宫游戏等。

+   实施在轨道图上进行的图形游戏。

例如，守卫和强盗。

+   一列火车是强盗，试图从一个藏匿处移动到另一个藏匿处。

+   其他列车是守卫，试图阻止强盗在他进入开放区域后到达藏匿处。

另一个例子，吃豆人

+   一列火车试图尽可能多地覆盖轨道。

+   其他火车试图困住他，以防他得到允许他继续移动的预订。

### 3\. 游戏风格：交互式

在你玩乐的游戏中，用户通常控制一个或多个游戏实体。

+   强盗

+   陷阱列车

学生们经常想要制作一个交互式项目。过去已经成功完成了，但构建一个可用的界面是一个真正的挑战。

* * *

## 校准

### 1\. 校准停车距离

**提示。**与其他小组互动对于确认你的方向是否正确是有用的。当然，仅仅使用另一组的校准而不说实话是`学术不诚实'。

* * *

### 2\. 校准恒定速度

在此刻，轨道上有几个地方，你可以停下来，精确到一辆火车长度或更好。但是，假设你想在开关处改变方向。

+   你想要靠近开关，远离开关，并且在停下来时位于开关的右侧。

+   你想知道火车何时停下来，因为在那之前你不能下达再次启动的命令。

#### 停下来需要多长时间？

尝试以下练习。

1.  选择一个传感器。

1.  将火车放在将穿过传感器的路线上。

1.  将火车加速到恒定速度。

1.  在一个位置发送速度为零的指令，使火车在传感器上停下来。（你知道停车距离）。

1.  计算你发出指令和传感器触发之间的时间。

1.  寻找规律性。

#### 火车达到速度需要多长时间？

我们称火车达到速度所需的时间为*加速时间*。找出加速时间留给读者作为练习。

**提示。** 从静止开始行驶的距离，作为时间函数的图形，在火车达到恒定速度后是一条直线

* * *

## 阶段 3. 校准加速和减速

再次考虑跟随具有反向的路线的问题。

1.  反向总是发生在转向处以便朝不同方向行驶。

1.  你希望尽可能少地超过开关。

1.  大部分操纵都是在非恒定速度下进行的。

### 加速和减速的物理学

假设一个火车在时间 t1 处于 x1=x(t1)位置，速度为 v1=v(t1)，我们想要在时间 t2 将其移动到 x2=x(t2)位置，速度为 v2=v(t2)，而且我们想要在不超过火车的任何物理限制的情况下完成。

核心是一个关系，(x, t)，它是一个时空点。该关系表示随着时间的推移，火车占据连续的位置 x(t)。速度被推导为 x(t)的时间导数。

我们的任务是创建一个遵守这些约束的物理可能路径 x(t)。为此，我们必须了解当火车速度改变时其速度如何变化。

我们的任务变得简化，因为速度变化函数是人为的，

1.  由像我们一样的程序员创建，而且

1.  旨在模仿真实火车。

我们试图进入程序员/设计者的思维并思考他们的想法

#### 传送

将火车从一个地方移动到另一个地方的最简单方法。

1.  在时间 t 将火车传送到 x=x2，v=0。

1.  在时间 t2 将速度增加到 v2。

我们首先排除的是传送。

+   为什么？

在实践中，火车具有无限速度是不可能的

+   留给物理学家判断在理论上火车是否可能具有无限速度。

没有传送意味着 x(t)必须是连续的。

#### 恒定速度

假设你有一个火车在(x1, t1)处，你必须将其移动到(x2, t2)处。

两个问题：

1.  可能吗？如果最大速度是 vmax，并且 vmax < (x2 - x1) / (t2 - t1)，那么这是不可能的。

1.  你该怎么做？如果 vmax > (x2 - x1) / (t2 - t1) 那么你可以尝试

    1.  在 t1 处设置 v = (x2 - x1) / (t2 - t1)

        +   为此使用你的速度校准！

    1.  在 t2 处设置 v = 0。

    不太奏效。

    +   因为加速，你在 t2 后到达 x2。

    +   因为减速，你不会停在 x2 后的停车距离。

    你可以

    1.  诅咒不足的火车动力学

    1.  限制 vmax 的值非常小

    1.  只接受未来很长时间的请求并成功，因为加速和减速时间可以忽略不计。

    ���是

    1.  这是违反规则的。

    1.  你会因为在曲线上熄火而失败。

    1.  你的项目只会对树木和其他长寿生物感兴趣。

##### 更基础的

无限加速是不可能的，因为火车会被压碎，如果不是蒸发！

这在理论和实践中都是真实的。

### 恒定加速度/减速度

直观上最小化加速度是一个好主意

1.  从 t1 加速到 (t2 + t1) / 2

    +   速度是 a*(t-t1)

        位置是 x1 + (1/2)*a*(t-t1)²

1.  从 (t2 + t1) / 2 减速到 t2

    +   速度是 a*(t2-t1) / 2 - a*(t - (t2+t1)/2 )

        位置是...

1.  在 t2 时

    +   速度为 0

    +   位置是 x1 + (1/8)*a*(t2 - t1) ²，应该是 x2。

    +   因此选择 a = (8 * (x2 - x1)) / (t2 - t1)²

但是，在 t = t1，(t2 + t1) / 2，t2 时会发生什么？

+   加速度的不连续性

+   事实上，体验到的是抖动，实际上是无限抖动

+   你从经验中知道，当你用力抖动东西时，它们会断裂。例如，

    +   牙齿

    +   指关节

### 恒定的抖动

位置的三阶曲线，速度的二阶曲线，线性加速度。我们通常更进一步，尝试在整个旅程中尽量减少抖动。

### 最小化抖动

加速度/减速度是连续的

结果是位置的四阶曲线，速度的三阶曲线，这是你驾驶时尝试实现的目标。

* * *

### 值得拥有明确的功能吗？

##### 好处

1.  你可以明确计算位置，而无需进行数值积分。

    +   欧拉积分不稳定，因为误差会累积。

1.  你可以通过更少的测量计算函数的参数。如何？

    +   从 x = t = 0 开始，这假设你在轨道上的位置和一天中的时间都是相同的函数。

    +   检查减速是否是加速的反向？

    +   等等。

    这个想法是，将加速度/减速度编程到火车中的人很懒，所以可能一直使用一个基本函数。

##### 缺点

1.  你需要检查你拥有的函数形式是否正确，或者足够正确。

1.  对于实际目的，小的查找表可能完全足够。

* * *

返回至：

+   比尔·考恩在 s12 学期的 CS452 讲义

+   比尔·考恩 2012 年春季 CS452 页面

+   比尔·考恩的 CS452 页面

+   比尔·考恩的教学页面

+   比尔·考恩的主页
