# 计算机网络基础 P136：TCP/IP 与网络架构演进 🖧

在本节课中，我们将跟随网络专家 Kevin Fall 的分享，了解 TCP/IP 协议的发展历程、核心概念的历史演变，并探讨网络技术未来的前沿方向。我们将学习数据报与数据包的区别、网络架构的设计思想，以及 3D 打印等新技术对网络和社会的潜在影响。

***

## 与 Kevin Fall 的对话

我在操作系统原理研讨会的计算机科学会议上遇到了 Kevin Fall。能在这里遇见他非常幸运。

我认为听听他对互联网的看法会很有趣。

***

## TCP/IP 图解指南的诞生 📖

Kevin，你目前是《TCP/IP 图解》的作者。这是如何发生的？你与 TCP/IP 以及过去工作的关系是什么？你在 TCP/IP 方面的背景是怎样的？

我毕业后不久，刚到伯克利时，有人向我演示了可以在不到一秒的时间内将数据包发送到欧洲并返回伯克利。从那时起，网络就成了一个值得关注的有趣领域。

多年以后，我在伯克利 Unix 系统上从事网络实现工作，这让我接触到了高性能计算社区。之后，我在加州大学圣地亚哥分校完成研究生工作后，进入了劳伦斯伯克利国家实验室。

加州大学圣地亚哥分校进行了一些协议和操作系统方面的工作。而在 LBL，我的工作则更多地集中在网络方面，从事网络模拟器和 NS 模拟器等工作。

我对这些内容变得非常熟悉。到了 90 年代初或中期，当互联网开始广为人知时，人们对“TCP/IP 是什么”产生了兴趣。《TCP/IP 图解》这本书是当时的标准参考文本，第一卷至今仍是一本很好的书。

我曾用它来教学，学员来自思科等行业的专业人士。因此我对材料非常熟悉，但随着时间的推移，书中有些内容需要更新。

我曾听说有人被邀请重写这本书，也有人联系过编辑或出版社。但出于各种原因，始终没有实现。于是我提交了我的目录和样章，得到了这份工作，并在大约七年后完成了这项超过一千页的任务。

***

## 新版书籍的主要更新 🔄

这是一个你认为需要引入改变但原版中没有的例子。其中一个主要更新是**安全**。

书中新增了约一百页关于安全的内容，介绍了基本的安全原语、需要防范的威胁类型，以及实现这些防护的协议细节。在第一版著作完成时，安全（不仅是密码学部分，还包括防火墙等）几乎还不存在。

书的前面还新增了一章，关于架构基础与设计决策。探讨了设计者在做出设计决策时的思考。我对此一直很感兴趣，作为一个最初从事操作系统工作的人，我关注人们如何提出抽象概念，程序如何访问这些概念，以及背后的架构考量。

我一直对架构领域的论文和思想很感兴趣。

***

## 数据报与数据包：被遗忘的区别 📦

昨晚我们谈到，如今人们常常互换使用“数据报”和“数据包”这两个术语，但它们原本并非同义词，有着相当不同的含义，如今这种区别可能已随时间流逝。

我想我在书中的某部分提到了这一点。数据包是一个迷人的新概念，你可以将较大的消息分割成小部分并在网络中传输。但它们最初至少有些变体是作为**虚拟电路**的一部分。例如，数据包中的目的地是路由表中下一跳的索引，因此你需要提前建立路由。

如果由于某种原因路由失败，你需要做很多工作来回退，这涉及到电路的历史等等。

**数据报**可能是一个更激进的想法，其最终目的地直接在数据包结构中标识。当我教授这门课时，我会这样解释：如果我以二维空间布局网络，凭借数据报的这种特性，我可以把它从空中扔到任何路由器上，它都能找到自己的路径，因为最终目的地已经列出。

当然，这是一种权衡，因为现在你需要分配更多比特，以应对可能存在的更大数量的潜在目的地。

这些细微差别非常精妙，通过回顾架构历史并思考、了解当时人们的争论，可以获得这些细节。

***

## 当前的研究兴趣与未来展望 🚀

那么你现在在研究什么？你认为网络、互联网和系统领域最有趣、你正在尝试解决的问题是什么？

有几个领域我认为很有趣，值得至少提一下其中一个，我们在上面有一些工作。

第一个领域我们涉猎不多。我提到了 Licklider，在书中也引用了他的观点。他和他的同事及前辈们设想，我们不仅拥有最终演变成今天互联网的通信社区，还有一种物理移动物品的方式，类似于**全球气动管道系统**。你可以把你的东西塞进去，它就能找到路。这将是一个非常酷的东西，但我不认为我们已经实现了，也不确定我们最终是否真的会有。

是的，这在某种程度上是可能的。虽然不是气动的，但结合 3D 打印技术以及信息的自由或轻松传播，变得非常有趣，尤其是当你可以使用塑料以外的材料时。

我手上曾有一个演示品，是一个钛合金 3D 打印的鼻部替代假体。它是钛丝一层层打印出来的。如果你能在设备中装入正确的材料，几乎任何你想创造的实物都可以被创造出来。

甚至扩展到传感器网络领域，人们希望感知世界，甚至驱动世界，但结合按需构建世界的能力，这非常有趣。我在想，这或许不是实现气动管道愿景的方式，但与其移动物品，不如直接制造另一个。

那么，未来会有多远，你只需在车里或背包里携带一个基本系统，然后下载你恰好需要的任何东西？甚至更进一步，就在几个月前，华盛顿特区召开了一个会议，讨论增材制造的安全影响。

我可以向你提出那些问题。是的，比如枪的底把。通常在枪支中，有一个特定部件受到严格监管，它是所有其他部件必须连接的核心部件。有人 3D 打印了一个，而这通常需要许可证。这引发了一个有趣的问题，关于所有这些类似数字版权管理的事物将带来什么影响。

我认为这里有很多政策问题。通常情况是，技术会超越政策制定者理解和制定合理法律的能力。比特与物理对象变得可互换，而我们传统上对物理对象的控制进行监管，但现在我们是否还需要这样做？

***

## 总结

本节课中，我们一起学习了 TCP/IP 协议的发展背景和《TCP/IP 图解》书籍的更新历程。我们深入探讨了**数据报**与**数据包**这两个核心概念的历史区别，理解了网络架构设计中的权衡思想。最后，我们展望了未来，看到了 3D 打印、生物合成等技术与网络结合所带来的巨大潜力与挑战。网络技术不仅关乎连接，更在深刻地塑造着物理世界的创造与规则。