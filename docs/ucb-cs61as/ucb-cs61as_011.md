# 表达式和评估

## 介绍

在这个小节中，你将学习更多关于函数式编程的知识。你还将学习关于表达式和评估的内容。

## 函数式编程

在我们深入研究 Racket 语言本身之前，我们将简要介绍本课程的重要概念。简而言之，它陈述了，在评估表达式时，我们可以将一个函数返回的值作为另一个函数的参数使用。通过这种方式“连接”两个函数，我们创造了一个新的第三个函数。例如，假设我们有一个函数，将字母 s 添加到单词的末尾（伪代码中）：

```
add-s("run") = "runs" 
```

还有另一个函数，将两个单词组合成一个句子：

```
sentence("day", "tripper") = "day tripper" 
```

我们可以将它们组合起来创建一个表示动词第三人称单数形式的新函数：

```
third-person(verb) = sentence("she", add-s(verb)) 
```

当应用于特定动词时，一般的公式看起来像这样：

```
third-person("sing") = "she sings" 
```

在 Racket 中我们这样说

```
(define (third-person verb)
  (sentence 'she (add-s verb))) 
```

如果这对你来说令人困惑或不直观，不要担心；你将在这个概念上得到大量练习。然而，结果将表明，我们可以通过以这种方式连接函数来表达各种计算算法。这种连接就是我们所说的**函数式编程**。

## 表达式

**重要概念：** 你可以向 Racket 提出“问题”，称为**表达式**。Racket 解释器会“思考”你的问题，或者**评估**你的表达式。然后你会得到答案，称为**值**。我们在 Racket 中键入的所有内容（不会出错）都是表达式。

当你想让 Racket *执行*某些操作（例如将两个数字相加），你会以**前缀表示法**编写一个表达式。尽管所有非错误输入都是表达式，但最有趣的是**调用过程**。看下面的例子：

```
(+ 3 4) 
```

在这个例子中：

+   **`+`** 是过程，或者表达式的*运算符*

+   **`3`** 是 `+` 的参数，或者表达式的*操作数*

+   **`4`** 也是一个参数/操作数

这种语法允许我们**嵌套**表达式：

```
(* (max 2 3) (/ 8 4)) 
```

+   `*`、`max` 和 `/` 都是过程

+   `*` 是大表达式的运算符，而 `(max 2 3)` 和 `(/ 8 4)` 是大表达式的操作数

+   `max` 是第一个子表达式的运算符，而 `2` 和 `3` 是第一个子表达式的操作数

+   `/` 是第二个子表达式的运算符，而 `8` 和 `4` 是第二个子表达式的操作数

**检验你的理解**

以下哪些是有效的 Racket 表达式？选择所有适用的。

现在，在你的计算机上打开 Racket 解释器，尝试一些自己的表达式。

## 评估

Racket 使用应用序（在第 1 课中讲解）来评估表达式，遵循以下规则：

1.  评估运算符和操作数

1.  将运算符应用于操作数

Racket 实际上如何理解和评估表达式是相当复杂的，在第 11 课中会详细讲解。现在，让我们继续下一个小节！
