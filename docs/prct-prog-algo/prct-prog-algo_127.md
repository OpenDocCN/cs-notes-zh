# 8\.   字符串

> 原文：[`aofa.cs.princeton.edu/80strings`](https://aofa.cs.princeton.edu/80strings)

本章研究*字符串*的基本组合特性，即从固定字母表中提取的字符或字母序列，并介绍处理字符串的算法，从计算理论核心的基本方法到具有许多重要应用的实用文本处理方法。

## 8.1 字符串搜索

## 8.2 比特串的组合特性

## 8.3 正则表达式

## 8.4 有限状态自动机和 Knuth-Morris-Pratt 算法

## 8.5 上下文无关文法

## 8.6 前缀树

## 8.7 前缀树算法

## 8.8 前缀树的组合特性

## 8.9 更大的字母表

#### 选定练习

## 8.1

给出满足$[z^N]B_P(z)$的两个递归。

## 8.2

随机比特串应该有多长才能确保至少有三个连续的 0 的概率为 99%？

## 8.3

随机比特串应该有多长才能确保至少有 32 个连续的 0 的概率为 50%？

## 8.6

通过考虑没有连续两个 0 的比特串，评估涉及斐波那契数的以下和：$\sum_{j\ge0} F_j/2^j$。

## 8.14

假设一只猴子在一个有 32 个键的键盘上随机输入。在猴子找到短语`THE QUICK BROWN FOX JUMPED OVER THE LAZY DOG`之前，预期输入的字符数是多少？

## 8.15

假设一只猴子在一个有 32 个键的键盘上随机输入。在猴子找到短语`TO BE OR NOT TO BE`之前，预期输入的字符数是多少？

## 8.22

假设一只猴子在一个有 2 个键的键盘上随机输入。在猴子找到一个包含$2k$个交替 0 和 1 的字符串之前，预期输入的位数是多少？

## 8.40

假设一只猴子在一个有 26 个字母`A`到`Z`、符号`+`、`*`、`(`和`)`、一个空格键和一个句号的 32 键键盘上随机输入。在猴子找到一个合法的正则表达式之前，预期输入的字符数是多少？假设空格可以出现在正则表达式的任何位置，并且合法的正则表达式必须被括号括起来，并且在末尾只有一个句号。

## 8.42

有${8\choose5}=56$种不同的五个三位比特串集合。哪个前缀树与这些集合中的大多数相关联？哪个与最少相关联？

## 8.44

有多少不同的前缀树有$N$个外部节点？

## 8.45

在“随机”前缀树中，外部节点中有多少比例是空的（假设每个不同的前缀树结构出现的可能性相等）？

## 8.52

证明$A_N/N$等于$1/\ln 2$加上一个波动项。

## 8.53

编写一个计算$A_N$在$N<10⁶$时精确到$10^{-9}$的程序，并探索$A_N/N$的振荡特性。

## 8.57

解决定理 8.9 证明中给出的$p_N$的递归，直到振荡项。$$p_N= {1\over 2^{N}} \sum_k{N\choose k}p_k\quad \hbox{for}\ N>1\quad \hbox{with}\ p_0=0\ \hbox{and}\ p_1 = 1$$

#### 复习问题

## Q8.1

按照在随机比特串中等待时间的期望值对这些模式进行排名（从低到高）。(*a*) 00000 (*b*) 00001 (*c*) 01000 (*d*) 01010 (*e*) 10101

## Q8.2

给出不包含模式 01010 的比特串的 OGF。

## Q8.3

给出不包含模式 1011 的比特串的 OGF。

## Q8.4

（J. Chen）使用 BGFs 计算长度为$N$的随机二进制字符串中 00 出现的预期次数。（按照惯例，具有$t$个连续 0 的子串有$t-1$个 00 出现次数。）
