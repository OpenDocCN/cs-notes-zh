# 9\.   单词和映射

> 原文：[`aofa.cs.princeton.edu/90maps`](https://aofa.cs.princeton.edu/90maps)
> 
> 译者：[飞龙](https://github.com/wizardforcel)
> 
> 协议：[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)


本章涵盖了*单词*（从`M`-字母表中的`N`-字母字符串）的全局属性，这在经典组合学中得到了很好的研究（因为它们模拟了独立伯努利试验的序列）和经典应用算法学中得到了很好的研究（因为它们模拟了哈希算法的输入序列）。本章还涵盖了随机*映射*（从`N`-字母表中的`N`-字母单词）并讨论了与树和排列的关系。

## 9.1 使用分离链接进行哈希

## 9.2 单词的基本属性

## 9.3 生日悖论和优惠券收集者问题

## 9.4 占用限制和极值参数

## 9.5 占用分布

## 9.6 开地址哈希

## 9.7 映射

## 9.8 整数因子分解和映射

#### 选定练习

## 9.5

对于$M=365$，需要多少人才能确保两个人生日相同的概率为 99%？

## 9.22

给出一个（对于$M=365$）三个人生日相同的概率的图表。

## 9.23

对于$M=365$，需要多少人才能确保三个人生日相同？四个人呢？

## 9.28

当 100 个球随机分布在 100 个瓮中时，一个瓮得到所有球的概率是多少？

## 9.29

当 100 个球随机分布在 100 个瓮中时，每个瓮都得到一个球的概率是多少？

## 9.37

找到$[z^n]e^{\alpha C(z)}$，其中$C(z)$是 Cayley 函数（请参见本章末尾的讨论和本章 9.7 节）。5

## 9.38

（``阿贝尔二项式定理。''）使用前一个练习的结果和恒等式$e^{(\alpha+\beta)C(z)}=e^{\alpha C(z)}e^{\beta C(z)}$证明$$(\alpha+\beta)(n+\alpha+\beta)^{n-1} =\alpha\beta\sum_k{n\choose k}(k+\alpha)^{k-1}(n-k+\beta)^{n-k-1}.$$

## 9.53

没有重复整数的映射是一个排列。给出一个有效的算法来确定一个映射是否是一棵树。

## 9.58

描述*部分*映射的图结构，其中点的图像可能未定义。建立相应的 EGF 方程，并检查大小为$N$的部分映射的数量为$(N+1)^N$。

## 9.60

生成 100 个大小为 100、1000 和 10000 的随机映射，并经验性地验证大约 48%的节点在最大树中，大约 76%的节点在最大循环中，在大小为$N$的随机映射中，最长尾部、循环和 rho 路径中的节点数分别约为$1.74\sqrt{N}$、$.78\sqrt{N}$和$2.41\sqrt{N}$。

## 9.61

使用 Floyd 的方法测试您机器上的随机数生成器是否存在短循环。

## 9.99

证明大小为 N 的随机映射没有单例循环的概率是$\sim 1/e$，与排列的概率相同（！）。

#### 复习问题

## Q9.1

给出没有单例循环的随机映射的 EGF。将你的答案表示为 Cayley 函数的函数$C(z) = e^{C(z)}$。

## Q9.2

这个问题涉及枚举每个字符出现正好两次或不出现的映射。这样的映射必须是偶数长度。长度为 2 的映射有 2 个（11 和 22），长度为 4 的映射有 36 个。通过直接的组合论论证，很容易得出显式形式$$C_{2n} = {2n\choose n}{(2n)!\over 2^n}.$$给出 EGF 的显式公式$$C(z) = \sum_{n\ge0}{C_{2n}\over(2n)!}z^{2n}$$和$C_{2n}$的渐近估计（~近似）。*额外学分*：通过解析组合学给出完整推导。

## Q9.3

给出元素具有多个连接组件的映射比例的~近似。
