# 2\. 标记结构和指数生成函数

> 原文：[`ac.cs.princeton.edu/20egf`](https://ac.cs.princeton.edu/20egf)
> 
> 译者：[飞龙](https://github.com/wizardforcel)
> 
> 协议：[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)


## II.1 有标签类

## II.2 可接受的有标签构造

## II.3 满射、集合划分和单词

## II.4 对齐、排列和相关结构

## II.5 有标签树、映射和图

## II.6 附加构造

## II.7 视角

#### 选定练习

## 注 II.11

*球在室之间切换：埃伦费斯特模型。* 考虑一个包含两个室 $A$ 和 $B$（也经典地称为“urns”）的系统。有 $N$ 个可区分的球，最初，室 $A$ 中包含所有球。在任意时刻 $\frac{1}{2},\frac{3}{2},\ldots$，允许一颗球从一个室转移到另一个室。设 $E_{n}^{[\ell]}$ 是导致在时刻 $n$ 时室 $A$ 包含 $\ell$ 个球的可能演变数量，$E^{[\ell]}(z)$ 是相应的 EGF。证明 $$ E^{[\ell]}(z)=\binom{N}{\ell}(\cosh z)^\ell (\sinh z)^{N-\ell}, \qquad E^{[N]}(z)=(\cosh z)^N\equiv 2^{-N}(e^z+e^{-z})^N. $$ [提示：EGF $E^{[N]}$ 枚举每个原像具有偶数基数的映射。] 特别地，证明在时间 $2n$ 时 urn $A$ 再次充满的概率是 $$ \frac{1}{2^NN^{2n}}\sum_{k=0}^{N} \binom{N}{k}(N-2k)^{2n}. $$ 这个著名的模型由 Paul 和 Tatiana Ehrenfest 于 1907 年引入，作为热传递的简化模型。它有助于解决热力学中不可逆性（$N\to\infty$ 的情况）和经历遍历变换的系统再现性之间的明显矛盾（$N$ 的情况

## 注 II.31

*三角函数的组合数学。* 将 $\tan{z\over 1-z}$、$\tan\tan z$ 和 $\tan(e^z-1)$ 解释为组合类的 EGF。

#### 选定实验

## 程序 II.1

编写一个程序来模拟埃伦费斯特模型（见注 II.11），并用它来绘制在 urn A 中的球数分布，当开始时 urn A 中有 $10³$ 个球，urn B 中没有球，经过 $10³$、$10⁴$ 和 $10⁵$ 步后。

#### 网页练习

## II.1

（E. Levin）使用解析组合数学计算均匀随机选择的元素排列不包含 2-循环的概率的 ~-近似。

## II.2

找到一个关于有标签的三元树（根据顺序，每个节点有 0 或 3 个子节点）数量的 ~-近似，其标签在每条路径上递增。
