# 数组和二维数组

数组是存储许多元素的最基本数据类型，并且直接由虚拟机实现（相比之下，（可变）列表是在库中实现的，使用数组来存储元素）。

你可以将数组看作是一个固定大小的可变列表，即你无法添加或删除元素。一旦创建，数组的大小保持不变。

像列表一样，数组可以通过列出元素来创建：

```
>>> val a = arrayOf(1, 2, 3, 4, 5)

```

它们支持大多数可用于可变列表的方法：

```
>>> a.size
5
>>> a[0] = 99
>>> a[3]
4
>>> a.joinToString()
99, 2, 3, 4, 5
>>> println(a)
[Ljava.lang.Integer;@16d48c9

```

请注意，直接打印一个数组不会像列表或可变列表那样漂亮地列出元素。

当你想要创建一个大数组，或者一个大小你已经计算过的数组时，你无法列出初始元素。相反，你提供元素的数量，以及一个计算元素值的代码片段。这段代码可以使用魔术变量 it，它给出元素的索引：

```
>>> val a = Array(10) { 0 }
>>> a.joinToString()
0, 0, 0, 0, 0, 0, 0, 0, 0, 0
>>> val b = Array(13) { it * it }
>>> b.joinToString()
0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144
>>> val s = Array(8) { "" }
>>> s.joinToString()
, , , , , , , 

```

通常没有充分的理由使用数组而不是（可变）列表。然而，提供 Kotlin 脚本的命令行参数的 args 变量实际上是一个数组，类型为 Array<String>。

#### 二维数组

另一个使用数组的机会是当你需要一个二维存储区域时，比如在游戏中表示一个棋盘。一个二维数组使用两个索引，通常称为行和列，来访问\(m \times n\)个元素。它通过为每一行创建一个数组（这些数组由列号索引），然后创建一个数组（由行号索引）来存储行来实现。（你也可以用列表做同样的事情，但会浪费相当多的存储空间。）

以下示例创建了一个有 5 行 8 列的二维数组，填充为零：

```
>>> val b = Array(5) { Array(8) { 0 } }

```

b 的类型是 Array<Array<Int>>。我们使用行号和列号访问它的元素：

```
>>> b[2][7] = 9
>>> b[0][5] = 13

```

由于 b 本身是存储行的数组，我们可以通过 b.size 获得行数。列数是 b 的每个元素的长度，比如 b[0].size：

```
>>> b.size
5
>>> b[0].size
8

```

你需要编写一个函数来漂亮地显示棋盘。对于调试，类似以下的内容已经足够好了：

```
>>> b.joinToString(separator="\n", transform={ it.joinToString() } )
0, 0, 0, 0, 0, 13, 0, 0
0, 0, 0, 0, 0, 0, 0, 0
0, 0, 0, 0, 0, 0, 0, 9
0, 0, 0, 0, 0, 0, 0, 0
0, 0, 0, 0, 0, 0, 0, 0

```
