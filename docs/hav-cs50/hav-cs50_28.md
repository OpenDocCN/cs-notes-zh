# 讲座 0

> 原文：[`cs50.harvard.edu/python/notes/0/`](https://cs50.harvard.edu/python/notes/0/)

+   使用 Python 创建代码

+   函数

+   错误

+   提升你的第一个 Python 程序

    +   变量

    +   注释

    +   伪代码

+   进一步改进你的第一个 Python 程序

+   字符串和参数

    +   引号的小问题

+   字符串格式化

+   更多关于字符串

+   整数或 int

+   可读性优先

+   浮点数基础

+   更多关于浮点数

+   定义

+   返回值

+   总结

## 使用 Python 创建代码

+   VS Code 是一个文本编辑器。除了编辑文本外，你还可以在终端中可视化浏览文件和运行基于文本的命令。

+   在终端中，你可以执行`code hello.py`来开始编码。

+   在上面的文本编辑器中，你可以输入`print("hello, world")`。这是一个著名的经典程序，几乎所有的程序员在学习过程中都会编写。

+   在终端窗口中，你可以执行命令。为了运行此程序，你需要将光标移至屏幕底部，在终端窗口中点击。现在你可以在终端窗口中输入第二个命令。在美元符号旁边，输入`python hello.py`并按下键盘上的回车键。

+   回想一下，计算机实际上只理解零和一。因此，当你运行`python hello.py`时，Python 将解释你在`hello.py`中创建的文本，并将其转换为计算机可以理解的零和一。

+   运行`python hello.py`程序的结果是`hello, world`。

+   恭喜！你刚刚创建了你的第一个程序。

## 函数

+   函数是计算机或计算机语言已经知道如何执行的动作或动词。

+   在你的`hello.py`程序中，`print`函数知道如何将内容打印到终端窗口。

+   `print`函数接受参数。在这种情况下，`"hello, world"`是`print`函数接受的参数。

## 错误

+   错误是编码的自然部分。这些都是你需要解决的问题！不要气馁！这是成为优秀程序员过程的一部分。

+   想象一下，在我们的`hello.py`程序中，我们不小心输入了`print("hello, world"`，忘记了`print`函数所需的最后的`)`。如果你犯了这个错误，解释器将在终端窗口中输出错误信息！

+   错误信息通常会告诉你你的错误，并提供如何修复它们的线索。然而，会有很多次解释器并不那么有帮助。

## 提升你的第一个 Python 程序

+   我们可以个性化你的第一个 Python 程序。

+   在我们的 `hello.py` 文本编辑器中，我们可以添加另一个函数。`input` 是一个接受提示作为参数的函数。我们可以编辑我们的代码如下：

    [PRE0]

+   然而，仅此修改并不能让程序输出用户输入的内容。为此，我们需要向您介绍变量

### 变量

+   变量只是在你自己的程序中存储值的容器。

+   在你的程序中，你可以通过编辑它来引入你自己的变量，如下所示：

    [PRE1]

    注意到在 `name = input("What's your name? ")` 中间的这个等号 `=` 在编程中有一个特殊的作用。这个等号实际上是将右侧的内容赋值给左侧。因此，`input("What's your name? ")` 返回的值被赋值给 `name`。

+   如果你按照如下方式编辑你的代码，你会注意到一个意外的结果：

    [PRE2]

+   无论用户输入什么，程序都会在终端窗口返回 `hello, name`。

+   进一步编辑我们的代码，你可以输入

    [PRE3]

+   在终端窗口的结果将是

    [PRE4]

+   我们正在接近我们可能期望的结果！

+   你可以在 Python 的 [数据类型](https://docs.python.org/3/library/datatypes.html) 文档中了解更多。

### 注释

+   注释是程序员跟踪他们在程序中所做事情的一种方式，甚至可以向其他人传达他们对于一段代码的意图。简而言之，它们是你和将看到你代码的其他人的笔记！

+   你可以在你的程序中添加注释，以便能够看到程序正在做什么。你可能编辑你的代码如下：

    [PRE5]

+   注释也可以作为你的待办事项列表。

### 模拟代码

+   模拟代码是一种重要的注释类型，它成为了一种特殊类型的待办事项列表，尤其是在你不理解如何完成编码任务时。例如，在你的代码中，你可能编辑你的代码如下：

    [PRE6]

## 进一步改进您的第一个 Python 程序

+   我们可以进一步编辑我们的代码如下：

    [PRE7]

+   结果表明，一些函数接受许多参数。

+   我们可以通过如下编辑我们的代码来使用逗号 `,` 传递多个参数：

    [PRE8]

    如果我们在终端输入“David”，输出将是 `hello, David`。成功。

## 字符串和参数

+   在 Python 中，字符串被称为 `str`，是一系列文本。

+   在我们的代码中回滚一点，回到以下内容，结果出现在多行上有一个视觉上的副作用：

    [PRE9]

+   函数通过参数影响其行为。如果我们查看 `print` 函数的文档（[`print`](https://docs.python.org/3/library/functions.html#print)），你会注意到我们可以了解很多关于 `print` 函数所接受的参数。

+   通过查看此文档，你会了解到 `print` 函数自动包含参数 `end='\n'`。这个 `\n` 表示当运行时 `print` 函数将自动创建换行。该函数接受一个名为 `end` 的参数，默认情况下是创建新行。

+   然而，我们可以技术上为 `end` 参数提供一个参数，这样就不会创建新行！

+   我们可以如下修改我们的代码：

    [PRE10]

    通过提供 `end=""`，我们正在覆盖 `end` 的默认值，这样它就不会在第一个打印语句之后创建新行。提供名字“David”，终端窗口中的输出将是 `hello, David`。

+   参数因此是函数可以接受的参数。

+   你可以在 Python 的文档中了解更多关于 `print` 的信息[这里](https://docs.python.org/3/library/functions.html#print)。

### 关于引号的一个小问题

+   注意将引号作为字符串的一部分添加进来是有挑战性的。

+   `print("hello,"friend"")` 将不会工作，解释器会抛出错误。

+   通常，有两种方法可以解决这个问题。首先，你可以简单地更改引号为单引号。

+   另一种更常用的方法是编写 `print("hello, \"friend\"")`。反斜杠告诉解释器，接下来的字符应该被视为字符串中的引号，并避免解释器错误。

## 格式化字符串

+   使用字符串最优雅的方式可能是以下这样：

    [PRE11]

    注意 `print(f"hello, {name}")` 中的 `f`。这个 `f` 是 Python 特殊处理字符串的指示符，与我们在这次讲座中展示的先前方法不同。预期你将在本课程中频繁使用这种字符串风格。

## 更多关于字符串的内容

+   你永远不应该期望你的用户会按预期合作。因此，你需要确保用户的输入被纠正或检查。

+   结果表明，字符串中内置了移除字符串中空白字符的能力。

+   通过在 `name` 上使用 `strip` 方法（例如，`name = name.strip()`），你将移除用户输入的左右两侧的所有空白字符。你可以修改你的代码如下：

    [PRE12]

    重新运行这个程序，无论你在名字前后输入多少空格，它都会移除所有空白字符。

+   使用 `title` 方法，它会将用户的名字转换为大写首字母：

    [PRE13]

+   到目前为止，你可能已经厌倦了在终端窗口中反复输入 `python`。你可以使用键盘上的上箭头键来回忆你最近输入的终端命令。

+   注意你可以修改你的代码使其更高效：

    [PRE14]

+   我们甚至可以更进一步！

    [PRE15]

+   你可以在 Python 的文档中了解更多关于字符串的信息[这里](https://docs.python.org/3/library/stdtypes.html#str)

## 整数或 int

+   在 Python 中，整数被称为 `int`。

+   在数学的世界里，我们熟悉 +, -, *, / 和 % 运算符。最后一个运算符 `%` 或取模运算符可能对你来说并不那么熟悉。

+   你不必使用文本编辑器窗口来运行 Python 代码。在你的终端中，你可以单独运行 `python`。你将在终端窗口中看到 `>>>`。然后你可以运行实时、交互式代码。你可以输入 `1+1`，然后它会运行这个计算。这种模式在本课程中不太常用。

+   再次打开 VS Code，我们可以在终端中键入`code calculator.py`。这将创建一个新文件，我们将在这个文件中创建自己的计算器。

+   首先，我们可以声明一些变量。

    [PRE16]

    自然地，当我们运行`python calculator.py`时，我们在终端窗口中得到的答案是`3`。我们可以使用`input`函数使其更具交互性。

    [PRE17]

+   运行这个程序，我们发现输出是不正确的，为`12`。这可能是为什么？

+   在此之前，我们已经看到了如何使用`+`符号连接两个字符串。因为你的计算机键盘输入在解释器中作为文本传入，所以它被视为一个字符串。因此，我们需要将这个输入从字符串转换为整数。我们可以这样做：

    [PRE18]

    现在的结果是正确的。使用`int(x)`被称为“类型转换”，其中值从一种类型的变量（在这种情况下，是一个字符串）临时转换为另一种类型（在这里，是一个整数）。

+   我们可以进一步改进我们的程序如下：

    [PRE19]

    这说明你可以对函数运行函数。内部函数首先运行，然后是外部函数。首先运行`input`函数，然后是`int`函数。

+   你可以在 Python 的`int`函数文档中了解更多信息，链接为[`int`](https://docs.python.org/3/library/functions.html?highlight=float#int)。

## 可读性为王

+   在决定你的编码任务的方法时，请记住，对于同一个问题，人们可以为许多方法做出合理的论证。

+   无论你采取什么方法来处理编程任务，请记住，你的代码必须是可读的。你应该使用注释来给自己和他人提供关于你的代码正在做什么的线索。此外，你应该以可读的方式编写代码。

## 浮点数基础

+   浮点数是一个包含小数点的实数，例如`0.52`。

+   你可以修改你的代码以支持浮点数如下：

    [PRE20]

    这个更改允许用户输入`1.2`和`3.4`以显示总数`4.6`。

+   然而，让我们假设你想要将总数四舍五入到最接近的整数。查看 Python 文档中`round`函数，你会看到可用的参数是`round(number[, ndigits])`。那些方括号表示程序员可以指定某些可选内容。因此，你可以这样做`round(n)`来将数字四舍五入到最近的整数。或者，你可以按照以下方式编写代码：

    [PRE21]

    输出将被四舍五入到最接近的整数。

+   如果我们想要格式化长数字的输出呢？例如，而不是看到`1000`，你可能希望看到`1,000`。你可以按照以下方式修改你的代码：

    [PRE22]

    虽然相当晦涩，但`print(f"{z:,}")`创建了一个场景，其中输出的`z`将在可能看起来像`1,000`或`2,500`的地方包含逗号。

## 更多关于浮点数的内容

+   我们如何四舍五入浮点数？首先，修改你的代码如下：

    [PRE23]

    当输入`2`作为 x 和`3`作为 y 时，结果 z 是`0.6666666666`，看起来像我们预期的那样无限期地继续下去。

+   让我们假设我们想要向下取整。我们可以修改我们的代码如下：

    [PRE24]

    如我们所预期的那样，这将把结果四舍五入到最接近的两个小数位。

+   我们也可以使用 `f-string` 格式化输出，如下所示：

    [PRE25]

    这个神秘的 `f-string` 代码显示的结果与我们的先前的四舍五入策略相同。

+   你可以在 Python 的 `float` 函数文档中了解更多信息：[float](https://docs.python.org/3/library/functions.html?highlight=float#float)。

## Def

+   不是很想创建我们自己的函数吗？

+   让我们在终端窗口中通过输入 `code hello.py` 来恢复 `hello.py` 的最终代码。你的起始代码应该如下所示：

    [PRE26]

    我们可以改进我们的代码，创建一个为我们说“hello”的专用函数！

+   在我们的文本编辑器中删除所有代码，让我们从头开始：

    [PRE27]

    尝试运行此代码，你的解释器将抛出一个错误。毕竟，没有为 `hello` 定义函数。

+   我们可以创建一个名为 `hello` 的函数，如下所示：

    [PRE28]

    注意，`def hello()` 下的所有内容都需要缩进。Python 是一种缩进语言。它使用缩进来理解哪些内容属于上述函数的一部分。因此，`hello` 函数中的所有内容都必须缩进。如果某项内容没有缩进，它会被视为不在 `hello` 函数内部。在终端窗口中运行 `python hello.py`，你会看到你的输出并不完全如你所愿。

+   我们可以进一步改进我们的代码：

    [PRE29]

    在这里，在第一行，你正在创建你的 `hello` 函数。然而，这次你正在告诉解释器这个函数接受一个参数：一个名为 `to` 的变量。因此，当你调用 `hello(name)` 时，计算机将 `name` 作为 `to` 传递给 `hello` 函数。这就是我们将值传递给函数的方式。非常有用！在终端窗口中运行 `python hello.py`，你会看到输出更接近我们在这堂课中早些时候提出的理想输出。

+   我们可以修改我们的代码，给 `hello` 添加一个默认值：

    [PRE30]

    自己测试一下你的代码。注意第一个 `hello` 的行为可能正如你所预期，而第二个 `hello`，由于没有传递值，将默认输出 `hello, world`。

+   我们不必在程序的开头就有我们的函数。我们可以将其向下移动，但我们需要告诉解释器我们有一个 `main` 函数和一个单独的 `hello` 函数。

    [PRE31]

    然而，这单独的步骤将创建某种错误。如果我们运行 `python hello.py`，什么都不会发生！原因在于，这段代码中没有任何内容实际调用 `main` 函数并使我们的程序活跃起来。

+   以下非常小的修改将调用 `main` 函数并使我们的程序恢复正常：

    [PRE32]

## 返回值

+   你可以想象许多场景，在这些场景中，你不仅希望函数执行一个动作，还希望它将值返回到主函数。例如，与其仅仅打印 `x + y` 的计算结果，你可能会希望函数将这个计算的结果返回到程序的另一部分。我们称这种“返回”值为 `return` 值。

+   通过输入 `code calculator.py` 返回到我们的 `calculator.py` 代码。删除那里的所有代码。按照以下方式重新编写代码：

    [PRE33]

    实际上，`x` 被传递给 `square`。然后，`x * x` 的计算结果被返回到主函数。

## 总结

通过本节课的工作，你学到了将在自己的程序中无数次使用的技能。你学习了关于…

+   在 Python 中创建你的第一个程序；

+   函数；

+   错误；

+   变量；

+   注释；

+   模拟代码；

+   字符串；

+   参数；

+   格式化字符串；

+   整数；

+   可读性原则；

+   浮点数；

+   创建你自己的函数；以及

+   返回值。
