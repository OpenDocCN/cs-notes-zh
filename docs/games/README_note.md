# GAMES 图形学系列笔记 01：图形学基础概念 🎨

在本节课中，我们将要学习计算机图形学的一些最基础、最核心的概念。这些概念是理解后续所有复杂图形技术（如渲染、动画、模拟）的基石。我们将从“图形”的定义开始，逐步深入到计算机如何表示和处理这些图形。

---

## 什么是图形？🖼️

上一节我们介绍了课程的目标，本节中我们来看看“图形”本身是什么。在计算机图形学中，“图形”通常指由计算机生成或处理的视觉内容。这可以是一张简单的二维图片，也可以是一个复杂的三维场景。

图形由两种基本元素构成：**矢量图形**和**光栅图形**。

以下是两种图形类型的主要区别：

*   **矢量图形**
    *   **定义**：使用数学公式（如点、线、曲线、多边形）来描述图像。
    *   **特点**：无限放大不会失真，文件体积通常较小，适用于Logo、图标、工程制图。
    *   **核心公式**：一条直线可以用起点`P0(x0, y0)`和终点`P1(x1, y1)`的参数方程表示：`P(t) = P0 + t * (P1 - P0)`，其中 `t` 在 [0, 1] 区间内。

*   **光栅图形（位图）**
    *   **定义**：由像素点阵构成的图像，每个像素拥有独立的颜色值。
    *   **特点**：放大到一定程度会出现“马赛克”，能表现丰富的色彩和细节，适用于照片、复杂绘画。
    *   **核心概念**：图像分辨率（如1920x1080）指像素网格的宽度和高度。颜色通常用RGB（红、绿、蓝）模型表示，例如在代码中一个红色像素可以表示为 `(255, 0, 0)`。

---

## 核心渲染流程概览 🔄

理解了图形的构成后，我们自然要问：计算机如何把这些数学描述或像素数据变成我们屏幕上看到的画面？这个过程就是**渲染**。

渲染管线是一系列将三维场景转换为二维图像的处理阶段。虽然现代图形API（如OpenGL、Vulkan）的管线非常复杂，但其核心思想可以简化为以下几个关键步骤：

以下是经典图形渲染管线的主要阶段：

1.  **顶点处理**
    *   此阶段处理三维模型的顶点数据。主要操作包括**模型变换**（将物体放置到世界坐标系）、**视图变换**（将场景转换到摄像机视角）、**投影变换**（将三维场景投影到二维成像平面）。

2.  **光栅化**
    *   此阶段将经过变换和投影后的图元（主要是三角形）转换为屏幕上的**片段**。可以理解为确定哪些像素被三角形覆盖。

3.  **片段处理**
    *   此阶段为每个片段计算最终的颜色。这里会进行关键操作，如**纹理采样**（从图片中获取颜色）、**光照计算**（根据光源计算明暗和色彩）。

4.  **输出合并**
    *   这是最后阶段，将片段颜色与帧缓冲区中已有的颜色进行混合。它处理**深度测试**（决定谁在前谁在后）和**透明度混合**等效果，最终形成屏幕上的像素。

> **重要提示**：上述流程是一个高度简化的版本。实际图形管线包含更多可编程和可配置的阶段，例如曲面细分、几何着色器等，但理解这四个基本阶段是入门的关键。

---

## 关键坐标系系统 🗺️

在渲染流程中，顶点数据需要在不同的坐标系之间转换。理解这些坐标系是理解三维图形变换的基础。

物体从本地定义到最终屏幕显示，需要经历一系列坐标空间：

*   **模型空间**
    *   物体自身的坐标系，原点通常在物体的中心或某个方便的位置。

*   **世界空间**
    *   一个统一的全局坐标系，所有物体都通过**模型变换**放置在这个空间中，以确定它们彼此之间的位置关系。

*   **观察空间（摄像机空间）**
    *   以摄像机为原点的坐标系。通过**视图变换**，将世界空间中的物体转换到摄像机视角下，摄像机看向-Z方向。

*   **裁剪空间**
    *   一个标准化的空间，在此空间中进行**投影变换**。视锥体（摄像机能看到的空间范围）内的物体会被映射到一个立方体内（如[-1,1]^3）。此空间之外的物体将被“裁剪”掉。

*   **屏幕空间**
    *   最终的二维像素坐标系。通过**视口变换**，将裁剪空间中的坐标映射到具体的屏幕像素位置上。

---

本节课中我们一起学习了计算机图形学的基础概念。我们明确了图形的两种基本形式——矢量图与位图，梳理了将三维场景渲染为二维图像的核心管线流程，并理解了顶点在渲染过程中经历的关键坐标系变换。这些概念构成了图形学大厦的地基，在后续课程中，我们将基于此，深入探讨光照、着色、纹理等更具体的技术。