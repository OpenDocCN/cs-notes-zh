![](img/7366bae8e489dd4e4935000a8cec27fc_1.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_3.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_5.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_7.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_9.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_11.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_13.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_15.png)

# GAMES102：几何建模与处理 - P13：曲面重建 🧩

![](img/7366bae8e489dd4e4935000a8cec27fc_17.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_19.png)

## 概述
在本节课中，我们将学习曲面重建的完整流程。曲面重建是几何处理的核心内容之一，旨在将真实世界中存在的物体，通过数字化手段转化为计算机中的三维模型。我们将从数据采集开始，逐步讲解数据注册、预处理、曲面重建算法以及后处理等关键步骤，并了解该领域面临的挑战与未来展望。

![](img/7366bae8e489dd4e4935000a8cec27fc_21.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_23.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_25.png)

---

![](img/7366bae8e489dd4e4935000a8cec27fc_27.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_29.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_31.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_33.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_35.png)

## 1. 数据采集 📸
上一节我们介绍了课程概述，本节中我们来看看如何获取物体的三维数据，即数据采集。

![](img/7366bae8e489dd4e4935000a8cec27fc_37.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_39.png)

数据采集是指使用传感器设备获取物体表面三维点坐标的过程。根据物体和应用场景的不同，采集的数据类型可以是单个点、轮廓线、截面或整个表面点云。

![](img/7366bae8e489dd4e4935000a8cec27fc_41.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_43.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_45.png)

以下是几种常见的三维数据采集技术：

*   **医学影像**：如CT、MRI，通过采集物体（如人体器官）的一系列横截面图像进行三维重建。
*   **Shape from Shading**：基于渲染方程的逆过程，从单张或多张在已知光照下拍摄的图片中恢复物体的三维形状和材质。
*   **多视角几何**：从不同视角拍摄多张照片，通过特征点匹配和相机参数计算，重建出物体的三维点云。其数学基础是求解一个超定方程组。
    ```数学公式
    x_{img} = K [R|T] X_{world}
    ```
    其中 `K` 是相机内参，`[R|T]` 是相机外参（旋转和平移），`X_{world}` 是世界坐标系下的三维点。
*   **结构光扫描**：使用投影仪向物体投射特定图案（如条纹），通过单个相机捕捉变形后的图案，主动地建立对应关系，从而计算三维坐标。
*   **激光雷达**：主动发射激光并接收反射信号，通过测量光飞行时间或相位差直接计算距离，生成密集的点云。
*   **深度相机**：如微软Kinect、iPhone的LiDAR，能同时捕获RGB图像和深度信息，快速获取物体的2.5维深度图。
*   **视觉外壳法**：从多个视角提取物体的轮廓，将每个轮廓反向投影成空间中的视锥体，这些视锥体的交集即为物体的近似形状。
*   **接触式探针**：通过机械装置接触物体表面并记录探针尖端的坐标，逐点采集，精度高但效率低，可能损伤物体表面。

![](img/7366bae8e489dd4e4935000a8cec27fc_47.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_49.png)

---

## 2. 数据注册与配准 🔄
在从不同视角采集到多个局部点云后，我们需要将它们对齐，合并成一个完整的点云，这个过程称为注册或配准。

对于刚性物体，配准问题可以归结为寻找一个最优的刚体变换（旋转 `R` 和平移 `T`），使得两个点云中对应点之间的距离平方和最小。
```数学公式
\min_{R, T} \sum_i ||(R \cdot x_i + T) - y_i||^2
```
其中 `x_i` 和 `y_i` 是来自不同点云的对应点。

![](img/7366bae8e489dd4e4935000a8cec27fc_51.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_53.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_55.png)

**迭代最近点算法** 是解决该问题的经典方法：
1.  为源点云中的每个点，在目标点云中寻找最近邻点作为对应点。
2.  基于这些对应点，计算最优的刚体变换。
3.  将变换应用于源点云。
4.  重复步骤1-3，直到变换收敛或达到最大迭代次数。

![](img/7366bae8e489dd4e4935000a8cec27fc_57.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_59.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_61.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_63.png)

对于非刚性或分段刚性的物体，需要设计更复杂的能量函数来建模变形。此外，在长时间或环形扫描中，还需解决**闭环检测**问题，以消除累积误差。

![](img/7366bae8e489dd4e4935000a8cec27fc_65.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_67.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_69.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_71.png)

---

![](img/7366bae8e489dd4e4935000a8cec27fc_73.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_75.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_77.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_79.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_81.png)

## 3. 点云预处理与巩固 🧹
配准后的点云数据往往存在噪声、离群点、采样不均、空洞等问题，直接用于重建效果不佳，因此需要进行预处理，即数据巩固。

![](img/7366bae8e489dd4e4935000a8cec27fc_83.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_85.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_87.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_89.png)

以下是预处理中常见的任务：

![](img/7366bae8e489dd4e4935000a8cec27fc_91.png)

*   **去噪与离群点去除**：过滤掉偏离曲面主体、因误差产生的错误点。
*   **法向一致化**：确保所有点的法向量方向一致（如都指向曲面外侧），这对后续基于隐式函数的重建方法至关重要。
*   **重采样**：使点云在曲面上的分布更均匀，避免局部过密或过疏影响重建质量。
*   **空洞初步修复**：利用点云局部信息，对小的缺失区域进行简单填充。

![](img/7366bae8e489dd4e4935000a8cec27fc_93.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_95.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_97.png)

这些预处理步骤能显著提升输入数据的质量，为后续的曲面重建算法奠定良好基础。

![](img/7366bae8e489dd4e4935000a8cec27fc_99.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_101.png)

---

![](img/7366bae8e489dd4e4935000a8cec27fc_103.png)

## 4. 曲面重建算法 🏗️
点云预处理完成后，核心任务是将离散的点连接成连续的曲面（网格）。重建算法主要分为**逼近法**和**离散法**两大类。

![](img/7366bae8e489dd4e4935000a8cec27fc_105.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_107.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_109.png)

### 4.1 逼近法
逼近法旨在拟合一个函数来表示曲面。

![](img/7366bae8e489dd4e4935000a8cec27fc_111.png)

*   **参数曲面拟合**：使用NURBS或B样条曲面片直接逼近点云，并保证片与片之间的连续性。
*   **隐式函数重建**：构造一个三维标量函数 `f(x, y, z)`，使得其零等值面 `f(x, y, z) = 0` 恰好通过或逼近给定的点云。常用方法有：
    *   **径向基函数**：使用一系列径向基函数（如高斯函数）的线性组合来拟合一个距离场。
        ```数学公式
        f(\mathbf{p}) = \sum_i w_i \phi(||\mathbf{p} - \mathbf{c}_i||) + P(\mathbf{p})
        ```
        其中 `\phi` 是径向基函数，`\mathbf{c}_i` 是中心点，`P(\mathbf{p})` 是低次多项式。
    *   **泊松重建**：通过求解泊松方程来重建指示函数，能更好地处理有向点云。
*   **等值面提取**：得到隐式函数后，使用**移动立方体算法**从其规则网格采样中提取三角网格表面。

![](img/7366bae8e489dd4e4935000a8cec27fc_113.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_115.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_117.png)

### 4.2 离散法
离散法不显式构造函数，而是直接基于点云连接成网格。

![](img/7366bae8e489dd4e4935000a8cec27fc_119.png)

*   **Delaunay/Voronoi 类方法**：如 **Crust** 算法及其变种 **Power Crust**。其核心思想是计算点云的 Voronoi 图，利用其对偶图 Delaunay 三角剖分中的某些边或面来形成重建曲面。这类方法有严格的数学保证，但要求点云采样足够均匀和稠密。
*   **基于优化的方法**：将重建问题转化为全局优化问题。例如，**L0 网格化** 方法同时优化网格顶点的位置和连接关系，最小化原始点云到重建网格的距离。
*   **演化模型法**：如“气球膨胀”模型。在物体内部放置一个初始曲面，令其沿法向向外演化，直到接触点云边界；或同时使用内外两个曲面向中间演化，其夹逼的中间面即为重建结果。

---

![](img/7366bae8e489dd4e4935000a8cec27fc_121.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_123.png)

## 5. 后处理与修复 🛠️
重建得到的网格可能仍存在缺陷，需要进行后处理。

*   **网格修复**：填补重建后仍存在的空洞。简单方法包括对孔洞边界进行三角剖分；高级方法则借鉴图像修复思想，利用网格的纹理或几何细节进行基于样例的补全。
*   **去噪、光顺与简化**：这些是网格处理的基本操作，我们在之前的课程中已经学习过，可用于提升重建网格的质量和效率。

---

![](img/7366bae8e489dd4e4935000a8cec27fc_125.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_127.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_129.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_131.png)

## 6. 动态重建与挑战 🎬
对于运动物体（如人体）的重建称为动态重建。其挑战在于：
1.  需要高速采集设备（如高帧率深度相机）。
2.  增加了时间维度的配准问题，即如何将不同时刻的网格进行对齐和跟踪。
3.  对计算效率要求极高，尤其是实时动态重建。

尽管技术不断进步，但**高质量、全自动、鲁棒的曲面重建仍是计算机图形学领域的重大挑战**。当前算法的性能严重依赖于输入数据的质量（如采样密度、噪声水平），而实际采集的数据往往不完美。如何突破这些限制，实现便捷高效的三维内容创建，是推动元宇宙、数字孪生等应用发展的关键。

![](img/7366bae8e489dd4e4935000a8cec27fc_133.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_135.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_137.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_139.png)

---

![](img/7366bae8e489dd4e4935000a8cec27fc_141.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_143.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_145.png)

## 7. 作业与课程总结 📚
本节课是曲面重建的导论。我们系统地学习了从真实物体到数字网格的完整管线：
1.  **采集**：利用各种传感器获取三维数据。
2.  **注册**：将多视角数据对齐合并。
3.  **巩固**：对点云进行去噪、重采样等预处理。
4.  **重建**：通过逼近或离散方法生成曲面网格。
5.  **后处理**：对网格进行修复和优化。

![](img/7366bae8e489dd4e4935000a8cec27fc_147.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_149.png)

作为本课程最后一次作业，大家可以从以下算法中选择实现，体验曲面重建的过程：
1.  **Crust** 算法（基于Voronoi图）。
2.  **径向基函数** 隐式重建。
3.  **泊松重建**。

![](img/7366bae8e489dd4e4935000a8cec27fc_151.png)

希望大家通过动手实践，加深对曲面重建核心思想的理解。在接下来的课程中，我们将进入几何建模与处理的高级话题，探讨形状分析、匹配及其在机器人、制造等领域的应用。

![](img/7366bae8e489dd4e4935000a8cec27fc_153.png)

![](img/7366bae8e489dd4e4935000a8cec27fc_155.png)

---
**本节课中我们一起学习了曲面重建的核心流程与主要算法，认识到将现实世界物体转化为高质量数字模型所涉及的技术广度与深度。尽管仍面临诸多挑战，但这一领域的发展无疑是连接物理世界与数字世界的关键桥梁。**