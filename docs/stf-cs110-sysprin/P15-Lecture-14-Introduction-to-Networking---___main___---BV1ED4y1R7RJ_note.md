# è¯¾ç¨‹ P15ï¼šç½‘ç»œåŸºç¡€ä»‹ç» ğŸ–§

![](img/cadd01ed9181ee7a91b8f70291dda578_1.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†è¦å­¦ä¹ è®¡ç®—æœºç½‘ç»œçš„åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯çš„æ¦‚å¿µã€ç«¯å£ä¸å¥—æ¥å­—çš„ä½œç”¨ï¼Œä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªç®€å•çš„ç½‘ç»œç¨‹åºæ¥å®ç°é€šä¿¡ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_3.png)

---

## æ¦‚è¿°

![](img/cadd01ed9181ee7a91b8f70291dda578_5.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_7.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_9.png)

ç½‘ç»œæ˜¯å°†ä¸¤å°æˆ–å¤šå°è®¡ç®—æœºè¿æ¥èµ·æ¥è¿›è¡Œé€šä¿¡çš„æŠ€æœ¯ã€‚å®ƒç±»ä¼¼äºè¿›ç¨‹é—´çš„ç®¡é“ï¼Œä½†èŒƒå›´æ›´å¹¿ï¼Œå¯ä»¥å®ç°ä¸åŒè®¡ç®—æœºä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚äº’è”ç½‘å’Œä¸‡ç»´ç½‘éƒ½åŸºäºæ­¤åŸç†å·¥ä½œã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_11.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_13.png)

æˆ‘ä»¬å°†ä»åŸºç¡€æ¦‚å¿µå¼€å§‹ï¼Œé€æ­¥å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ç¨‹åºæ¥ç›‘å¬è¿æ¥ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºæ¥è¯·æ±‚æœåŠ¡ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_15.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_17.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_18.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_20.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_22.png)

---

![](img/cadd01ed9181ee7a91b8f70291dda578_24.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_25.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_27.png)

## æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯

![](img/cadd01ed9181ee7a91b8f70291dda578_29.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_31.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_33.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_35.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†ç½‘ç»œçš„åŸºæœ¬æ¦‚å¿µï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹ç½‘ç»œé€šä¿¡ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒè§’è‰²ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ã€‚

æœåŠ¡å™¨æ˜¯ä¸€å°ç­‰å¾…å…¶ä»–è®¡ç®—æœºï¼ˆå®¢æˆ·ç«¯ï¼‰å‘èµ·è¿æ¥çš„è®¡ç®—æœºã€‚å®¢æˆ·ç«¯åˆ™æ˜¯ä¸»åŠ¨å‘æœåŠ¡å™¨å‘èµ·è¿æ¥è¯·æ±‚çš„ä¸€æ–¹ã€‚ä¾‹å¦‚ï¼Œå½“ä½ è®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œä½ çš„æµè§ˆå™¨æ˜¯å®¢æˆ·ç«¯ï¼Œè€Œæ‰˜ç®¡ç½‘ç«™çš„è®¡ç®—æœºå°±æ˜¯æœåŠ¡å™¨ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_37.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_39.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_40.png)

æœåŠ¡å™¨å¿…é¡»æå‰è®¾ç½®å¹¶è¿è¡Œï¼Œæ‰èƒ½å“åº”å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€‚ä¸€ä¸ªæœåŠ¡å™¨å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯çš„è¿æ¥ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_42.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_44.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_46.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_48.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_50.png)

---

![](img/cadd01ed9181ee7a91b8f70291dda578_52.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_54.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_56.png)

## ç«¯å£ä¸å¥—æ¥å­—

![](img/cadd01ed9181ee7a91b8f70291dda578_58.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_60.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_62.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_64.png)

ç†è§£äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å…³ç³»åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬æ˜¯å¦‚ä½•å…·ä½“å»ºç«‹è¿æ¥çš„ã€‚è¿™éœ€è¦é€šè¿‡**ç«¯å£**å’Œ**å¥—æ¥å­—**æ¥å®ç°ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_66.png)

**å¥—æ¥å­—**æ˜¯ä¸€ä¸ªç”¨äºæ ‡è¯†ç½‘ç»œè¿æ¥çš„æ•´æ•°ï¼ŒèŒƒå›´é€šå¸¸æ˜¯0åˆ°65535ã€‚ä½ å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€ä¸ªè™šæ‹Ÿçš„è¿›ç¨‹IDï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªç‰¹å®šçš„ç½‘ç»œè¿æ¥ç«¯ç‚¹ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_68.png)

**ç«¯å£å·**æ˜¯å¥—æ¥å­—çš„å…·ä½“ç¼–å·ã€‚æœåŠ¡å™¨ä¼šç›‘å¬ä¸€ä¸ªç‰¹å®šçš„ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ã€‚å½“å®¢æˆ·ç«¯æƒ³è¦è¿æ¥æœåŠ¡å™¨æ—¶ï¼Œå®ƒéœ€è¦çŸ¥é“æœåŠ¡å™¨çš„IPåœ°å€å’Œç«¯å£å·ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_70.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_72.png)

ä»¥ä¸‹æ˜¯æŸ¥çœ‹å½“å‰è®¡ç®—æœºä¸Šæ­£åœ¨ç›‘å¬çš„ç«¯å£çš„å‘½ä»¤ç¤ºä¾‹ï¼š
```bash
netstat -plnt
```

ç«¯å£å·åˆ†ä¸ºå‡ ä¸ªèŒƒå›´ï¼š
*   **0-1023**ï¼šç³»ç»Ÿç«¯å£ï¼Œé€šå¸¸ç”¨äºæ ‡å‡†æœåŠ¡ï¼ˆå¦‚HTTPçš„80ç«¯å£ï¼ŒSSHçš„22ç«¯å£ï¼‰ã€‚
*   **1024-49151**ï¼šæ³¨å†Œç«¯å£ï¼Œå¯ä¾›ç”¨æˆ·ç¨‹åºç”³è¯·ä½¿ç”¨ã€‚
*   **49152-65535**ï¼šåŠ¨æ€æˆ–ç§æœ‰ç«¯å£ï¼Œå¯ä¾›ä¸´æ—¶ä½¿ç”¨ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_74.png)

ä¸¤å°è®¡ç®—æœºä¸èƒ½åœ¨åŒä¸€ç«¯å£ä¸ŠåŒæ—¶è¿è¡Œç›‘å¬æœåŠ¡ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_76.png)

---

![](img/cadd01ed9181ee7a91b8f70291dda578_78.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_80.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_81.png)

## ç¼–å†™æ—¶é—´æœåŠ¡å™¨

![](img/cadd01ed9181ee7a91b8f70291dda578_83.png)

ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ç«¯å£å’Œå¥—æ¥å­—ï¼Œè®©æˆ‘ä»¬åŠ¨æ‰‹å®è·µï¼Œç¼–å†™ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ç¨‹åºã€‚è¿™ä¸ªæœåŠ¡å™¨å°†ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå¹¶åœ¨è¿æ¥å»ºç«‹åï¼Œå‘å®¢æˆ·ç«¯å‘é€å½“å‰çš„æ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ã€‚

ä»¥ä¸‹æ˜¯åˆ›å»ºæœåŠ¡å™¨å¥—æ¥å­—å¹¶è¿›å…¥ç›‘å¬å¾ªç¯çš„æ ¸å¿ƒä»£ç æ¡†æ¶ï¼š
```cpp
int server = createServerSocket(portNumber);
while (true) {
    int client = accept(server, nullptr, nullptr); // ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
    publishTime(client); // å‘å®¢æˆ·ç«¯å‘é€æ—¶é—´
    close(client); // å…³é—­å®¢æˆ·ç«¯è¿æ¥
}
```
`createServerSocket` å‡½æ•°å°è£…äº†åº•å±‚çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºåˆ›å»ºå’Œç»‘å®šæœåŠ¡å™¨å¥—æ¥å­—ã€‚`accept` å‡½æ•°ä¼šé˜»å¡ï¼Œç›´åˆ°æœ‰å®¢æˆ·ç«¯è¿æ¥è¿›æ¥ã€‚

---

![](img/cadd01ed9181ee7a91b8f70291dda578_85.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_87.png)

## å¤„ç†æ—¶é—´æ•°æ®

![](img/cadd01ed9181ee7a91b8f70291dda578_89.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_91.png)

åœ¨ `publishTime` å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è·å–å½“å‰æ—¶é—´å¹¶å°†å…¶æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²å‘é€ç»™å®¢æˆ·ç«¯ã€‚

æˆ‘ä»¬ä½¿ç”¨ `time` å‡½æ•°è·å–è‡ª1970å¹´1æœˆ1æ—¥ï¼ˆUnixçºªå…ƒï¼‰ä»¥æ¥çš„ç§’æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ª `time_t` ç±»å‹çš„æ•´æ•°ã€‚ç„¶åä½¿ç”¨ `gmtime` å‡½æ•°å°†å…¶è½¬æ¢ä¸ºåŒ…å«å¹´ã€æœˆã€æ—¥ç­‰è¯¦ç»†ä¿¡æ¯çš„ `struct tm` ç»“æ„ä½“ã€‚æœ€åï¼Œä½¿ç”¨ `strftime` å‡½æ•°å°†æ—¶é—´æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ‡å‡†çš„ `gmtime` å‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘é™æ€å†…å­˜çš„æŒ‡é’ˆï¼Œè¿™åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ˜¯ä¸å®‰å…¨çš„ã€‚å› æ­¤ï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹æœåŠ¡å™¨æ—¶ï¼Œåº”ä½¿ç”¨å…¶çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ `gmtime_r`ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_93.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_95.png)

ä»¥ä¸‹æ˜¯è·å–å¹¶æ ¼å¼åŒ–æ—¶é—´çš„ä»£ç ç¤ºä¾‹ï¼š
```cpp
time_t rawtime;
time(&rawtime);
struct tm tm;
gmtime_r(&rawtime, &tm); // çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬
char timeStr[128];
strftime(timeStr, sizeof(timeStr), "%c", &tm);
// ç„¶åå°† timeStr å‘é€ç»™å®¢æˆ·ç«¯
```

---

## ä½¿ç”¨ Socket++ åº“ç®€åŒ–æ“ä½œ

![](img/cadd01ed9181ee7a91b8f70291dda578_97.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_99.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_101.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_103.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_105.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_107.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬æ‰‹åŠ¨å¤„ç†äº†æ•°æ®çš„å†™å…¥å’Œè¿æ¥å…³é—­ï¼Œè¿‡ç¨‹ç¨æ˜¾ç¹çã€‚æœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ `Socket++` åº“æ¥ç®€åŒ–ç½‘ç»œç¼–ç¨‹ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_108.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_110.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_112.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_114.png)

`Socket++` åº“æä¾›äº†æ›´é«˜çº§çš„æŠ½è±¡ï¼Œå¯ä»¥åƒæ“ä½œC++æ ‡å‡†æµï¼ˆå¦‚ `cout`ï¼‰ä¸€æ ·æ“ä½œç½‘ç»œè¿æ¥ï¼Œå¹¶è‡ªåŠ¨ç®¡ç†ç¼“å†²åŒºå’Œèµ„æºé‡Šæ”¾ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_116.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_118.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_120.png)

ä½¿ç”¨ `Socket++` é‡å†™æ—¶é—´å‘é€é€»è¾‘çš„ä»£ç å¦‚ä¸‹ï¼š
```cpp
#include <socket++/sockstream.h>
// ... åˆ›å»º client å¥—æ¥å­— ...
sockbuf sb(client);
iosockstream ss(&sb);
ss << timeStr << endl;
// é€€å‡ºä½œç”¨åŸŸæ—¶ï¼Œsockbufçš„ææ„å‡½æ•°ä¼šè‡ªåŠ¨å…³é—­client
```
è¿™ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´æ˜“è¯»ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_122.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_124.png)

---

![](img/cadd01ed9181ee7a91b8f70291dda578_126.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_128.png)

## å¼•å…¥å¤šçº¿ç¨‹æå‡æ€§èƒ½

![](img/cadd01ed9181ee7a91b8f70291dda578_130.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_132.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_134.png)

æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„æœåŠ¡å™¨ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ•ˆç‡å¾ˆä½ã€‚æœ¬èŠ‚æˆ‘ä»¬å°†åˆ©ç”¨å¤šçº¿ç¨‹æŠ€æœ¯æ¥æå‡æœåŠ¡å™¨çš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_136.png)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**çº¿ç¨‹æ± **ã€‚å½“æœ‰æ–°çš„å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨ä¸»çº¿ç¨‹è¿…é€Ÿæ¥å—è¿æ¥ï¼Œç„¶åå°†å¤„ç†è¯¥å®¢æˆ·ç«¯è¯·æ±‚çš„ä»»åŠ¡ï¼ˆå¦‚ `publishTime`ï¼‰æäº¤ç»™çº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªç©ºé—²çº¿ç¨‹å»æ‰§è¡Œã€‚è¿™æ ·ï¼Œä¸»çº¿ç¨‹å°±å¯ä»¥ç«‹å³è¿”å›å»æ¥å—ä¸‹ä¸€ä¸ªè¿æ¥ï¼Œè€Œå¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚å¯ä»¥è¢«å¹¶è¡Œå¤„ç†ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨çº¿ç¨‹æ± è°ƒåº¦ä»»åŠ¡çš„æ ¸å¿ƒä»£ç ï¼š
```cpp
ThreadPool pool(4); // åˆ›å»ºåŒ…å«4ä¸ªå·¥ä½œçº¿ç¨‹çš„çº¿ç¨‹æ± 
while (true) {
    int client = accept(server, nullptr, nullptr);
    pool.schedule([client] {
        publishTime(client);
        close(client);
    });
}
```
åœ¨ä¸‹ä¸€ä¸ªä½œä¸šä¸­ï¼Œä½ å°†æœ‰æœºä¼šè‡ªå·±å®ç°ä¸€ä¸ªçº¿ç¨‹æ± ã€‚

---

## ç¼–å†™æ—¶é—´å®¢æˆ·ç«¯

![](img/cadd01ed9181ee7a91b8f70291dda578_138.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_140.png)

æœåŠ¡å™¨å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®¢æˆ·ç«¯æ¥æµ‹è¯•å®ƒã€‚ç¼–å†™å®¢æˆ·ç«¯ç›¸å¯¹æ›´ç®€å•ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_141.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_143.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_145.png)

å®¢æˆ·ç«¯çš„æ ¸å¿ƒä»»åŠ¡æ˜¯è¿æ¥åˆ°æŒ‡å®šæœåŠ¡å™¨çš„æŒ‡å®šç«¯å£ï¼Œç„¶åè¯»å–æœåŠ¡å™¨å‘é€å›æ¥çš„æ•°æ®ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_147.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_149.png)

ä»¥ä¸‹æ˜¯å®¢æˆ·ç«¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼š
```cpp
int clientSocket = createClientSocket(serverHost, portNumber);
sockbuf sb(clientSocket);
iosockstream ss(&sb);
string timeline;
getline(ss, timeline); // è¯»å–æœåŠ¡å™¨å‘æ¥çš„ä¸€è¡Œæ•°æ®
cout << timeline << endl;
```
`createClientSocket` å‡½æ•°è´Ÿè´£å»ºç«‹åˆ°æœåŠ¡å™¨çš„è¿æ¥ã€‚ä¹‹åï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ `Socket++` åº“æ¥æ–¹ä¾¿åœ°è¯»å–æ•°æ®ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_151.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_153.png)

---

![](img/cadd01ed9181ee7a91b8f70291dda578_154.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_156.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_157.png)

## æ¢ç´¢ HTTP åè®®

æˆ‘ä»¬æ„å»ºäº†è‡ªå®šä¹‰åè®®çš„æ—¶é—´æœåŠ¡å™¨ã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæœ€å¸¸ç”¨çš„åº”ç”¨å±‚åè®®æ˜¯ **HTTP**ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ã€‚æœ¬èŠ‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•å·¥å…·æ¥ç›´è§‚æ„Ÿå—HTTPã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `telnet` å‘½ä»¤æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸ªHTTPå®¢æˆ·ç«¯ã€‚`telnet` å¯ä»¥å»ºç«‹åˆ°ä»»ä½•TCPæœåŠ¡å™¨çš„çº¯æ–‡æœ¬è¿æ¥ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_159.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_161.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_162.png)

ä¾‹å¦‚ï¼Œè¿æ¥åˆ°è°·æ­Œçš„WebæœåŠ¡å™¨ï¼ˆç«¯å£80ï¼‰å¹¶è¯·æ±‚ä¸»é¡µï¼š
```bash
telnet google.com 80
```
è¿æ¥æˆåŠŸåï¼Œæ‰‹åŠ¨è¾“å…¥HTTPè¯·æ±‚ï¼š
```
GET / HTTP/1.1
Host: google.com
```
ï¼ˆè¾“å…¥ä¸¤ä¸ªç©ºè¡Œç»“æŸè¯·æ±‚å¤´ï¼‰
æœåŠ¡å™¨å°†è¿”å›è°·æ­Œé¦–é¡µçš„HTMLä»£ç ã€‚è¿™ç›´è§‚åœ°å±•ç¤ºäº†æµè§ˆå™¨ä¸WebæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æœ¬è´¨ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_164.png)

---

## æ€»ç»“

![](img/cadd01ed9181ee7a91b8f70291dda578_166.png)

![](img/cadd01ed9181ee7a91b8f70291dda578_168.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†è®¡ç®—æœºç½‘ç»œçš„åŸºç¡€çŸ¥è¯†ã€‚æˆ‘ä»¬ä»æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ¨¡å‹å…¥æ‰‹ï¼Œç†è§£äº†ç«¯å£å’Œå¥—æ¥å­—ä½œä¸ºé€šä¿¡ç«¯ç‚¹çš„ä½œç”¨ã€‚æˆ‘ä»¬å®è·µäº†å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¤šçº¿ç¨‹çš„æ—¶é—´æœåŠ¡å™¨ï¼Œä»¥åŠä¸ä¹‹é…å¥—çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå¹¶ä½¿ç”¨äº† `Socket++` åº“æ¥ç®€åŒ–ç½‘ç»œI/Oæ“ä½œã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ `telnet` å·¥å…·çª¥æ¢äº†HTTPåè®®çš„å·¥ä½œæ–¹å¼ï¼Œä¸ºåç»­å­¦ä¹ æ›´å¤æ‚çš„ç½‘ç»œåº”ç”¨æ‰“ä¸‹äº†åŸºç¡€ã€‚

![](img/cadd01ed9181ee7a91b8f70291dda578_170.png)

ç½‘ç»œç¼–ç¨‹çš„æ ¸å¿ƒåœ¨äºç†è§£è¿æ¥æ˜¯å¦‚ä½•å»ºç«‹ã€æ•°æ®æ˜¯å¦‚ä½•åœ¨å¥—æ¥å­—ä¹‹é—´å¯é ä¼ è¾“çš„ã€‚æŒæ¡äº†è¿™äº›åŸºç¡€ï¼Œä½ å°±èƒ½æ„å»ºå‡ºå„ç§ç½‘ç»œåº”ç”¨ç¨‹åºã€‚