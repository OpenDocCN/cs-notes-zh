![](img/c19076093600f9f1000b7b4bf22e053b_0.png)

![](img/c19076093600f9f1000b7b4bf22e053b_1.png)

# è¯¾ç¨‹03ï¼šC++ä¸­çš„æ–‡ä»¶è¯»å–ä¸é›†åˆåŸºç¡€ ğŸ“š

![](img/c19076093600f9f1000b7b4bf22e053b_3.png)

![](img/c19076093600f9f1000b7b4bf22e053b_5.png)

![](img/c19076093600f9f1000b7b4bf22e053b_6.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨C++ä¸­è¯»å–æ–‡ä»¶ï¼Œå¹¶åˆæ­¥äº†è§£ä¸¤ç§é‡è¦çš„æ•°æ®ç»“æ„ï¼šå‘é‡ï¼ˆVectorï¼‰å’Œç½‘æ ¼ï¼ˆGridï¼‰ã€‚è¿™äº›æ˜¯æ„å»ºæ›´å¤æ‚ç¨‹åºçš„åŸºç¡€å·¥å…·ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_8.png)

![](img/c19076093600f9f1000b7b4bf22e053b_9.png)

## æ–‡ä»¶è¯»å– ğŸ“„

ä¸Šä¸€èŠ‚æˆ‘ä»¬è®¨è®ºäº†å­—ç¬¦ä¸²ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä»å¤–éƒ¨æ–‡ä»¶è¯»å–æ•°æ®ã€‚åœ¨C++ä¸­ï¼Œæ–‡ä»¶è¯»å–æ˜¯é€šè¿‡ç§°ä¸ºâ€œæµâ€ï¼ˆstreamï¼‰çš„å¯¹è±¡å®Œæˆçš„ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_11.png)

### æ–‡ä»¶è¯»å–çš„åŸºæœ¬æ¨¡å¼

![](img/c19076093600f9f1000b7b4bf22e053b_13.png)

![](img/c19076093600f9f1000b7b4bf22e053b_15.png)

ä»¥ä¸‹æ˜¯ä½¿ç”¨`ifstream`åº“è¯»å–æ–‡ä»¶çš„å…¸å‹ç¤ºä¾‹ã€‚æ‚¨éœ€è¦å£°æ˜ä¸€ä¸ª`ifstream`ç±»å‹çš„å˜é‡ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œç„¶åä»ä¸­è¯»å–æ•°æ®ã€‚

```cpp
#include <fstream>
#include <iostream>
#include <string>
using namespace std;

int main() {
    ifstream input;
    input.open("filename.txt");
    string line;
    while (getline(input, line)) {
        cout << line << endl;
    }
    input.close();
    return 0;
}
```

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ`getline`å‡½æ•°ä¼šå°è¯•ä»è¾“å…¥æµä¸­è¯»å–ä¸€è¡Œã€‚å¦‚æœæˆåŠŸè¯»å–ï¼Œåˆ™è¿”å›`true`ï¼Œå¾ªç¯ç»§ç»­ï¼›å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–è¯»å–å¤±è´¥ï¼Œåˆ™è¿”å›`false`ï¼Œå¾ªç¯åœæ­¢ã€‚

### æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€

![](img/c19076093600f9f1000b7b4bf22e053b_17.png)

å¦‚æœæ‚¨å°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œç¨‹åºä¸ä¼šå´©æºƒï¼Œä½†è¯»å–æ“ä½œä¼šç«‹å³å¤±è´¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`.fail()`æ–¹æ³•æ¥æ£€æŸ¥æœ€åä¸€æ¬¡æ“ä½œæ˜¯å¦å¤±è´¥ã€‚

```cpp
if (input.fail()) {
    cout << "æ— æ³•æ‰“å¼€æ–‡ä»¶ã€‚" << endl;
} else {
    // æ­£å¸¸è¯»å–æ–‡ä»¶
}
```

### æŒ‰å•è¯ï¼ˆä»¤ç‰Œï¼‰è¯»å–

![](img/c19076093600f9f1000b7b4bf22e053b_19.png)

![](img/c19076093600f9f1000b7b4bf22e053b_21.png)

æœ‰æ—¶æ‚¨éœ€è¦æŒ‰å•è¯è€Œä¸æ˜¯æŒ‰è¡Œè¯»å–æ–‡ä»¶ã€‚è¿™å¯ä»¥é€šè¿‡æµæå–è¿ç®—ç¬¦`>>`æ¥å®ç°ï¼Œå®ƒä¼šè‡ªåŠ¨æŒ‰ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰åˆ†å‰²è¾“å…¥ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_23.png)

```cpp
string token;
while (input >> token) {
    cout << token << endl;
}
```

è¿™æ®µä»£ç ä¼šé€ä¸ªè¯»å–æ–‡ä»¶ä¸­çš„å•è¯å¹¶æ‰“å°å‡ºæ¥ã€‚`while (input >> token)`è¿™ä¸ªæ¡ä»¶æœ¬èº«å°±åœ¨å°è¯•è¯»å–å¹¶å°†ç»“æœå­˜å…¥`token`ï¼Œå¦‚æœè¯»å–æˆåŠŸåˆ™å¾ªç¯ç»§ç»­ã€‚

### å¤„ç†æ··åˆæ•°æ®ç±»å‹

![](img/c19076093600f9f1000b7b4bf22e053b_25.png)

å¦‚æœæ–‡ä»¶ä¸­æ··åˆäº†å­—ç¬¦ä¸²å’Œæ•´æ•°ï¼Œè€Œæ‚¨å°è¯•å°†éæ•°å­—å†…å®¹ä½œä¸ºæ•´æ•°è¯»å–ï¼Œæ“ä½œä¼šå¤±è´¥ã€‚ä¸€ç§ç­–ç•¥æ˜¯å…ˆä»¥å­—ç¬¦ä¸²å½¢å¼è¯»å–æ‰€æœ‰å†…å®¹ï¼Œç„¶ååˆ¤æ–­å“ªäº›å¯ä»¥è½¬æ¢ä¸ºæ•´æ•°ã€‚

```cpp
#include "strlib.h" // å‡è®¾æœ‰å­—ç¬¦ä¸²è½¬æ¢å·¥å…·åº“
string token;
while (input >> token) {
    if (stringIsInteger(token)) {
        int num = stringToInteger(token);
        cout << "æ‰¾åˆ°æ•´æ•°: " << num << endl;
    }
}
```

![](img/c19076093600f9f1000b7b4bf22e053b_27.png)

## é›†åˆç®€ä»‹ï¼šå‘é‡ï¼ˆVectorï¼‰ ğŸ“¦

![](img/c19076093600f9f1000b7b4bf22e053b_29.png)

![](img/c19076093600f9f1000b7b4bf22e053b_31.png)

ç°åœ¨ï¼Œæˆ‘ä»¬è½¬å‘ç”¨äºå­˜å‚¨å¤šä¸ªæ•°æ®å…ƒç´ çš„æ•°æ®ç»“æ„ï¼Œå³â€œé›†åˆâ€ã€‚é¦–å…ˆä»‹ç»çš„æ˜¯å‘é‡ï¼ˆVectorï¼‰ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_33.png)

å‘é‡æ˜¯ä¸€ä¸ªå¯ä»¥åŠ¨æ€æ”¹å˜å¤§å°çš„å…ƒç´ åºåˆ—ï¼Œç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„`ArrayList`ã€‚åœ¨C++ä¸­ï¼ŒåŸç”Ÿæ•°ç»„åŠŸèƒ½æœ‰é™ä¸”ä¸å®‰å…¨ï¼Œå› æ­¤æˆ‘ä»¬ä¸»è¦ä½¿ç”¨å‘é‡ã€‚

### å‘é‡çš„å£°æ˜ä¸åŸºæœ¬æ“ä½œ

è¦ä½¿ç”¨å‘é‡ï¼Œéœ€è¦åŒ…å«å¤´æ–‡ä»¶`#include "vector.h"`ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_35.png)

```cpp
Vector<int> numbers; // å£°æ˜ä¸€ä¸ªæ•´æ•°å‘é‡
numbers.add(42);     // åœ¨æœ«å°¾æ·»åŠ å…ƒç´ 
numbers.insert(2, 99); // åœ¨ç´¢å¼•2å¤„æ’å…¥99
int val = numbers[1]; // è·å–ç´¢å¼•1å¤„çš„å…ƒç´ 
numbers.remove(0);   // åˆ é™¤ç´¢å¼•0å¤„çš„å…ƒç´ 
```

### éå†å‘é‡

æœ‰å¤šç§æ–¹æ³•å¯ä»¥éå†å‘é‡ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

1.  **ä½¿ç”¨ä¼ ç»Ÿçš„forå¾ªç¯å’Œç´¢å¼•ï¼š**
    ```cpp
    for (int i = 0; i < numbers.size(); i++) {
        cout << numbers[i] << endl;
    }
    ```

2.  **ä½¿ç”¨â€œå¢å¼ºå‹forå¾ªç¯â€ï¼ˆèŒƒå›´forå¾ªç¯ï¼‰ï¼š**
    ```cpp
    for (int num : numbers) {
        cout << num << endl;
    }
    ```
    è¿™ç§è¯­æ³•æ›´ç®€æ´ï¼Œé€‚ç”¨äºåªéœ€ä»å¤´åˆ°å°¾é¡ºåºè®¿é—®å…ƒç´ çš„æƒ…å†µã€‚

å‘é‡çš„`insert`å’Œ`remove`æ“ä½œå¯èƒ½ä¼šå¯¼è‡´å…ƒç´ ç§»ä½ï¼Œå¦‚æœå‘é‡å¾ˆå¤§ï¼Œè¿™å¯èƒ½å½±å“æ•ˆç‡ï¼Œæˆ‘ä»¬å°†åœ¨åç»­è¯¾ç¨‹ä¸­è®¨è®ºè¿™ä¸€ç‚¹ã€‚

## é›†åˆç®€ä»‹ï¼šç½‘æ ¼ï¼ˆGridï¼‰ ğŸ—ºï¸

![](img/c19076093600f9f1000b7b4bf22e053b_37.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦ä¸€ç§é›†åˆâ€”â€”ç½‘æ ¼ï¼ˆGridï¼‰ã€‚ç½‘æ ¼æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®ç»“æ„ï¼Œéå¸¸é€‚åˆè¡¨ç¤ºæ£‹ç›˜ã€å›¾åƒåƒç´ æˆ–ç”µå­è¡¨æ ¼ç­‰çŸ©å½¢æ•°æ®ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_39.png)

### ç½‘æ ¼çš„å£°æ˜ä¸åŸºæœ¬æ“ä½œ

è¦ä½¿ç”¨ç½‘æ ¼ï¼Œéœ€è¦åŒ…å«å¤´æ–‡ä»¶`#include "grid.h"`ã€‚

```cpp
Grid<int> matrix(3, 4); // å£°æ˜ä¸€ä¸ª3è¡Œ4åˆ—çš„æ•´æ•°ç½‘æ ¼
matrix[0][1] = 5;       // åœ¨ç¬¬0è¡Œã€ç¬¬1åˆ—è®¾ç½®å€¼
int value = matrix[2][3]; // è·å–ç¬¬2è¡Œã€ç¬¬3åˆ—çš„å€¼
int rows = matrix.numRows(); // è·å–è¡Œæ•°
int cols = matrix.numCols(); // è·å–åˆ—æ•°
```
è®¿é—®å…ƒç´ æ—¶ï¼Œç¬¬ä¸€ç»„æ–¹æ‹¬å·æ˜¯è¡Œç´¢å¼•ï¼Œç¬¬äºŒç»„æ˜¯åˆ—ç´¢å¼•ã€‚

### éå†ç½‘æ ¼

éå†ç½‘æ ¼é€šå¸¸éœ€è¦åµŒå¥—å¾ªç¯ã€‚

1.  **æŒ‰è¡Œä¸»åºéå†ï¼ˆé€è¡Œéå†ï¼‰ï¼š**
    ```cpp
    for (int r = 0; r < grid.numRows(); r++) {
        for (int c = 0; c < grid.numCols(); c++) {
            cout << grid[r][c] << " ";
        }
        cout << endl;
    }
    ```

2.  **ä½¿ç”¨å¢å¼ºå‹forå¾ªç¯éå†æ‰€æœ‰å…ƒç´ ï¼š**
    ```cpp
    for (int value : grid) {
        cout << value << endl;
    }
    ```
    è¿™ç§éå†æ–¹å¼ä¸å…³å¿ƒè¡Œåˆ—ä½ç½®ï¼Œåªæ˜¯æŒ‰å­˜å‚¨é¡ºåºè®¿é—®æ¯ä¸ªå…ƒç´ ã€‚

### å‘å‡½æ•°ä¼ é€’é›†åˆ

é›†åˆå¯èƒ½åŒ…å«å¤§é‡æ•°æ®ï¼ŒæŒ‰å€¼ä¼ é€’ä¼šå¯¼è‡´å®Œæ•´çš„å¤åˆ¶ï¼Œæ•ˆç‡ä½ä¸‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸é€šè¿‡**å¼•ç”¨**æ¥ä¼ é€’é›†åˆã€‚å¦‚æœå‡½æ•°ä¸éœ€è¦ä¿®æ”¹é›†åˆçš„å†…å®¹ï¼Œå¯ä»¥åŠ ä¸Š`const`å…³é”®å­—å°†å…¶å£°æ˜ä¸ºå¸¸é‡å¼•ç”¨ï¼Œè¿™æ ·æ›´å®‰å…¨ä¸”èƒ½è¡¨è¾¾æ„å›¾ã€‚

```cpp
// è®¡ç®—ç½‘æ ¼ä¸­æ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼Œä¸éœ€è¦ä¿®æ”¹ç½‘æ ¼ï¼Œæ‰€ä»¥ä½¿ç”¨constå¼•ç”¨
int sumGrid(const Grid<int>& grid) {
    int total = 0;
    for (int value : grid) {
        total += value;
    }
    return total;
}

![](img/c19076093600f9f1000b7b4bf22e053b_41.png)

// åè½¬ç½‘æ ¼çš„å†…å®¹ï¼Œéœ€è¦ä¿®æ”¹åŸç½‘æ ¼ï¼Œæ‰€ä»¥ä½¿ç”¨æ™®é€šå¼•ç”¨
void invertGrid(Grid<int>& grid) {
    // ... åè½¬é€»è¾‘
}
```

![](img/c19076093600f9f1000b7b4bf22e053b_43.png)

## æœ¬èŠ‚è¯¾æ€»ç»“ ğŸ¯

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼š
1.  **æ–‡ä»¶è¯»å–**ï¼šå¦‚ä½•ä½¿ç”¨`ifstream`æ‰“å¼€æ–‡ä»¶ï¼ŒæŒ‰è¡Œæˆ–æŒ‰å•è¯è¯»å–å†…å®¹ï¼Œå¹¶å¤„ç†å¯èƒ½çš„é”™è¯¯ã€‚
2.  **å‘é‡ï¼ˆVectorï¼‰**ï¼šä¸€ç§åŠ¨æ€çš„ä¸€ç»´æ•°ç»„ï¼Œå­¦ä¹ äº†å…¶åŸºæœ¬æ“ä½œå’Œéå†æ–¹æ³•ã€‚
3.  **ç½‘æ ¼ï¼ˆGridï¼‰**ï¼šä¸€ç§äºŒç»´æ•°æ®ç»“æ„ï¼Œé€‚ç”¨äºå­˜å‚¨çŸ©å½¢æ•°æ®ï¼Œå­¦ä¹ äº†å…¶å£°æ˜ã€è®¿é—®å’Œéå†æ–¹å¼ã€‚

![](img/c19076093600f9f1000b7b4bf22e053b_45.png)

è¿™äº›çŸ¥è¯†æ˜¯å®Œæˆåç»­ä½œä¸šï¼ˆå¦‚â€œç”Ÿå‘½æ¸¸æˆâ€ï¼‰çš„åŸºç¡€ï¼Œåœ¨è¯¥ä½œä¸šä¸­ï¼Œæ‚¨å°†éœ€è¦ä»æ–‡ä»¶è¯»å–æ•°æ®åˆ°ç½‘æ ¼ä¸­ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚è¯·åˆ©ç”¨è¿™äº›å·¥å…·å¼€å§‹æ‚¨çš„ç¼–ç¨‹å®è·µã€‚