![](img/0a95bd144f2647b8324d3a24c1c161f7_1.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_3.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_4.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_5.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_7.png)

# æ–¯å¦ç¦å¤§å­¦ã€ŠCS106Lï¼šC++ç¼–ç¨‹ã€‹è¯¾ç¨‹ç¬”è®° P6ï¼šé«˜çº§è¿­ä»£å™¨ä¸å®¹å™¨ ğŸš€

![](img/0a95bd144f2647b8324d3a24c1c161f7_8.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_9.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_10.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_11.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_12.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_13.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_14.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ C++æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ä¸­è¿­ä»£å™¨å’Œå®¹å™¨çš„é«˜çº§ç”¨æ³•ã€‚æˆ‘ä»¬å°†æ¢è®¨è¿­ä»£å™¨çš„ä¸åŒç±»å‹ã€å®ƒä»¬ä¸ç®—æ³•çš„é…åˆï¼Œä»¥åŠå¦‚ä½•åœ¨å®é™…ç¼–ç¨‹ä¸­çµæ´»è¿ç”¨è¿™äº›å·¥å…·ã€‚

---

## è¯¾ç¨‹å›é¡¾ä¸è¿­ä»£å™¨åŸºç¡€ ğŸ”„

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†å…³è”å®¹å™¨ï¼ˆå¦‚`map`å’Œ`set`ï¼‰ä»¥åŠè¿­ä»£å™¨çš„åŸºæœ¬æ¦‚å¿µã€‚è¿­ä»£å™¨å°±åƒä¸€ä¸ªâ€œçˆªå­æœºâ€ï¼Œå¯ä»¥éå†å®¹å™¨ä¸­çš„å…ƒç´ ã€‚å…¶åŸºæœ¬è¯­æ³•åŒ…æ‹¬åˆ›å»ºã€è§£å¼•ç”¨ã€é€’å¢å’Œæ¯”è¾ƒã€‚

ä»¥ä¸‹æ˜¯è¿­ä»£å™¨çš„å››ä¸ªåŸºæœ¬æ“ä½œï¼š
1.  **åˆ›å»º**ï¼šé€šè¿‡å®¹å™¨çš„`.begin()`å’Œ`.end()`æ–¹æ³•è·å–è¿­ä»£å™¨ã€‚
    ```cpp
    std::vector<int>::iterator it = vec.begin();
    ```
2.  **è§£å¼•ç”¨**ï¼šä½¿ç”¨`*`è¿ç®—ç¬¦è·å–è¿­ä»£å™¨æŒ‡å‘çš„å€¼ã€‚
    ```cpp
    int value = *it;
    ```
3.  **é€’å¢**ï¼šä½¿ç”¨`++`è¿ç®—ç¬¦ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
    ```cpp
    ++it; // æˆ– it++;
    ```
4.  **æ¯”è¾ƒ**ï¼šä½¿ç”¨`==`æˆ–`!=`åˆ¤æ–­è¿­ä»£å™¨æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹ã€‚
    ```cpp
    while (it != vec.end()) { ... }
    ```

![](img/0a95bd144f2647b8324d3a24c1c161f7_16.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_18.png)

è¿­ä»£å™¨çš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼Œå®ƒå…è®¸æˆ‘ä»¬ç¼–å†™é€šç”¨çš„ä»£ç æ¥å¤„ç†ä¸åŒçš„å®¹å™¨ï¼ˆå¦‚`vector`ã€`list`ã€`set`ï¼‰ï¼Œè€Œæ— éœ€å…³å¿ƒå…¶åº•å±‚å®ç°ã€‚

---

## æ˜ å°„ï¼ˆMapï¼‰è¿­ä»£å™¨çš„ç‰¹æ®Šæ€§ ğŸ—ºï¸

![](img/0a95bd144f2647b8324d3a24c1c161f7_20.png)

æœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹`map`è¿­ä»£å™¨çš„ä¸€ä¸ªç‰¹æ®Šä¹‹å¤„ã€‚ä¸å…¶ä»–å®¹å™¨ä¸åŒï¼Œè§£å¼•ç”¨ä¸€ä¸ª`map`è¿­ä»£å™¨ä¸ä¼šç›´æ¥å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯å¾—åˆ°ä¸€ä¸ª`std::pair`å¯¹è±¡ã€‚

`std::pair`æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºå°†ä¸¤ä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå•å…ƒã€‚åœ¨`map`ä¸­ï¼Œ`pair.first`æ˜¯é”®ï¼ˆkeyï¼‰ï¼Œ`pair.second`æ˜¯å€¼ï¼ˆvalueï¼‰ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_22.png)

åˆ›å»º`pair`çš„ä¸¤ç§å¸¸è§æ–¹æ³•ï¼š
```cpp
// æ–¹æ³•ä¸€ï¼šç»Ÿä¸€åˆå§‹åŒ–
std::pair<std::string, int> p1 = {"Stanford", 6507232300};

![](img/0a95bd144f2647b8324d3a24c1c161f7_24.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_26.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_28.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_30.png)

// æ–¹æ³•äºŒï¼šä½¿ç”¨ std::make_pair (å¯è‡ªåŠ¨æ¨æ–­ç±»å‹)
auto p2 = std::make_pair("Stanford", 6507232300);
```

éå†`map`çš„ç¤ºä¾‹ï¼š
```cpp
std::map<std::string, int> freqMap = {{"apple", 2}, {"banana", 5}};
for (auto it = freqMap.begin(); it != freqMap.end(); ++it) {
    // æ³¨æ„æ‹¬å·ï¼šå…ˆè§£å¼•ç”¨è¿­ä»£å™¨ï¼Œå†è®¿é—®pairæˆå‘˜
    std::cout << (*it).first << ": " << (*it).second << std::endl;
    // ç­‰ä»·ç®€å†™ï¼šit->first å’Œ it->second
}
```
å¯¹äº`multimap`ï¼ˆå…è®¸é‡å¤é”®ï¼‰ï¼Œæ’å…¥å…ƒç´ é€šå¸¸ä½¿ç”¨`insert`æ–¹æ³•é…åˆ`make_pair`ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_32.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_34.png)

---

![](img/0a95bd144f2647b8324d3a24c1c161f7_36.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_38.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_40.png)

## è¿­ä»£å™¨ä¸STLç®—æ³• âš™ï¸

è¿­ä»£å™¨æ˜¯STLç®—æ³•ï¼ˆå¦‚æ’åºã€æŸ¥æ‰¾ï¼‰èƒ½å¤Ÿå·¥ä½œçš„åŸºç¡€ã€‚è¿™äº›ç®—æ³•å®šä¹‰åœ¨`<algorithm>`å¤´æ–‡ä»¶ä¸­ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_42.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_43.png)

ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸ç”¨ç®—æ³•çš„ç¤ºä¾‹ï¼š

![](img/0a95bd144f2647b8324d3a24c1c161f7_45.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_47.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_48.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_50.png)

**1. æ’åºï¼ˆstd::sortï¼‰**
`std::sort`è¦æ±‚**éšæœºè®¿é—®è¿­ä»£å™¨**ï¼Œå› æ­¤å¯ç”¨äº`vector`ã€`deque`ç­‰ï¼Œä½†ä¸èƒ½ç›´æ¥ç”¨äº`set`æˆ–`list`ï¼ˆå®ƒä»¬å·²æ’åºæˆ–éœ€è¦ç‰¹æ®Šç®—æ³•ï¼‰ã€‚
```cpp
std::vector<int> vec = {5, 3, 8, 1};
std::sort(vec.begin(), vec.end()); // æ’åºæ•´ä¸ªå‘é‡
std::sort(vec.begin(), vec.begin() + 2); // åªæ’åºå‰ä¸¤ä¸ªå…ƒç´ 
```

![](img/0a95bd144f2647b8324d3a24c1c161f7_52.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_54.png)

**2. æŸ¥æ‰¾ï¼ˆstd::findï¼‰**
`std::find`åªè¦æ±‚**è¾“å…¥è¿­ä»£å™¨**ï¼Œå› æ­¤å¯ç”¨äºå‡ ä¹æ‰€æœ‰å®¹å™¨ï¼Œç”šè‡³è¾“å…¥æµã€‚å®ƒè¿”å›ä¸€ä¸ªæŒ‡å‘æ‰¾åˆ°å…ƒç´ çš„è¿­ä»£å™¨ï¼Œè‹¥æœªæ‰¾åˆ°åˆ™è¿”å›`.end()`ã€‚
```cpp
std::set<int> mySet = {3, 1, 4, 1, 5, 9};
auto it = std::find(mySet.begin(), mySet.end(), 5);
if (it != mySet.end()) {
    std::cout << "Found: " << *it << std::endl;
}
```
æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨`map`/`set`ä¸­ï¼Œé™¤äº†ç”¨`.count()`ï¼Œä¹Ÿå¯ç”¨`.find()`ï¼Œåè€…æ•ˆç‡ç•¥é«˜ã€‚

**3. èŒƒå›´æ“ä½œ**
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åƒ`std::lower_bound`å’Œ`std::upper_bound`è¿™æ ·çš„å‡½æ•°æ¥è·å–è¿­ä»£å™¨èŒƒå›´ï¼Œä»è€Œåªå¤„ç†å®¹å™¨çš„ä¸€éƒ¨åˆ†ã€‚
- `lower_bound(k)`: è¿”å›æŒ‡å‘**ç¬¬ä¸€ä¸ªä¸å°äºk**çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚
- `upper_bound(k)`: è¿”å›æŒ‡å‘**ç¬¬ä¸€ä¸ªå¤§äºk**çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚
```cpp
std::set<int> s = {1, 4, 5, 6, 9};
auto low = s.lower_bound(4); // æŒ‡å‘4
auto high = s.upper_bound(6); // æŒ‡å‘9
for (auto it = low; it != high; ++it) {
    std::cout << *it << " "; // è¾“å‡ºï¼š4 5 6
}
```

![](img/0a95bd144f2647b8324d3a24c1c161f7_56.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_58.png)

---

![](img/0a95bd144f2647b8324d3a24c1c161f7_60.png)

## åŸºäºèŒƒå›´çš„forå¾ªç¯ä¸è¿­ä»£å™¨ ğŸ”„

åœ¨éå†æ•´ä¸ªå®¹å™¨æ—¶ï¼ŒåŸºäºèŒƒå›´çš„forå¾ªç¯ï¼ˆrange-based for loopï¼‰è¯­æ³•æ›´ç®€æ´ï¼Œå®ƒæ˜¯åŸºäºè¿­ä»£å™¨å®ç°çš„è¯­æ³•ç³–ã€‚
```cpp
std::map<std::string, int> freqMap;
// ä½¿ç”¨è¿­ä»£å™¨éå†
for (auto it = freqMap.begin(); it != freqMap.end(); ++it) { ... }
// ä½¿ç”¨åŸºäºèŒƒå›´çš„forå¾ªç¯éå†
for (const auto& entry : freqMap) { ... }
// ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰ç›´æ¥è§£åŒ…pair
for (const auto& [key, value] : freqMap) {
    std::cout << key << ": " << value << std::endl;
}
```
å½“éœ€è¦**éƒ¨åˆ†éå†**æˆ–**ä½¿ç”¨è¿­ä»£å™¨æœ¬èº«**ï¼ˆå¦‚ä¼ é€’ç»™ç®—æ³•ï¼‰æ—¶ï¼Œä¼ ç»Ÿçš„è¿­ä»£å™¨å¾ªç¯æ›´çµæ´»ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_62.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_64.png)

---

## è¿­ä»£å™¨çš„äº”ç§ç±»å‹ ğŸ·ï¸

å¹¶éæ‰€æœ‰è¿­ä»£å™¨éƒ½æ”¯æŒç›¸åŒçš„æ“ä½œã€‚C++å®šä¹‰äº†äº”ç§è¿­ä»£å™¨ç±»å‹ï¼Œå…¶åŠŸèƒ½ç”±å¼±åˆ°å¼ºï¼š

1.  **è¾“å…¥è¿­ä»£å™¨ï¼ˆInput Iteratorï¼‰**
    *   **åªè¯»**ï¼Œä¸”é€šå¸¸åªèƒ½**å•æ¬¡éå†**ï¼ˆéå†ä¸€æ¬¡åè¿­ä»£å™¨å¯èƒ½å¤±æ•ˆï¼‰ã€‚
    *   ä¾‹å¦‚ï¼šä»`std::cin`è¯»å–æ•°æ®çš„è¿­ä»£å™¨ã€‚
    *   `std::find`è¦æ±‚è¾“å…¥è¿­ä»£å™¨ã€‚

2.  **è¾“å‡ºè¿­ä»£å™¨ï¼ˆOutput Iteratorï¼‰**
    *   **åªå†™**ï¼Œé€šå¸¸ä¹Ÿæ˜¯å•æ¬¡éå†ã€‚
    *   ä¾‹å¦‚ï¼šå‘`std::cout`å†™å…¥æ•°æ®çš„è¿­ä»£å™¨ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_66.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_68.png)

3.  **å‰å‘è¿­ä»£å™¨ï¼ˆForward Iteratorï¼‰**
    *   æ”¯æŒ**è¯»å†™**ï¼Œä¸”æ”¯æŒ**å¤šæ¬¡éå†**ï¼ˆå¯ä»¥ä¿å­˜è¿­ä»£å™¨å¹¶é‡æ–°éå†ï¼‰ã€‚
    *   ä¾‹å¦‚ï¼š`std::forward_list`çš„è¿­ä»£å™¨ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_70.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_71.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_73.png)

4.  **åŒå‘è¿­ä»£å™¨ï¼ˆBidirectional Iteratorï¼‰**
    *   åœ¨å‰å‘è¿­ä»£å™¨åŸºç¡€ä¸Šï¼Œæ”¯æŒ**é€’å‡**ï¼ˆ`--`æ“ä½œï¼‰ã€‚
    *   ä¾‹å¦‚ï¼š`std::list`ã€`std::set`ã€`std::map`çš„è¿­ä»£å™¨ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_75.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_77.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_79.png)

5.  **éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆRandom Access Iteratorï¼‰**
    *   åŠŸèƒ½æœ€å¼ºå¤§ï¼Œæ”¯æŒåœ¨å¸¸æ•°æ—¶é—´å†…**ä»»æ„è·³è·ƒ**ï¼ˆå¦‚`it + 5`ã€`it - 3`ï¼‰ã€‚
    *   ä¾‹å¦‚ï¼š`std::vector`ã€`std::deque`ã€`std::string`çš„è¿­ä»£å™¨ï¼Œä»¥åŠ**åŸç”ŸæŒ‡é’ˆ**ã€‚

**é‡è¦å…³ç³»**ï¼šéšæœºè®¿é—®è¿­ä»£å™¨ > åŒå‘è¿­ä»£å™¨ > å‰å‘è¿­ä»£å™¨ > (è¾“å…¥/è¾“å‡ºè¿­ä»£å™¨)ã€‚ä¸€ä¸ªå‡½æ•°å¦‚æœè¦æ±‚è¾“å…¥è¿­ä»£å™¨ï¼Œé‚£ä¹ˆä¼ å…¥æ›´å¼ºå¤§çš„è¿­ä»£å™¨ï¼ˆå¦‚å‰å‘ã€åŒå‘è¿­ä»£å™¨ï¼‰ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

---

## è¿­ä»£å™¨ä¸æŒ‡é’ˆçš„å…³ç³» âš–ï¸

æŒ‡é’ˆå¯ä»¥çœ‹ä½œæ˜¯éšæœºè®¿é—®è¿­ä»£å™¨çš„ä¸€ç§å…·ä½“å®ç°ã€‚æ›´å¹¿ä¹‰åœ°è¯´ï¼š
*   **æŒ‡é’ˆ**ï¼šæ˜¯ä¸€ç§å…·ä½“çš„å˜é‡ç±»å‹ï¼Œå­˜å‚¨å†…å­˜åœ°å€ã€‚
*   **è¿­ä»£å™¨**ï¼šæ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå®šä¹‰äº†éå†å®¹å™¨çš„ä¸€ç»„æ“ä½œæ¥å£ã€‚
æ‰€æœ‰éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆåŒ…æ‹¬æŒ‡é’ˆï¼‰éƒ½æ»¡è¶³è¿™ä¸ªæ¥å£ã€‚å› æ­¤ï¼Œåœ¨è®¸å¤šSTLç®—æ³•ä¸­ï¼ŒåŸç”ŸæŒ‡é’ˆå¯ä»¥ç›´æ¥å½“ä½œè¿­ä»£å™¨ä½¿ç”¨ã€‚

---

![](img/0a95bd144f2647b8324d3a24c1c161f7_81.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_83.png)

## æ€»ç»“ ğŸ“š

![](img/0a95bd144f2647b8324d3a24c1c161f7_85.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼š
1.  **è¿­ä»£å™¨çš„é«˜çº§åº”ç”¨**ï¼šå¦‚ä½•ä¸`std::pair`é…åˆä½¿ç”¨`map`è¿­ä»£å™¨ã€‚
2.  **STLç®—æ³•**ï¼šå¦‚ä½•ä½¿ç”¨è¿­ä»£å™¨é…åˆ`std::sort`ã€`std::find`ç­‰å¼ºå¤§ç®—æ³•ã€‚
3.  **è¿­ä»£å™¨èŒƒå›´**ï¼šå¦‚ä½•ä½¿ç”¨`lower_bound`ç­‰å‡½æ•°æ“ä½œå®¹å™¨çš„å­èŒƒå›´ã€‚
4.  **è¿­ä»£å™¨ç±»å‹ä½“ç³»**ï¼šç†è§£äº†äº”ç§è¿­ä»£å™¨ç±»å‹åŠå…¶èƒ½åŠ›å·®å¼‚ï¼Œæ˜ç™½äº†ä¸ºä½•æŸäº›ç®—æ³•ï¼ˆå¦‚`sort`ï¼‰ä¸èƒ½ç”¨äºæ‰€æœ‰å®¹å™¨ã€‚
5.  **è¿­ä»£å™¨ä¸æŒ‡é’ˆ**ï¼šäº†è§£äº†æŒ‡é’ˆæ˜¯è¿­ä»£å™¨æ¦‚å¿µçš„ä¸€ç§å…·ä½“å®ç°ã€‚

![](img/0a95bd144f2647b8324d3a24c1c161f7_87.png)

![](img/0a95bd144f2647b8324d3a24c1c161f7_88.png)

æŒæ¡è¿­ä»£å™¨æ˜¯ç†è§£å’Œä½¿ç”¨C++ STLçš„å…³é”®ã€‚å®ƒä»¬æä¾›äº†ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†å’Œæ“ä½œå„ç§æ•°æ®ç»“æ„ï¼Œä½¿ä»£ç æ›´åŠ é€šç”¨å’Œå¼ºå¤§ã€‚åœ¨ä¸‹ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ **æ¨¡æ¿**ï¼Œè¿™æ˜¯å°†è¿­ä»£å™¨ã€å®¹å™¨å’Œç®—æ³•çš„é€šç”¨æ€§å‘æŒ¥åˆ°æè‡´çš„æ ¸å¿ƒæŠ€æœ¯ã€‚