# ğŸ“˜ è¯¾ç¨‹ P28ï¼šXML æŸ¥è¯¢ä¸ XSLT å®è·µæ•™ç¨‹

![](img/efd01bb0d4d6e4eea8c18808748a281d_1.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ XPathã€XQuery å’Œ XSLT å¯¹ XML æ•°æ®è¿›è¡ŒæŸ¥è¯¢ä¸è½¬æ¢ã€‚æˆ‘ä»¬å°†é€šè¿‡ä¸¤ä¸ªæ•°æ®é›†ï¼ˆè¯¾ç¨‹ç›®å½•å’Œä¸–ç•Œå„å›½ï¼‰çš„ç»ƒä¹ é¢˜ï¼ŒæŒæ¡è¿™äº›æŠ€æœ¯çš„æ ¸å¿ƒè¯­æ³•å’Œåº”ç”¨åœºæ™¯ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_3.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_5.png)

## ğŸ—‚ï¸ æ¦‚è¿°ä¸æ•°æ®é›†ä»‹ç»

![](img/efd01bb0d4d6e4eea8c18808748a281d_7.png)

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„ä¸¤ä¸ª XML æ•°æ®é›†çš„ç»“æ„ã€‚

**è¯¾ç¨‹ç›®å½•æ•°æ®é›† (`courses.xml`)** çš„æ ¹å…ƒç´ æ˜¯ `<catalog>`ï¼Œå…¶ä¸‹åŒ…å« `<department>` å…ƒç´ ã€‚æ¯ä¸ª `<department>` ä¸‹åˆæœ‰å¤šä¸ª `<course>` å…ƒç´ ã€‚è¯¾ç¨‹ä¿¡æ¯åŒ…æ‹¬ç¼–å·ï¼ˆ`@number` å±æ€§ï¼‰ã€æ ‡é¢˜ï¼ˆ`<title>`ï¼‰ã€æè¿°ï¼ˆ`<description>`ï¼‰ã€æ³¨å†Œäººæ•°ï¼ˆ`<enrollment>`ï¼‰å’Œè®²å¸ˆï¼ˆ`<instructors>`ï¼‰ç­‰ã€‚

**ä¸–ç•Œå„å›½æ•°æ®é›† (`countries.xml`)** çš„æ ¹å…ƒç´ æ˜¯ `<mondial>`ï¼Œå…¶ä¸‹åŒ…å«å¤šä¸ª `<country>` å…ƒç´ ã€‚æ¯ä¸ªå›½å®¶æœ‰åç§°ï¼ˆ`@name`ï¼‰ã€äººå£ï¼ˆ`@population`ï¼‰ã€é¢ç§¯ï¼ˆ`@area`ï¼‰ç­‰å±æ€§ï¼Œå¹¶å¯èƒ½åŒ…å« `<language>` å’Œ `<city>` å­å…ƒç´ ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_9.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_11.png)

ç†è§£æ•°æ®ç»“æ„æ˜¯ç¼–å†™æ­£ç¡®æŸ¥è¯¢çš„ç¬¬ä¸€æ­¥ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¼€å§‹å…·ä½“çš„ç»ƒä¹ ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_13.png)

---

## ğŸ” ç¬¬ä¸€éƒ¨åˆ†ï¼šXPath ä¸ XQuery ç»ƒä¹ 

![](img/efd01bb0d4d6e4eea8c18808748a281d_15.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†æ•°æ®é›†çš„ç»“æ„ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ XPath å’Œ XQuery è¿›è¡ŒæŸ¥è¯¢ã€‚

### ç»ƒä¹  1ï¼šæŸ¥æ‰¾è·¨åˆ—è¯¾ç¨‹

![](img/efd01bb0d4d6e4eea8c18808748a281d_17.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_18.png)

**ç›®æ ‡**ï¼šè¿”å›æè¿°ä¸­åŒ…å« â€œcross-listed as Ling 180â€ çš„è¯¾ç¨‹ç¼–å·ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_19.png)

æˆ‘ä»¬éœ€è¦å®šä½åˆ° `<course>` å…ƒç´ ï¼Œå¹¶ç­›é€‰å…¶ `<description>` ä¸­çš„æ–‡æœ¬ã€‚è¯¾ç¨‹ç¼–å·å­˜å‚¨åœ¨ `@number` å±æ€§ä¸­ã€‚

**XPath æŸ¥è¯¢**ï¼š
```xpath
//course[contains(description, "cross-listed as Ling 180")]/data(@number)
```
**è§£é‡Š**ï¼š
*   `//course`ï¼šé€‰æ‹©æ–‡æ¡£ä¸­æ‰€æœ‰ `<course>` å…ƒç´ ã€‚
*   `[contains(description, â€œ...â€)]`ï¼šç­›é€‰æ¡ä»¶ï¼Œè¦æ±‚ `<description>` å…ƒç´ åŒ…å«æŒ‡å®šæ–‡æœ¬ã€‚
*   `/data(@number)`ï¼šä»ç­›é€‰åçš„è¯¾ç¨‹ä¸­æå– `@number` å±æ€§çš„å€¼ã€‚

æ­¤æŸ¥è¯¢å°†è¿”å› **CS124**ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_21.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_23.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_25.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_27.png)

### ç»ƒä¹  2ï¼šæŸ¥æ‰¾ç‰¹å®šè®²å¸ˆæ•™æˆçš„è¯¾ç¨‹

![](img/efd01bb0d4d6e4eea8c18808748a281d_29.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_31.png)

**ç›®æ ‡**ï¼šè¿”å›ç”±åå­—æ˜¯ â€œDaphneâ€ æˆ– â€œJulieâ€ çš„è®²å¸ˆæ•™æˆçš„è¯¾ç¨‹ç¼–å·ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_33.png)

æˆ‘ä»¬éœ€è¦åœ¨ `<course>` å…ƒç´ å†…ï¼Œæ£€æŸ¥ `<instructors>` ä¸‹çš„å­å…ƒç´ ï¼ˆå¯èƒ½æ˜¯ `<lecturer>` æˆ– `<professor>`ï¼‰çš„ `<first_name>`ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_34.png)

**XPath æŸ¥è¯¢**ï¼š
```xpath
//course[instructors/*[first_name="Daphne" or first_name="Julie"]]/data(@number)
```
**è§£é‡Š**ï¼š
*   `instructors/*`ï¼šä½¿ç”¨é€šé…ç¬¦ `*` åŒ¹é… `<instructors>` ä¸‹çš„ä»»ä½•ç›´æ¥å­å…ƒç´ ï¼ˆå³è®²å¸ˆæˆ–æ•™æˆï¼‰ã€‚
*   `[first_name=â€œDaphneâ€ or first_name=â€œJulieâ€]`ï¼šç­›é€‰æ¡ä»¶ï¼Œè¦æ±‚åå­—åŒ¹é…ã€‚
*   æœ€ç»ˆè¿”å›æ»¡è¶³æ¡ä»¶çš„è¯¾ç¨‹çš„ç¼–å·ï¼Œä¾‹å¦‚ **CS107** å’Œ **CS228**ã€‚

---

### ç»ƒä¹  3ï¼šæŸ¥æ‰¾åŒæ—¶æ‹¥æœ‰è®²å¸ˆå’Œæ•™æˆçš„è¯¾ç¨‹

![](img/efd01bb0d4d6e4eea8c18808748a281d_36.png)

**ç›®æ ‡**ï¼šè¿”å›åŒæ—¶æ‹¥æœ‰ `<lecturer>` å’Œ `<professor>` ä½œä¸ºè®²å¸ˆçš„è¯¾ç¨‹æ ‡é¢˜ï¼Œä¸”æ¯ä¸ªæ ‡é¢˜åªå‡ºç°ä¸€æ¬¡ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_38.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_40.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_41.png)

è¿™ä¸ªæŸ¥è¯¢æ›´é€‚åˆç”¨ XQuery è¡¨è¾¾ï¼Œå› ä¸ºå®ƒæ¶‰åŠå¯¹å…ƒç´ é›†åˆçš„è¿­ä»£å’Œæ¡ä»¶åˆ¤æ–­ã€‚

**XQuery æŸ¥è¯¢**ï¼š
```xquery
for $c in doc(â€œcourses.xmlâ€)//course
where $c/instructors/lecturer and $c/instructors/professor
return $c/title
```
**è§£é‡Š**ï¼š
*   `for $c in â€¦`ï¼šéå†æ¯ä¸€ä¸ª `<course>` å…ƒç´ ã€‚
*   `where â€¦`ï¼šæ¡ä»¶ä¸ºè¯¾ç¨‹ä¸‹åŒæ—¶å­˜åœ¨ `<instructors/lecturer>` å’Œ `<instructors/professor>` è·¯å¾„ã€‚
*   `return $c/title`ï¼šè¿”å›æ»¡è¶³æ¡ä»¶çš„è¯¾ç¨‹çš„ `<title>` å…ƒç´ å†…å®¹ã€‚

æ­¤æŸ¥è¯¢å°†è¿”å› **Programming Methodology** å’Œ **Programming Abstractions**ã€‚

---

## ğŸŒ ç¬¬äºŒéƒ¨åˆ†ï¼šä¸–ç•Œå„å›½æ•°æ®é›†æŸ¥è¯¢

å®Œæˆäº†è¯¾ç¨‹ç›®å½•çš„ç»ƒä¹ ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹æ›´å¤æ‚çš„å›½å®¶æ•°æ®æŸ¥è¯¢ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_43.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_44.png)

### ç»ƒä¹  11ï¼šæŸ¥æ‰¾ç¬¦åˆç‰¹å®šæ¡ä»¶çš„å›½å®¶

![](img/efd01bb0d4d6e4eea8c18808748a281d_46.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_47.png)

**ç›®æ ‡**ï¼šè¿”å›æ‰€æœ‰æ²¡æœ‰è¯­è¨€æˆ–åŸå¸‚æ•°æ®ï¼Œä½†äººå£è¶…è¿‡ 1000 ä¸‡çš„å›½å®¶çš„åç§°ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_49.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_50.png)

æˆ‘ä»¬éœ€è¦ä½¿ç”¨ `count()` å‡½æ•°æ¥æ£€æŸ¥å­å…ƒç´ çš„æ•°é‡ï¼Œå¹¶ç»“åˆå±æ€§å€¼è¿›è¡Œç­›é€‰ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_52.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_54.png)

**XPath æŸ¥è¯¢**ï¼š
```xpath
//country[count(language)=0 and count(city)=0 and @population > 10000000]/data(@name)
```
**è§£é‡Š**ï¼š
*   `count(language)=0`ï¼šç¡®ä¿ `<country>` ä¸‹æ²¡æœ‰ `<language>` å­å…ƒç´ ã€‚
*   `count(city)=0`ï¼šç¡®ä¿æ²¡æœ‰ `<city>` å­å…ƒç´ ã€‚
*   `@population > 10000000`ï¼šç¡®ä¿äººå£å±æ€§å€¼å¤§äºä¸€åƒä¸‡ã€‚
*   æœ€ç»ˆè¿”å›æ»¡è¶³æ‰€æœ‰æ¡ä»¶çš„å›½å®¶çš„ `@name` å±æ€§å€¼ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_56.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_57.png)

### ç»ƒä¹  12ï¼šæŸ¥æ‰¾æ‹¥æœ‰æœ€å¤§åŸå¸‚çš„å›½å®¶

**ç›®æ ‡**ï¼šè¿”å›æ‹¥æœ‰æ‰€æœ‰åŸå¸‚ä¸­äººå£æœ€å¤šçš„åŸå¸‚æ‰€åœ¨å›½å®¶çš„åç§°ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_59.png)

è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„æŸ¥è¯¢ï¼Œéœ€è¦æ¯”è¾ƒæ‰€æœ‰åŸå¸‚çš„äººå£ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ XQuery çš„ `every` é‡è¯è¿›è¡Œéå†æ¯”è¾ƒï¼Œå¹¶æ³¨æ„å°†äººå£æ•°æ®è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_61.png)

**XQuery æŸ¥è¯¢**ï¼š
```xquery
for $c in doc(â€œcountries.xmlâ€)//country
for $city in $c/city
where every $city2 in doc(â€œcountries.xmlâ€)//city
satisfies xs:integer($city2/@population) <= xs:integer($city/@population)
return $c/data(@name)
```
**è§£é‡Š**ï¼š
*   ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼šå¤–å±‚éå†å›½å®¶ `$c`ï¼Œå†…å±‚éå†è¯¥å›½çš„æ¯ä¸ªåŸå¸‚ `$city`ã€‚
*   `where every â€¦ satisfies â€¦`ï¼šæ ¸å¿ƒæ¡ä»¶ã€‚å®ƒæ£€æŸ¥å¯¹äºæ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªå…¶ä»–åŸå¸‚ `$city2`ï¼Œå…¶äººå£æ˜¯å¦éƒ½å°äºæˆ–ç­‰äºå½“å‰åŸå¸‚ `$city` çš„äººå£ã€‚å¦‚æœæˆç«‹ï¼Œåˆ™ `$city` å°±æ˜¯äººå£æœ€å¤šçš„åŸå¸‚ã€‚
*   `xs:integer(â€¦)`ï¼šå°† `@population` å±æ€§å€¼æ˜¾å¼è½¬æ¢ä¸ºæ•´æ•°ï¼Œä»¥ç¡®ä¿è¿›è¡Œæ•°å€¼æ¯”è¾ƒè€Œéå­—ç¬¦ä¸²æ¯”è¾ƒã€‚
*   æœ€ç»ˆè¿”å›è¯¥åŸå¸‚æ‰€å±å›½å®¶çš„åç§°ã€‚æ­£ç¡®ç»“æœæ˜¯ **South Korea**ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_63.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_65.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_67.png)

## ğŸ› ï¸ ç¬¬ä¸‰éƒ¨åˆ†ï¼šXSLT è½¬æ¢ç»ƒä¹ 

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä½¿ç”¨ XPath å’Œ XQuery è¿›è¡ŒæŸ¥è¯¢ï¼Œæœ¬èŠ‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ XSLT å¯¹ XML æ–‡æ¡£è¿›è¡Œè½¬æ¢ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_69.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_71.png)

### ç»ƒä¹  1ï¼šç­›é€‰å¹¶ä¿ç•™è¯¾ç¨‹ç»“æ„

![](img/efd01bb0d4d6e4eea8c18808748a281d_72.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_73.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_75.png)

**ç›®æ ‡**ï¼šè¿”å›æ‰€æœ‰æ³¨å†Œäººæ•°å¤§äº 500 çš„è¯¾ç¨‹ï¼Œå¹¶ä¿ç•™å…¶å®Œæ•´çš„åŸå§‹ XML ç»“æ„ã€‚

XSLT é€šè¿‡æ¨¡æ¿åŒ¹é…å’Œå¤åˆ¶æ¥å®ç°ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡æ¿æ¥åŒ¹é…ç›®æ ‡è¯¾ç¨‹ï¼Œå¦ä¸€ä¸ªæ¨¡æ¿æ¥é˜»æ­¢æ— å…³æ–‡æœ¬çš„è¾“å‡ºã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_77.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_78.png)

**XSLT æ ·å¼è¡¨**ï¼š
```xml
<xsl:stylesheet version=â€œ1.0â€ xmlns:xsl=â€œhttp://www.w3.org/1999/XSL/Transformâ€>
    <!-- åŒ¹é…å¹¶å¤åˆ¶æ³¨å†Œäººæ•°å¤§äº500çš„è¯¾ç¨‹ -->
    <xsl:template match=â€œcourse[enrollment > 500]â€>
        <xsl:copy-of select=â€œ.â€/>
    </xsl:template>
    <!-- åŒ¹é…æ–‡æœ¬èŠ‚ç‚¹ä½†ä¸è¾“å‡ºï¼Œé˜²æ­¢æ— å…³æ–‡æœ¬æ³„éœ² -->
    <xsl:template match=â€œtext()â€/>
</xsl:stylesheet>
```
**è§£é‡Š**ï¼š
*   ç¬¬ä¸€ä¸ªæ¨¡æ¿åŒ¹é… `enrollment > 500` çš„ `<course>` å…ƒç´ ï¼Œå¹¶ä½¿ç”¨ `<xsl:copy-of select=â€œ.â€/>` å°†å…¶å®Œæ•´å¤åˆ¶åˆ°è¾“å‡ºã€‚
*   ç¬¬äºŒä¸ªæ¨¡æ¿ `match=â€œtext()â€` åŒ¹é…æ‰€æœ‰æ–‡æœ¬èŠ‚ç‚¹ï¼Œä½†ä¸äº§ç”Ÿä»»ä½•è¾“å‡ºï¼Œè¿™å¯ä»¥é˜²æ­¢æœªè¢«æ˜¾å¼å¤„ç†çš„æ–‡æœ¬å‡ºç°åœ¨ç»“æœä¸­ã€‚

---

### ç»ƒä¹  2ï¼šä»æ•°æ®ä¸­åˆ é™¤ç‰¹å®šè¯¾ç¨‹

![](img/efd01bb0d4d6e4eea8c18808748a281d_80.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_82.png)

**ç›®æ ‡**ï¼šä»è¯¾ç¨‹ç›®å½•ä¸­åˆ é™¤æ‰€æœ‰æ³¨å†Œäººæ•°å¤§äº 60 æˆ–æ²¡æœ‰åˆ—å‡ºæ³¨å†Œäººæ•°çš„è¯¾ç¨‹ï¼Œå¹¶ä¿æŒå…¶ä»–ç»“æ„ä¸å˜ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_84.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_86.png)

æ€è·¯æ˜¯ä½¿ç”¨ä¸€ä¸ªâ€œé€šé…â€æ¨¡æ¿å¤åˆ¶æ•´ä¸ªæ–‡æ¡£ç»“æ„ï¼Œç„¶åä¸ºéœ€è¦åˆ é™¤çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªâ€œç©ºâ€æ¨¡æ¿ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_88.png)

**XSLT æ ·å¼è¡¨**ï¼š
```xml
<xsl:stylesheet version=â€œ1.0â€ xmlns:xsl=â€œhttp://www.w3.org/1999/XSL/Transformâ€>
    <!-- é€šé…æ¨¡æ¿ï¼Œå¤åˆ¶æ‰€æœ‰å…ƒç´ å’Œå±æ€§å¹¶ç»§ç»­å¤„ç†å…¶å­èŠ‚ç‚¹ -->
    <xsl:template match=â€œ@*|node()â€>
        <xsl:copy>
            <xsl:apply-templates select=â€œ@*|node()â€/>
        </xsl:copy>
    </xsl:template>
    <!-- åŒ¹é…éœ€è¦åˆ é™¤çš„è¯¾ç¨‹ï¼šæ³¨å†Œäººæ•°>60 æˆ– æ— æ³¨å†Œäººæ•°å…ƒç´  -->
    <xsl:template match=â€œcourse[enrollment > 60 or not(enrollment)]â€/>
</xsl:stylesheet>
```
**è§£é‡Š**ï¼š
*   `match=â€œ@*|node()â€`ï¼šè¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¨¡æ¿ï¼ŒåŒ¹é…æ‰€æœ‰å±æ€§(`@*`)å’Œæ‰€æœ‰ç±»å‹çš„èŠ‚ç‚¹(`node()``)ã€‚å®ƒé€šè¿‡ `<xsl:copy>` å’Œ `<xsl:apply-templates>` é€’å½’åœ°å¤åˆ¶æ•´ä¸ªæ–‡æ¡£çš„éª¨æ¶ã€‚
*   `match=â€œcourse[enrollment > 60 or not(enrollment)]â€`ï¼šè¿™ä¸ªæ¨¡æ¿åŒ¹é…éœ€è¦åˆ é™¤çš„è¯¾ç¨‹ã€‚æ¨¡æ¿ä½“ä¸ºç©ºï¼Œæ„å‘³ç€è¿™äº›å…ƒç´ ä¸ä¼šè¢«å¤åˆ¶åˆ°è¾“å‡ºç»“æœä¸­ï¼Œä»è€Œå®ç°äº†â€œåˆ é™¤â€ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_90.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_92.png)

### ç»ƒä¹  3ï¼šä»å›½å®¶æ•°æ®ä¸­åˆ é™¤ç‰¹å®šå›½å®¶

![](img/efd01bb0d4d6e4eea8c18808748a281d_94.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_96.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_98.png)

**ç›®æ ‡**ï¼šä»ä¸–ç•Œå„å›½æ•°æ®ä¸­åˆ é™¤æ‰€æœ‰é¢ç§¯å¤§äº 40,000 æˆ–æ²¡æœ‰åˆ—å‡ºåŸå¸‚çš„å›½å®¶ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_100.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_101.png)

æ­¤ç»ƒä¹ ä¸ä¸Šä¸€ä¸ª XSLT ç»ƒä¹ æ¨¡å¼å®Œå…¨ç›¸åŒï¼Œåªæ˜¯åŒ¹é…æ¡ä»¶æ¢æˆäº†å›½å®¶æ•°æ®é›†çš„å±æ€§ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_103.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_105.png)

**XSLT æ ·å¼è¡¨**ï¼š
```xml
<xsl:stylesheet version=â€œ1.0â€ xmlns:xsl=â€œhttp://www.w3.org/1999/XSL/Transformâ€>
    <xsl:template match=â€œ@*|node()â€>
        <xsl:copy>
            <xsl:apply-templates select=â€œ@*|node()â€/>
        </xsl:copy>
    </xsl:template>
    <!-- åŒ¹é…éœ€è¦åˆ é™¤çš„å›½å®¶ï¼šé¢ç§¯>40000 æˆ– æ— åŸå¸‚æ•°æ® -->
    <xsl:template match=â€œcountry[@area > 40000 or count(city)=0]â€/>
</xsl:stylesheet>
```
**è§£é‡Š**ï¼š
*   é€»è¾‘ä¸ç»ƒä¹ 2å®Œå…¨ä¸€è‡´ã€‚é€šé…æ¨¡æ¿è´Ÿè´£ç»´æŒæ–‡æ¡£ç»“æ„ã€‚
*   ç¬¬äºŒä¸ªæ¨¡æ¿åŒ¹é…éœ€è¦åˆ é™¤çš„ `<country>` å…ƒç´ ï¼š`@area > 40000` æˆ– `count(city)=0`ã€‚ç©ºæ¨¡æ¿ç¡®ä¿è¿™äº›å›½å®¶ä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆè¾“å‡ºé‡Œã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_107.png)

---

![](img/efd01bb0d4d6e4eea8c18808748a281d_109.png)

## ğŸ“ æ€»ç»“

![](img/efd01bb0d4d6e4eea8c18808748a281d_111.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_113.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº† XML æ•°æ®å¤„ç†çš„ä¸‰ç§æ ¸å¿ƒæŠ€æœ¯ï¼š
1.  **XPath**ï¼šç”¨äºåœ¨ XML æ–‡æ¡£ä¸­å¯¼èˆªå’Œå®šä½èŠ‚ç‚¹ï¼Œéå¸¸é€‚åˆç®€å•çš„æ¡ä»¶ç­›é€‰å’Œå€¼æå–ã€‚
2.  **XQuery**ï¼šåŠŸèƒ½æ›´å¼ºå¤§çš„æŸ¥è¯¢è¯­è¨€ï¼Œæ”¯æŒå˜é‡ã€å¾ªç¯ï¼ˆFLWOR è¡¨è¾¾å¼ï¼‰å’Œå¤æ‚æ¡ä»¶åˆ¤æ–­ï¼Œé€‚åˆå®Œæˆéœ€è¦éå†å’Œæ¯”è¾ƒçš„æ•°æ®æŸ¥è¯¢ä»»åŠ¡ã€‚
3.  **XSLT**ï¼šä¸€ç§è½¬æ¢è¯­è¨€ï¼Œç”¨äºå°† XML æ–‡æ¡£è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼ˆå¦‚å¦ä¸€ä¸ª XMLã€HTML æˆ–æ–‡æœ¬ï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ¨¡æ¿åŒ¹é…ï¼Œé€šè¿‡å®šä¹‰ä¸åŒçš„æ¨¡æ¿è§„åˆ™æ¥é‡ç»„ã€ç­›é€‰æˆ–ä¿®æ”¹åŸå§‹æ•°æ®ã€‚

![](img/efd01bb0d4d6e4eea8c18808748a281d_114.png)

![](img/efd01bb0d4d6e4eea8c18808748a281d_116.png)

é€šè¿‡é’ˆå¯¹è¯¾ç¨‹ç›®å½•å’Œä¸–ç•Œå„å›½æ•°æ®é›†çš„å®è·µç»ƒä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†å¦‚ä½•æ ¹æ®ä¸åŒçš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œå¹¶ç¼–å†™å‡ºæ­£ç¡®çš„æŸ¥è¯¢ä¸è½¬æ¢è¯­å¥ã€‚è®°ä½ï¼Œç†è§£ XML æ–‡æ¡£çš„å±‚æ¬¡ç»“æ„æ˜¯æˆåŠŸç¼–å†™ä»»ä½•æŸ¥è¯¢çš„ç¬¬ä¸€æ­¥ã€‚