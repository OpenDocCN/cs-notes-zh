# 斯坦福 CS143 编译原理中文笔记：第1课 - 编译器简介 🧠

在本节课中，我们将要学习编译器的基本概念、其核心组成部分以及编译过程的各个阶段。理解这些基础知识是进入编译原理世界的第一步。

## 什么是编译器？

编译器是一种计算机程序。它的主要功能是将一种编程语言（通常是高级语言）编写的源代码，翻译成另一种语言（通常是低级语言，如汇编语言或机器码）的目标代码。

这个过程的核心可以用一个简单的公式来描述：**源代码 → 编译器 → 目标代码**。

## 编译器的结构

一个典型的编译器由多个阶段组成，这些阶段通常可以分为前端和后端两大部分。

上一节我们介绍了编译器的定义，本节中我们来看看它的内部结构。

### 前端（分析阶段）

前端主要负责处理与源代码语言相关的任务。它读取源代码，进行词法、语法和语义分析，并生成一种中间表示。

以下是前端包含的主要阶段：

1.  **词法分析**
    *   将字符流（源代码）转换为有意义的词素序列。
    *   例如，代码 `position = initial + rate * 60` 会被拆分成 `position`, `=`, `initial`, `+`, `rate`, `*`, `60` 这些记号。

2.  **语法分析**
    *   根据语言的语法规则，将词法单元流组织成树形的语法结构（如抽象语法树）。
    *   它检查程序结构是否符合语法规范。

3.  **语义分析**
    *   使用语法树和符号表来检查源程序的语义一致性。
    *   主要进行类型检查，确保运算符合类型规则。

### 后端（综合阶段）

后端主要负责处理与目标机器相关的任务。它接收前端生成的中间表示，进行优化并生成目标机器代码。

以下是后端包含的主要阶段：

1.  **中间代码生成**
    *   将语法树转换为一种简单、通用的中间表示形式（如三地址码）。
    *   例如，`position = initial + rate * 60` 可能被转换为：
        ```
        t1 = 60
        t2 = rate * t1
        t3 = initial + t2
        position = t3
        ```

2.  **代码优化**
    *   对中间代码进行各种变换，旨在生成更高效（执行更快或占用空间更小）的目标代码。
    *   例如，将上面的中间代码优化为 `t1 = rate * 60; position = initial + t1`。

3.  **代码生成**
    *   将优化后的中间表示映射到目标机器的指令集，生成最终的目标机器代码或汇编代码。
    *   这涉及到寄存器分配、指令选择等具体任务。

## 编译器中的重要组件

除了上述流程，编译器还依赖一些贯穿始终的数据结构。

上一节我们了解了编译流程，本节中我们来认识两个关键的支撑组件。

### 符号表

符号表是一种数据结构。它用于存储程序中标识符（如变量名、函数名）的各种属性信息，包括类型、作用域、内存地址等。它在编译的多个阶段中被查询和更新。

### 错误处理器

错误处理器负责检测、报告源代码中的错误，并尽可能从错误中恢复，以便编译器能够继续分析程序的其余部分。

---

本节课中我们一起学习了编译器的基本定义，将其视为一个将源代码转换为目标代码的程序。我们详细剖析了编译过程的六个主要阶段：词法分析、语法分析、语义分析、中间代码生成、代码优化和代码生成，它们共同构成了编译器的前后端结构。此外，我们还认识了支撑整个编译过程的两个重要组件：符号表和错误处理器。理解这个框架是后续深入学习每个编译技术细节的基础。