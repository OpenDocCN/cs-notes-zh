- en: 哈佛 CS50-WEB ｜ 基于Python ／ JavaScript的Web编程(2020·完整版) - P10：L3- Django网络编程 2 (模板)
    - ShowMeAI - BV1gL411x7NY
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 哈佛 CS50-WEB ｜ 基于Python ／ JavaScript的Web编程(2020·完整版) - P10：L3- Django网络编程 2 (模板)
    - ShowMeAI - BV1gL411x7NY
- en: now all I need to do is create that，template so let me go ahead and inside。of
    the hello directory I'll create a new，folder called templates inside of that。template
    so I'll create a folder called，hello because the template name here is，hello /
    index。html so I need to create a，folder called hello inside of which is a。
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我需要做的就是创建那个模板，所以让我在hello目录内创建一个新文件夹，命名为templates。在这个文件夹内，我将创建一个名为hello的文件夹，因为模板名称是hello/index.html，所以我需要在里面创建一个名为hello的文件夹。
- en: file called index that HTML I could have，just called it index at HTML without
    the。hello but the reason we often want to，prefix our templates with the directory，name。is
    to so-called namespace them to make，sure that if we have multiple different。indexed
    at HTML files in multiple，different apps to make sure they don't，conflict with
    each other。
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 一个名为index的文件，HTML我可以简单称其为index而不加前缀。你好，但我们常常想要为模板添加目录名的前缀。这样做是为了给它们命名空间，以确保如果我们在多个不同的应用中有多个不同的index.html文件，可以确保它们不会互相冲突。
- en: so Django best practice is to use hello，slash index dot HTML or whatever your。app
    name is and inside of that hello，daughter directory I'll then create a，file called
    index。html and this index，dot HTML can contain any HTML content，same as we've
    seen before so I could add。that doctype the HTML tag a title of，hello and maybe
    inside the body I'll。
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 所以Django的最佳实践是使用hello/index.html或你的应用名称，并在那个hello目录内创建一个名为index.html的文件，这个index.html可以包含任何HTML内容，和我们之前看到的一样，所以我可以添加doctype，HTML标签，标题为hello，也许在body内我会。
- en: have an h1 that says hello world for，example and so I can have an entire HTML。![](img/aeb2017a72de30151dcf67bd2b62b63c_1.png)
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个h1标签显示“你好，世界”，例如，所以我可以有一个完整的HTML。
- en: page just like this and now when I visit，the default route of my web application。by
    going back into my web browser and，just going to slash hello for example。now I
    see that HTML that I've defined，inside of hello of index dot HTML it's a。big h1
    that just says hello world and it，turns out that these HTML pages these。
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 就像这样，当我访问我的Web应用程序的默认路由时，通过返回到我的Web浏览器并访问/hello，例如。现在我看到的是我在hello/index.html中定义的HTML，它是一个大的h1标签，上面写着“你好，世界”，结果是这些HTML页面这些。
- en: templates that I can render using Django，are parameterize a bowl as well right。maybe
    I want to implement hello slash。![](img/aeb2017a72de30151dcf67bd2b62b63c_3.png)
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以使用Django渲染的模板也是参数化的，没错。也许我想实现hello/。
- en: Hermione as some sort of HTML page an，HTML page that says hello comma Hermione。and
    using HTML out of the box you can't，really do stuff like this HTML is a。markup
    language not so much a，programming language which means it。doesn't by default
    have support for，things like a variable to represent。
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 赫敏作为某种HTML页面，一个显示"你好，赫敏"的HTML页面。使用现成的HTML，你实际上无法做到这样的事情，HTML是一种标记语言，而不是编程语言，这意味着它默认不支持代表变量的功能。
- en: someone's name but using jenga's ability，to take an HTML page and treat it like
    a。template that we can render jenga's，added its own templating language so to。speak
    on top of the existing HTML and I，can take advantage of that to be able to。render
    an HTML page that actually has a，variable inside of it or a condition。
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 某人的名字，但利用Django的能力将HTML页面视为模板，我们可以渲染，Django在现有HTML上添加了自己的模板语言，可以说，我可以利用这一点来渲染一个实际上包含变量或条件的HTML页面。
- en: inside of it or a loop inside of it as，we'll see in just a moment as well so。let's
    go ahead and go back to view stop，pie and the function that I would like。to change
    is this greet function here，then right now is just returning an HTTP。response
    but I'd like to render an，entire page for example so what might I。
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在其中或者在其中循环，就像我们稍后看到的那样。所以，让我们继续回到视图stop pie，我想更改的函数是这个greet函数，它现在只是返回一个HTTP响应，但我想渲染整个页面，例如，我可能会怎么做。
- en: render well let's render a template，called hello slash greet HTML and then。this
    render function can take an，optional third argument which is called，the contact。and
    the context is all of the，information that I would like to provide。to the template
    all the variables for，example that I want the template to have。
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 渲染，让我们渲染一个名为hello/greet.html的模板，然后这个render函数可以接受一个可选的第三个参数，称为context。context是我想提供给模板的所有信息，所有我希望模板拥有的变量。
- en: access to and so one thing I might want，my template to have access to you for。instance
    is something like a name and so，this is a Python dictionary just a。sequence of
    key value pairs and this，name might be associated with what value。so name is the
    key the value I want to，be named dot capitalized and so what's。
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 访问和我可能想要的一个东西，我的模板可以访问的，例如名字，这里是一个Python字典，只是一系列键值对，这个名字可能与某个值相关联。因此，名字是键，我想要的值是名字的大写形式，那么。
- en: going on here is that now when I render，this template this template hello slash。greet
    HTML I'm providing that template，with some additional context some。additional
    information as represented by，this dictionary here where I'm providing。information
    with a key of name I'm，effectively giving this template access。
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，当我渲染这个模板`hello/greet HTML`时，我为这个模板提供了一些额外的上下文，一些额外的信息，由这个字典表示，我提供了一个键为名字的信息，实际上是给这个模板访问。
- en: to a variable called name and its value，is whatever name dot capitalized is。equal
    to where this name here is the，argument to the function greet so now I。can return
    this template and inside of，greet dot HTML I can use this variable。called name
    so how do I go about doing，that well let's first create that greedy。
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 将一个变量名为名字，它的值是`name.capitalize()`。这个名字就是greet函数的参数，所以现在我可以返回这个模板，并在greet.html内部使用这个名为名字的变量。我该如何做到呢？好吧，首先让我们创建这个greet。
- en: HTML file so inside of the template，/hello directory I already have，index。html
    I'll go ahead and create a，new file called greet dot HTML and。inside of greet
    dot HTML I'll go ahead，and write some HTML and inside the body。of the HTML whereas
    before I might have，said something like hello comma world I。
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: HTML文件，因此在模板的/hello目录下，我已经有了index.html，我将创建一个新的文件，名为greet.html。在greet.html内部，我将编写一些HTML，并在HTML的主体中，之前我可能说过“你好，世界”，我。
- en: don't want to say hello to world I just，want to say hello to whoever the name
    is。whatever khun's contained inside of that，variable called name so how might
    I go。![](img/aeb2017a72de30151dcf67bd2b62b63c_5.png)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我不想说“你好，世界”，我只想说“你好”，无论名字是什么，包含在那个名为名字的变量中的内容。那我该如何做呢？![](img/aeb2017a72de30151dcf67bd2b62b63c_5.png)
- en: about doing that well what I can do is，use these double curly braces and double。curly
    braces are part of the Django，template and which that allows me to say。I would
    like to plug in the value of a，variable into this particular position。inside of
    my template and so if I，include the word name here then what I'm。
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 关于怎么做，我可以使用这对双大括号，双大括号是Django模板的一部分，这允许我说我想将一个变量的值插入到模板的特定位置。因此，如果我在这里包含单词名字，那么我想。
- en: saying here is that when you render this，greet dot HTML template inside the
    body。of the page I would like for there to be，an h1 a big heading that just says
    hello，brace。I'm saying plug in the value of the，variable name there his name is
    Hermione。it's gonna be hello Hermione if it's，Harry it's gonna be hello Harry。
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这里所说的是，当你在页面的主体中渲染这个greet.html模板时，我希望那里有一个h1，一个大标题，上面只写着“你好，{”。我在说在这里插入变量名字的值，他的名字是赫敏，如果是哈里，那么就是“你好，哈里”。
- en: if it's David it's gonna be hello David，so let's go ahead and give this a try。now
    now when I go to slash hello slash，Harry for example I now see a big h1 tag。that
    says hello Harry if I go to slash。![](img/aeb2017a72de30151dcf67bd2b62b63c_7.png)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 如果是大卫，那么就是“你好，大卫”。现在我们来试一下。现在当我访问 `/hello/Harry` 时，我看到一个大H1标签，上面写着“你好，哈里”。如果我访问
    `/`。![](img/aeb2017a72de30151dcf67bd2b62b63c_7.png)
- en: hello slash Ron I see a big H one that，says hello，comma Ron and the reason why
    all this is。happening the way we're getting to that，final position is because
    URLs says that。when I have a URL that just as a string，like someone's name we'll
    call the greet。function the greet function inside of，you see I is taking the name
    as an。
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你好 `/Ron`，我看到一个大的H1标签，上面写着“你好，罗恩”。所有这些发生的原因是，因为当我有一个URL，就像是某人的名字，我们会调用greet函数，greet函数内部的内容将名字作为一个。
- en: argument rendering the Greek HTML，template and passing in that name as。part
    of the context part of what the，template has access to and inside of。greet dot
    HTML here is the actual HTML，file here is where we then plug in the。![](img/aeb2017a72de30151dcf67bd2b62b63c_9.png)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 参数渲染greet HTML模板，并将名字作为上下文的一部分传递，这样模板就能访问到。在`greet.html`内部，这里是实际的HTML文件，这里我们再插入。![](img/aeb2017a72de30151dcf67bd2b62b63c_9.png)
- en: value of name so it's a lot happening，across a lot of different files but the。reason
    for all of these various，different files is to help keep things。separate to have
    one file that is just，responsible for URLs and directing。people to where what
    should happen when，those URLs are clicked then we have one。
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 变量名称的值，所以有很多不同的文件在运作，但这些不同文件的原因是为了帮助保持各自的独立性，有一个文件专门负责URL，并将人们引导到点击这些URL时应该发生的事情，然后我们有一个。
- en: file views PI that is entirely，responsible for deciding on this。particular view
    what template should be，rendered what information should be。passed in as context
    and then I，separately have a file for each of my。inch HTML templates that are
    saying what，does the page actually look like and so。
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 文件views.py完全负责决定这个特定视图应该渲染哪个模板，应该传递什么信息作为上下文，然后我会单独为每个HTML模板创建一个文件，说明页面的实际外观。
- en: if you start to begin to think about，this separation of components inside of。a
    web application it can help to make，the structure of a Django application a，little
    bit clearer。so we've now been able to use the Django，templating language to put
    variables。inside of our HTML templates to be able，to create an infinite number
    of。
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你开始考虑这个网络应用程序内部组件的分离，它可以帮助使Django应用程序的结构更清晰。因此，我们现在能够使用Django模板语言在HTML模板中放入变量，从而创建无限数量的。
- en: different routes where I can visit slash，hello，slash some name in order to display
    a。hello to that person's name but the，Django templating language is even more。powerful
    than just that there are a lot，of additional features that the。templating language
    is going to give us，access to and we'll take a look at a。
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的路由，我可以访问/hello/某个名字，以便向该人显示问候，但Django模板语言甚至比这更强大，还有很多附加功能，模板语言将为我们提供访问权限，我们将看一下。
- en: couple of those now and to start I'm，going to introduce you to a website you。may
    be familiar with I consider it to be，one of the simplest websites on the。internet
    it's a real website called is，it Christmas com。![](img/aeb2017a72de30151dcf67bd2b62b63c_11.png)
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在开始，我将向你介绍一个你可能熟悉的网站。我认为它是互联网上最简单的网站之一，真实的网站叫做“现在是圣诞节吗.com”。![](img/aeb2017a72de30151dcf67bd2b62b63c_11.png)
- en: and if I visit is it Christmas calm and，press return here's what the website。says
    the website says no it is not，Christmas and you just have to take my。word for
    it if you visit this website on，Christmas Day you go to is it Christmas。calm it
    will instead say yes，and so this website is very simple you。
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我访问“现在是圣诞节吗”，并按下回车，网站会说“不是圣诞节”，你必须相信我的话。如果你在圣诞节那天访问这个网站，它会说“是的”，所以这个网站非常简单。
- en: might imagine that it's really just an，HTML page that probably contains a big。heading
    that in this case just says the，word no but on Christmas Day just says。the word
    yes now how might a page like，this be implemented well one way you。could imagine
    is that on Christmas Day，whoever maintains the website goes into。
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想象，这其实只是一个HTML页面，可能包含一个大标题，这个标题在这种情况下仅仅说“否”，但在圣诞节那天则说“是”。那么，像这样的页面是如何实现的呢？一种可能的想法是，在圣诞节那天，维护网站的人会进入。
- en: the HTML and changes no to yes and then，afterwards change if the yes back to
    a。no but we can be a little bit cleverer，about this if we realize now that we。have
    the ability to use Python logic to，be able to use logic like a condition to。be
    able to decide how a webpage is，ultimately going to be rendered for。
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: HTML将“否”改为“是”，然后之后再将“是”改回“否”。但如果我们意识到我们可以使用Python逻辑来做这一点，我们就可以更聪明一些，使用条件逻辑来决定网页最终将如何被渲染。
- en: instance the condition might be，something simple like if today's date is。Christmas
    then render yes else render no，and so we're going to use Django and。take a look
    at some of the features of，Django's templating syntax to be able to。create a website
    like this we're not，going to create is it Christmas we're。
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，条件可能是简单的逻辑，比如如果今天的日期是圣诞节，则渲染“是”，否则渲染“否”。因此，我们将使用Django，看看Django模板语法的一些特性，以便能够创建这样的一个网站。我们不会创建“现在是圣诞节吗”，而是。
- en: gonna create is it New Year's the checks，if the current date is January 1st
    or。not this is going to be a separate app，it's sort of distinct from our hello
    app。the hello app just says hello to people，the New Year app for example is just。going
    to see whether or not it happens，to be New Year's for example so I will。
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我将创建的是一个新的应用，它检查当前日期是否是 1 月 1 日。这将是一个独立的应用，与我们的 Hello 应用有所不同。Hello 应用只是向人们打招呼，而新年应用则是检查是否恰好是新年。
- en: now go ahead and create a new app and I，can do that by sobriety in Python manage。pi
    start app and I'll call the app new，year for example I'd like to create a。new
    app called new year I've now created，that new app if I type ls' you'll see。that
    not only do I have a Hello，directory that represents the Hello app。
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在继续创建一个新应用，我可以通过在 Python 管理中输入命令来做到这一点。`python manage.py startapp`，我将把这个应用称为新年，例如我想创建一个名为新年的新应用。我现在已经创建了这个新应用，如果我输入`ls`，你会看到我不仅有一个
    Hello 目录，代表 Hello 应用。
- en: I now have this new year directory that，represents the fact that this is a new。![](img/aeb2017a72de30151dcf67bd2b62b63c_13.png)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我现在有这个新年的目录，表示这是一个新的。![](img/aeb2017a72de30151dcf67bd2b62b63c_13.png)
- en: app called new year as with before I'll，need to go into settings dot PI inside。of
    my project directory and add new year，as some installed app this is now a new。app
    that exists in my web application so，it too now needs to be a new installed。app
    what else do we need to do for new，apps well I need to go into URLs PI for，lecture
    3。
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 名为新年的应用，与之前一样，我需要进入项目目录中的 `settings.py`，并将新年添加为一些已安装的应用。这现在是我网络应用中存在的一个新应用，所以它也需要成为一个新的已安装应用。对于新应用，我们还需要做什么呢？我需要进入
    `urls.py`，为第 3 讲。
- en: and just as before I had a path saying，when I go to /hello，then you should go
    to all the URLs for。the hello app let me add a new path that，says that if I go
    to my application。slash new year well then you should go，to all of the URLs for
    the new year file。go to new years dot URLs representing，the URLs dot PI file inside
    of the new。
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 和之前一样，我有一个路径，表示当我访问 `/hello` 时，你应该去访问所有 Hello 应用的 URL。让我添加一个新的路径，表示如果我访问我的应用程序
    `/newyear`，那么你应该去访问新年文件的所有 URL，转到 `newyear.urls`，代表新应用中的 `urls.py` 文件。
- en: years app now that file isn't given to，us by default so we need to create it
    I。need to go into my new year folder and，create a new file called URL spy and。inside
    of that file I'll do from Jango，dot URLs import path from dot import。views and
    then define some URL patterns，same as before where I'll just have a。
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 新年应用，现在这个文件默认没有给我们，所以我们需要创建它。我需要进入我的新年文件夹，创建一个名为 `urls.py` 的新文件。在这个文件中，我将从 `django.urls`
    导入 `path`，从 `.` 导入 `views`，然后定义一些 URL 模式，与之前一样，我将有一个。
- en: single path that loads the index，function inside of used up high and it。has
    a name of index so again just，mirroring the type of structure that。we've already
    seen before in the hello，app this app is just going to have a。single route the
    empty route that loads，the index function now all it's left to。
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 单一路径加载在 `views.py` 中的索引功能，并且它的名称是 `index`。再次反映我们在 Hello 应用中已经看到的结构，这个应用只会有一个路由，空路由加载索引功能，现在只剩下。
- en: do is to actually create that index，function so I go into view spy and here。now
    I'll define an index function that，takes an HTTP request as an argument and。now
    inside of this index function I，would like to add some logic that checks。whether
    or not it's January first and so，how might I go about doing that in。
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上要创建那个索引功能，所以我进入视图间谍，然后在这里。现在我将定义一个索引功能，它接受一个 HTTP 请求作为参数。在这个索引功能内部，我想添加一些逻辑来检查。是否是
    1 月 1 日，那么我该如何做到这一点呢？
- en: Python well it turns out that there is a，date/time module in Python and you
    can。learn about this just by reading up，about its documentation to figure out。how
    it works and the date/time module。![](img/aeb2017a72de30151dcf67bd2b62b63c_15.png)
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Python 中，事实证明有一个日期/时间模块，你可以通过阅读其文档了解它的工作原理。日期/时间模块。![](img/aeb2017a72de30151dcf67bd2b62b63c_15.png)
- en: gives me access to things about the date，and time for instance and I can play。around
    with the date/time module outside，of Django just to get a feel for how it。works
    if I just type Python into the，interpreter into my command line rather。what I
    get is the Python interpreter，that lets me just write Python code just。
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 让我访问关于日期和时间的内容，例如，我可以在 Django 之外玩弄日期/时间模块，以便感受它是如何工作的。如果我在命令行中输入 Python，实际上我得到的是
    Python 解释器，它让我只需编写 Python 代码。
- en: to experiment and test and see what the，result of running this Python code would。be
    so I can try like import date/time，for example and let me create a new。variable
    called now which is date/time，dot date/time dot now it just so happens。that inside
    of the date/time module is a，function called date/time now that gets。
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在进行实验和测试，看看运行这段 Python 代码的结果是什么，我可以尝试像导入 datetime，例如，创建一个新变量叫 now，它是 datetime.datetime.now，恰好在
    datetime 模块中有一个名为 datetime.now 的函数。
- en: the current date and time，example and so inside of now I have，access to variables
    like now dot year。for an example which tells me the year，now dot month now dot
    day that gives me。information about the year the month and，the day of the current
    *** based。on getting whatever the current time is，right now and given that I have
    this。
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 当前的日期和时间示例，因此在现在我可以访问像 now.dot year 这样的变量，举个例子，它告诉我年份，now.dot month 和 now.dot
    day 则提供关于当前***的信息，这些信息基于获取的当前时间。
- en: information you can imagine us，constructing a boolean condition to。check whether
    or not today is in fact，the new year and that condition might。look like now dot
    month equals one and，now dot day equals one I can press。return and see that ok
    the result of，this condition is false it is not true。
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以想象我们构造一个布尔条件来检查今天是否实际上是新年，这个条件可能看起来像 now.dot month 等于一，now.dot day 等于一。我可以按返回键，看到这个条件的结果是
    false，它并不为真。
- en: that both the month and the day are true，or are one rather and so using that
    sort。of condition I can now take that and，adapt it into my Django view that I'm。![](img/aeb2017a72de30151dcf67bd2b62b63c_17.png)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着月份和日期都为 true 或者为一，因此通过使用这种条件，我现在可以将其适应到我的 Django 视图中。
- en: using to try and render whether or not，it's the new year or not so how might
    I。go about doing that well what I'd like，for my index function to do is return。render
    a template the template will be，called new year slash index。html and。then what
    context what I would like to，provide to this template what。
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 用来尝试渲染是否是新年。那么我该如何做到呢？我希望我的索引函数返回渲染一个模板，这个模板将被称为新年斜杠索引点 HTML，然后我想给这个模板提供什么上下文呢？
- en: information what variables do I want for，this template tab access to well I。wanted
    to have access to a variable，that'll just be called New Year and in。order to access
    that I need access to，the current date，so to do that I'll at the top of my file。I'll
    go ahead and import date time and，inside of my index function let me give。
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，对于这个模板选项卡，我希望访问哪些变量呢？我想有一个变量，叫做 New Year，为了访问它，我需要获取当前日期，因此我会在文件的顶部导入 datetime，并在我的索引函数中给自己一个变量，叫做
    now，等于 datetime.datetime.now。
- en: myself a variable called now which is，equal to date time date time now and。this
    New Year variable that I'm passing，in to my template will be equal to now。dot
    month equals one and now dot day，equals one so if it is the case that。after I
    get the current date and time by，running date time dot date time now。
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我传递给模板的这个新年变量将等于 now.dot month 等于一，now.dot day 等于一，所以如果在运行 datetime.datetime.now
    获取当前日期和时间后。
- en: saving the result inside of this，variable called now if both the month。and the
    day are equal to one then the，value of this new year variable is going。to be true
    when the template gets access，to it otherwise as it is the case today。and on most
    days the value of that，variable is going to be false now all。
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 将结果保存到这个名为 now 的变量中，如果月份和日期都等于一，那么当模板访问它时，这个新年变量的值将为 true，否则像今天和大多数日子那样，该变量的值将为
    false。
- en: that remains for us to do is to actually，create this，but New Year slash index
    dot HTML and。have that template somehow use this new，year variable in some interesting
    or。meaningful way so how do we do that well，if you recall what we did with the
    hello。application when we want a template then，inside of our application this
    new year。
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要做的就是实际创建这个，但新年斜杠索引点 HTML，并以某种有趣或有意义的方式使用这个新年变量，那么我们该如何做到呢？如果你还记得我们在 hello
    应用中所做的，当我们想要一个模板时，在我们的应用中，这个新年。
- en: app will need a new folder that will，call templates inside of which I'll。create
    a new folder called new year and，inside of that I'll create a new file。that will
    be called index。html here will，be the index。html file for this New Year。application
    the structure will be very，similar I'll give it a title of is it。
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序将需要一个新的文件夹，称为 templates，在其中我会创建一个名为 new year 的新文件夹，在里面我将创建一个名为 index.html
    的新文件，这里将是此新年应用程序的 index.html 文件，结构将非常相似，我将给它一个标题，问它。
- en: New Year's and inside the body now，here's where the interesting logic is。sometimes
    I might want a big h1 that，says yes，other times I might want a big h1 that。says
    no and what I need to do is，conditionally decide when to say yes and。when to say
    no an inside Django's，templating language and again you'd only。
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 新年在主体内部，这里是有趣的逻辑，有时我可能想要一个大的 h1 说是，其他时候我可能想要一个大的 h1 说不，我需要做的是有条件地决定何时说是和何时说不，在
    Django 的模板语言中，再次强调你只会。
- en: know this by reading Jana's，documentation just as we used double。curly braces
    to say plug in the value of，a variable here the syntax for logic。inside of a Django
    template like，conditions is curly brace % so we use。curly brace % some logical
    statement and，then % curly brace to include any kind。
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过阅读 Jana 的文档来了解这一点，就像我们使用双大括号插入变量值一样，Django 模板中的逻辑语法是大括号 %，所以我们使用大括号 %
    一些逻辑语句，然后 % 大括号来包含任何类型。
- en: of logic and the logic in this case is，an if statement and this is very Python。like
    will say if New Year New Year is，the name of that variable that I passed。into
    this template and if it is a new，year then I want to display an h1 that。just says
    yes and then else also inside，of curly braces and percent signs I want。
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 逻辑，在这种情况下是一个 if 语句，这非常像 Python，我会说如果新年，New Year 是我传入这个模板的变量名，如果是新年，我想显示一个 h1
    说是。
- en: a big h1 that just says no so if it's，the new year then yes else no and then。Django
    also requires me to give an N if。![](img/aeb2017a72de30151dcf67bd2b62b63c_19.png)
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一个大的 h1 只是说不，所以如果是新年就说是，否则说不，并且 Django 还要求我给出一个 N 如果。
- en: statement，unlike Python itself that uses，indentation to denote when the if。statement
    is beginning and ending in，Django the indentation is optional。inside of the template
    but in order to，distinguish when the if statement is。happening from when the if
    statement is，over we need this end if tag at the very。
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 语句，不像 Python 本身使用缩进来表示 if 语句的开始和结束，在 Django 中模板中的缩进是可选的，但为了区分 if 语句发生的时间和 if
    语句结束的时间，我们需要在最底部有这个 end if 标签。
- en: end so this here is a condition，inside of our Django template we're。saying if
    a particular variable is true，then render this in the HTML and else。render something
    else if it's the new，year say yes it's the new year otherwise。say no it is not
    the new year so we can，try this out right now we're on the。
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 所以这里是一个条件，在我们的 Django 模板中，我们说如果某个变量为真，则在 HTML 中渲染这个内容，否则渲染其他内容，如果是新年就说是新年，否则说不是新年，所以我们现在可以试一下。
- en: route / hello / wrong if I instead not，go to / hello but go to / new year for。example
    this site can't be reached okay，so why did that happen。![](img/aeb2017a72de30151dcf67bd2b62b63c_21.png)
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 路由 / hello / wrong 如果我不去 / hello，而是去 / new year 例如，这个站点无法访问，好吧，为什么会发生这种情况。
- en: one 27001 refused to connect so what，must be happening is for some reason my。web
    server isn't running and it turns，out that in order to create the new。application
    i had stopped my web server，and so if ever that happens to start it。up again we
    can just rerun python manage。
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 27001 拒绝连接，所以发生的情况是我的 Web 服务器出于某种原因没有运行，结果发现为了创建新应用程序我停止了 Web 服务器，因此如果发生这种情况，请重新启动它，我们可以重新运行
    python manage。
- en: '![](img/aeb2017a72de30151dcf67bd2b62b63c_23.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aeb2017a72de30151dcf67bd2b62b63c_23.png)'
- en: pi run server to say i would like to now，start up this web application again
    and。all right it looks like now I have，another error there's some sort of。syntax
    error and the syntax error is a，new year / views a dot PI so let me go。ahead and
    go back into view stop I'm and。
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: pi run server 来说我想现在重新启动这个 Web 应用程序，好吧，看起来现在我又有一个错误，出现了一种语法错误，语法错误是 new year
    / views a dot PI，所以让我回去查看视图停止我和。
- en: '![](img/aeb2017a72de30151dcf67bd2b62b63c_25.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aeb2017a72de30151dcf67bd2b62b63c_25.png)'
- en: see if I can spot where the syntax error，is and alright it looks like render
    is a。function function arguments need to be，enclosed in parentheses and while
    I have。a starting parenthesis here I'd，forgotten a closing parenthesis so I'll。go
    ahead and add that and now that will，complete the render function and now I。
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 看看我能否找出语法错误在哪里，好的，似乎`render`是一个函数，函数参数需要用括号括起来，而我在这里有一个开始的括号，但忘记了结束的括号，所以我会继续添加它，现在这将完成`render`函数。
- en: should be able to load / new year and，indeed what I see is that no it is not。the
    new year and so what happened is we，ran some Python logic calculated the。current
    date and time checked to see is，the current month one is the current day。one and
    if that's not true then we're，here displaying no and if we look at the。
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我应该能够加载`/new year`，事实上我看到的是，不，它不是新年，所以发生了什么呢，我们运行了一些Python逻辑，计算了当前的日期和时间，检查当前月份是否为一，当前日期是否为一，如果不是真的，那么我们在这里显示“没有”，如果我们看看。
- en: actual HTML of this page like what HTML，is actually making up this particular。page
    which I can do by right clicking or，control clicking and just clicking view。page
    source this will show me the HTML，of this page this is the HTML that came。back
    from the web server that my web，browser chrome in this case is rendering。
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这个页面的实际HTML，实际上构成了这个特定页面的HTML，我可以通过右键单击或控制单击，然后点击查看页面源代码来做到这一点，这将显示我这个页面的HTML，这是来自网络服务器的HTML，我的网页浏览器Chrome（在这种情况下）正在渲染。
- en: and what you can see is it looks very，similar to the index dot HTML template。we
    wrote before but it only contains no，it doesn't contain any of that if logic。it
    doesn't contain the yes it just，contains the HTML content that we wanted。to respond
    with back to the user and so。
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，它看起来与我们之前写的`index.html`模板非常相似，但它只包含“没有”，不包含任何if逻辑，也不包含“是”，它只包含我们想要返回给用户的HTML内容。
- en: '![](img/aeb2017a72de30151dcf67bd2b62b63c_27.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aeb2017a72de30151dcf67bd2b62b63c_27.png)'
- en: you might imagine based on this that，what Django is really doing is taking。the
    index that HTML template and then，manipulating it based on the input we。based
    on whether or not it's the new，new year，then all we should do inside the body
    is。display an h1 that says no and the user，when they get it they don't see the。
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能基于此想象，Django实际上是在获取`index.html`模板，然后根据输入进行操作，我们基于是否是新年，那么在主体中我们应该做的就是显示一个h1标签，上面写着“没有”，而用户得到它时，他们并不会看到。
- en: conditions they don't see there was，another branch that could have been。taken
    they only see the final result of，rendering the template with whatever。variables
    and logic and conditions，happen to be inside of that rendering。process so when
    the user sees it all，they see is the word no and if we were。
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 条件下他们看不到，还有另一条分支可以采取，他们只看到渲染模板的最终结果，无论是什么变量、逻辑和条件在这个渲染过程中，用户看到的只是“没有”，如果我们是。
- en: to run this program on New Year's Day it，would indeed say yes and we can test
    it。just to see what it would be like if，that were the case by cheating a little。bit
    instead of now that month equals one，and out a day equals one let me just go。ahead
    and replace this condition with，New Year is equal to true just to test。
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在新年那天运行这个程序，它确实会说“是”，我们可以测试一下，只是看看如果那是这种情况会是什么样子，稍微作弊一点，而不是现在月份等于一和日期等于一，让我去替换这个条件为“新年等于true”，仅仅为了测试。
- en: '![](img/aeb2017a72de30151dcf67bd2b62b63c_29.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aeb2017a72de30151dcf67bd2b62b63c_29.png)'
- en: it let's try passing in the value true，as the value of New Year and see what。happens
    instead and now when I run this。![](img/aeb2017a72de30151dcf67bd2b62b63c_31.png)
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试传入`true`作为新年的值，看看会发生什么，现在当我运行这个。![](img/aeb2017a72de30151dcf67bd2b62b63c_31.png)
- en: page now it does say yes as we might，expect it to on new years and so that。can
    be a nice way of just testing what，would happen if you were to replace a。particular
    variable with a particular，value we can substitute inside the。context just for
    development purposes，what value we would like that variable。
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在页面上确实显示“是”，正如我们在新年时可能期待的那样，这可以是一个很好的方法，仅仅测试一下如果你用特定的值替换特定变量会发生什么，我们可以在上下文中替换，仅仅出于开发目的，我们想要这个变量的什么值。
- en: to take on now we've rendered HTML but，we haven't really added any styling to。this
    website just yet the real is that，Christmas com has the text centered a。little
    bit it's in sans-serif font，instead of having the little serifs of。the glyphs
    at the edge of each of the，characters so maybe I'd like to add some。
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经渲染了 HTML，但我们还没有为这个网站添加任何样式，实际上 Christmas.com 的文本是居中的，使用的是无衬线字体，而不是每个字符边缘的小衬线，所以我可能想要添加一些。
- en: custom CSS to this file as well and we，could do this conventionally the way。we've
    seen it done before but just，including a CSS file and that is what。we're still
    going to do but Django has a，special build system for dealing with。what are called
    static files files that，aren't going to change the HTML of this。
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以向这个文件添加自定义 CSS，我们可以像之前看到的那样以传统方式进行，但只是简单地包含一个 CSS 文件，这就是我们仍然要做的，但 Django
    有一个特殊的构建系统来处理所谓的静态文件，这些文件不会改变这个 HTML。
- en: page that's not a static file because it，changes depending on whether it's new。years
    or not if I visited on New Year's，it says yes if I visit it when it's not。New
    Year's it says no and so this is a，dynamic page but static files files that。don't
    change like our CSS the CSS，doesn't change whether it's new years or。
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 页面并不是一个静态文件，因为它会根据是否是新年而变化。如果我在新年访问，它会显示“是”，而在非新年时则显示“否”，所以这是一个动态页面，而静态文件则不会变化，比如我们的
    CSS，无论是否是新年，CSS 都不会变化。
- en: not and because that's files unchanging，Django calls it a static file and it。means
    the Django can be a little bit，clever about it if you start to think。about projects
    and scale you might store，your static file somewhere separate just。in some place
    that makes it easy to，access where they're cached for faster。
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 而且因为这些文件是不会变化的，Django 称之为静态文件，这意味着 Django 可以稍微聪明一些。如果你开始考虑项目和规模，你可能会把静态文件存放在一个单独的地方，这样可以方便访问并缓存以加快速度。
- en: reads later on we'll talk about that a，little more later，in the course as we
    start to delve into。topics like scalability as you begin to，build larger web applications
    on the。Internet but long story short Jango，contains a lot of features that make
    it。easy for us to deal with static files，files the don't change like CSS files。
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 稍后我们将讨论得更深入一些，随着课程的进行，我们将开始探讨可扩展性等主题，当你开始在互联网上构建更大的 Web 应用程序时，但简单来说，Django 包含了很多让我们轻松处理静态文件的功能，这些文件不会变化，比如
    CSS 文件。
- en: and generally the way that we'll add，static files is inside of the New Year。folder
    in addition to having a templates，slash New Year slash index dot HTML will。also
    create a new folder called static，that will contain all of the static。files that
    we would like to include，inside of this application as well。
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 通常我们添加静态文件的方式是在新年文件夹内，除了有 templates/New Year/index.html 之外，我们还会创建一个名为 static
    的新文件夹，其中包含我们希望在此应用程序中包含的所有静态文件。
- en: inside a static I'll create a new folder，called New Year inside of which is
    a new，file called styles。css and so inside of，styles dot CSS I can now write all
    of，the same CSS that I would want to have。written before so maybe I want all my
    h1，to have a font family of sans-serif a。font size of 90 pixels maybe and I want，the
    text alignment to be centered just a。
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在 static 内，我将创建一个名为 New Year 的新文件夹，里面有一个名为 styles.css 的新文件，因此在 styles.css 内，我可以写下我希望之前编写的所有
    CSS，也许我想要所有的 h1 使用无衬线字体，字体大小为 90 像素，并且文本对齐为居中。
- en: couple of CSS properties and values same，as we've already seen just to say I。would
    like to give h1 tags this，particular style now what's left to do。inside of index
    at HTML is at the top of，our page I'll go ahead and add a command。that says load
    static to mean go ahead，and load static files for this。
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 一些 CSS 属性和值与我们之前看到的相同，只是我想给 h1 标签这个特定的样式，现在在 index.html 中剩下的工作是在页面的顶部添加一个命令，告诉它加载静态文件。
- en: particular HTML page and now I'll go，ahead and link a stylesheet you'll。recall
    that this type of command inside，the head section of my web page where I。would
    like to link some particular URL，as a style sheet is how I add CSS to a。page but
    what I'm going to include in，here as the link is I'm going to include。
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 特定的 HTML 页面，现在我将链接一个样式表，你会记得在网页的 head 部分，这种命令是我想链接某个特定 URL 作为样式表的方法，这就是我如何将
    CSS 添加到页面，而我将在这里包含的链接是。
- en: rather than hard coding a URL which I，could do django best practices and。instead
    let's just say it's going to be，a static file and the static file is。called New
    Year slash styles and dot CSS，so I'm not specifying exactly what the。URL is but
    I'm saying it is a static，file that is inside of a New Year folder，called styles。
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 与其硬编码一个 URL，我可以遵循 Django 的最佳实践，干脆说它将是一个静态文件，而这个静态文件名为 New Year/styles.css，所以我并没有具体指定
    URL，但我说明这是一个在 New Year 文件夹内的静态文件，名为 styles。
- en: css and Django is going to，figure out what that URL ought to be and。this is
    often better than hard coding a，specific URL because maybe you might，imagine in
    large。web applications where your static files，are might change you might move
    your。static files to a different domain or to，a different route and so in order
    to。
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: CSS 和 Django 将会弄清楚这个 URL 应该是什么，这通常比硬编码一个特定的 URL 要好，因为你可能想象在大型 web 应用程序中，静态文件的位置可能会改变，你可能会将静态文件移动到不同的域或不同的路径，因此为了能够。
- en: deal with that this static keyword just，means Django will figure out where your。static
    files are located and will，replace this command here in the curly。![](img/aeb2017a72de30151dcf67bd2b62b63c_33.png)
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 处理这个静态关键字仅意味着 Django 会找到你的静态文件的位置，并会在这里的花括号中替换这个命令。![](img/aeb2017a72de30151dcf67bd2b62b63c_33.png)
- en: braces and percent signs with the actual，URL for this particular file so now
    that。I've said that I want to link this，particular static file style。css into。this
    web page what I might first need to，do just to let Django load static files。is
    restart the server so you might，sometimes need to control C and then go。
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 用大括号和百分号符号替换此特定文件的实际 URL。所以现在我已经说明我想将这个特定的静态文件 styles.css 链接到这个网页上，我可能首先需要做的就是让
    Django 加载静态文件，重启服务器，所以你可能需要控制+C，然后再去。
- en: ahead and rerun python managed up by run。![](img/aeb2017a72de30151dcf67bd2b62b63c_35.png)
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 继续运行 python manage.py run。![](img/aeb2017a72de30151dcf67bd2b62b63c_35.png)
- en: server that will rerun the server and，now if i go back to the slash new year。route
    inside my web browser now i see，the style look a little more close to。what i actually
    wanted it to be centered，sans-serif in a larger font that here。just says no and
    if we look at the，underlying HTML of this page we see that。
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器将重新运行服务器，现在如果我回到我的网页浏览器中的 /new year 路径，我会看到样式看起来更接近我实际想要的样子，居中，采用无衬线字体，字体更大，这里仅显示“没有”。如果我们查看这个页面的底层
    HTML，我们可以看到。
- en: Django is actually for us filled in what，the static URL is for these particular。static
    files and by default。![](img/aeb2017a72de30151dcf67bd2b62b63c_37.png)
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Django 实际上为我们填充了这些特定静态文件的静态 URL，并且默认情况下。![](img/aeb2017a72de30151dcf67bd2b62b63c_37.png)
- en: Django just uses slash static slash and，then whatever the files happen to be
    and。so anytime we're dealing with static，files files that don't change like CSS。files
    or JavaScript files we'll take a，look at later in the course that's。generally
    where they're going to go as，some sort of static file that we're。
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Django 只使用 slash static slash，然后是任何文件，所以每当我们处理静态文件（例如 CSS 文件或后面课程中将要讨论的 JavaScript
    文件）时，这通常就是它们的去处。
- en: going to ultimately link to this，particular page so now we've seen a。couple
    of examples of web applications，we can make using Django we've seen the。hello
    app in Django that can，parameterize URLs the depending on the。URL we visit can
    say hello to Brian or，hello to David or hair you're on or。
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 最终将链接到这个特定页面。所以现在我们已经看到了使用 Django 可以制作的一些 web 应用程序的例子，我们看到了 Django 中的 hello
    应用，它可以根据访问的 URL 参数化 URLs，可以对布赖恩说你好，或者对大卫说你好，或者对其他人说。
- en: Hermione and we've seen the ability to，using Django add some conditions to be。able
    to conditionally say if something，is true render this page if something。else is
    true render another page let's，now use these features plus some。additional features
    to begin to build a，more sophisticated web application。
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到使用 Django 添加一些条件的能力，可以有条件地判断如果某个条件为真则渲染此页面，如果另一个条件为真则渲染另一个页面。现在让我们使用这些功能加上一些额外功能，开始构建一个更复杂的
    web 应用程序。
- en: something like a to do list that maybe I，want a web application that gives me
    a。list of tasks that lets me add new tasks，to my to-do list and lets me view all
    of。the tasks that are currently on my list，and I'd like to build this up one step。at
    a time so where can I start with this，well this again is going to be a new app。
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 或者是类似待办事项列表的应用，我希望有一个 web 应用程序，可以给我一个任务列表，让我可以将新任务添加到我的待办事项列表中，并让我查看我当前列表中的所有任务，我希望逐步构建这个应用。所以我该从哪里开始呢，这又将是一个新的应用。
- en: inside of my lecture 3 project I have，two apps so far a Hello app and a app，to
    do is。a third app that I'm just gonna call，tasks that is going to be my task。management
    app that's all under this，umbrella lecture three project so we'll。go ahead and
    run Python men in shop I。
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的 lecture 3 项目中，我目前有两个应用程序，一个是 Hello 应用，另一个是待办事项应用。还有一个我将称之为任务的第三个应用，这将是我的任务管理应用，所有这些都在这个
    lecture three 项目下。所以我们将继续运行 Python men in shop I。
- en: '![](img/aeb2017a72de30151dcf67bd2b62b63c_39.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aeb2017a72de30151dcf67bd2b62b63c_39.png)'
- en: start app tasks to say I'd like to go，ahead and create a new app called tasks。anytime
    I create a new app a couple of，steps I need to follow recall that I。need to go
    into settings PI inside of，lecture three to say that in addition to。installing
    hello a new year I'd also，like to install the tasks app for。
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 启动任务应用程序，我想创建一个名为 tasks 的新应用程序。每次我创建一个新应用程序时，都需要遵循几个步骤。请记住，我需要进入 lecture three
    中的 settings.py，除了安装 hello 一个新年，我还想安装任务应用程序。
- en: example then I need to go into URLs PI，inside of lecture three to say that in。addition
    to hello a new year I'd also，like for us to include the URLs for。tasks this URLs
    is again the table of，contents for my entire web application。where in my web application
    if I visit，slash hello then we go to the URLs for。
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我需要进入 lecture three 中的 URLs.py，告诉它除了 hello 一个新年，我还想包括任务的 URLs。这个 URLs 再次是我整个
    Web 应用程序的目录，其中如果我访问 slash hello，那么我们去任务的 URLs。
- en: the hello up if I go to slash tasks then，I go to the URLs for the tasks app
    so on。and so forth that tells me all of the，different URLs but I now have access
    to。and as with before the URLs file isn't，created for me inside of my application。so
    I will need to go into the tasks，directory and inside of the tasks。
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我进入任务的 URL，然后访问任务应用程序的 URL，这会告诉我所有不同的 URL，但我现在有访问权限。和以前一样，URL 文件没有在我的应用程序内为我创建，所以我需要进入任务目录，并在任务内。
- en: directory I'll go ahead and create a new，file that I will call URLs PI and the。format
    of this is going to be very，similar to what we've already seen from。Jango URLs
    import path from dot import，views and now I define my URL patterns。where I would
    like a path that is just，the empty string the empty path for now。
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我将继续在目录中创建一个新文件，我将称之为 URLs.py，这个格式将与我们已经从 Django 看到的非常相似。导入路径从点导入视图，现在我定义我的
    URL 模式，我希望有一个路径，就是空字符串，空路径。
- en: that loads the index function whose name，is index for example so now let's。actually
    write this index function，inside of used-up I what I'd like to do。is define a
    function called index that，accepts a request and what I'd like to。do is render
    a page that displays a list，of all of my tasks so before we get to。
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 加载名为 index 的索引函数。例如，现在让我们实际编写这个 index 函数，在 used-up 内。我想定义一个名为 index 的函数，它接受一个请求，我想做的是渲染一个页面，显示我所有任务的列表，因此在我们开始之前。
- en: the idea of adding tasks let's just see，if we can get our program to display
    a。list of tasks for example so I'll up at，the top create a global variable but。I'll
    just call tasks that the entire，application is gonna have access to and。I'll add
    three tasks to it for now we'll，just use foo bar and that's。
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 添加任务的想法，让我们看看能否让程序显示一个任务列表。例如，我将在顶部创建一个全局变量，我会称之为 tasks，整个应用程序都能访问这个变量。现在我会先添加三个任务，我们将使用
    foo、bar 和。
- en: sort of nonsense names that are just，useful strings for testing purposes just。placing
    those as sample tasks that I，might want to have inside of my。application and now
    what I'd like to do，is render a template the template I'd。like to render will
    be called tasks，slash index。html and then I'll provide。
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 一些无意义的名称，仅仅是用于测试的有用字符串。将这些作为我可能想要在应用程序内的示例任务，现在我想做的是渲染一个模板，我想渲染的模板叫做 tasks/slash
    index.html，然后我将提供。
- en: some context to it some information that，index。html needs what information does，index。html
    need。well index。html needs access to all of，my tasks and where all of my tasks
    while。they're inside of this variable that，just happens to also be called tasks
    and。this will be something we see quite，often as a paradigm in Django where we。
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为它提供一些上下文信息，index.html 需要什么信息？index.html 需要访问我所有的任务，而我的所有任务就在这个变量内，而这个变量碰巧也叫
    tasks。我们将在 Django 中经常看到这一点作为一种范式。
- en: see a key and a value that look like，they have the same name the key。distinction
    is whatever is here on the，right after the colon this is the value。the variable
    takes on this is a Python，variable like this Python variable tasks。here on the
    Left this key the string，tasks that is the name of the variable。
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 看一下键和值，它们看起来有相同的名称。键的区别在于冒号后面的内容，这就是值。这个是一个Python变量，像这个Python变量tasks。在左边，这个键字符串tasks就是变量的名称。
- en: that the HTML template will have access，to when Django is rendering it so Django。has
    access to this variable name on the，Left that has this value on the right if。you
    see this paradigm that's ultimately，what that's going to mean and now what I。need
    to do is create this indexed of，HTML file and make it use this tasks。
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 当Django渲染时，HTML模板将有访问权限，所以Django可以访问这个左侧的变量名，右侧有这个值。如果你看到这个范式，这最终意味着什么，而我现在需要做的就是创建这个indexed的HTML文件，并使其使用这个tasks。
- en: variable somehow how might I go about，doing that well I can go back into my。tasks
    directory create a new folder for，my templates so I'll create a templates。directory
    inside of which is a tasks，directory because the template that I'm。rendering again
    is tasks slash，index。html and inside of tasks I'll，create a new file called index。
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 变量怎么做，我该如何去做呢？我可以返回到我的tasks目录，创建一个新的文件夹用于我的模板，所以我将创建一个templates目录，其中有一个tasks目录，因为我正在渲染的模板是tasks/index.html，在tasks内部我将创建一个名为index的新文件。
- en: html，inside of which will include some HTML，I'll include just the standard starting。HTML
    the title will be tasks and now，we'll have the body of the HTML page。that I want
    to display all the tasks，inside of an unordered list for apps and。if you recall
    from HTML to create an，unordered list it looks a little，something like this。
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: html，里面将包括一些HTML，我将只包括标准的开始。HTML的标题将是任务，现在，我们将有HTML页面的主体。我想要在一个无序列表中显示所有任务，针对应用程序。如果你记得从HTML创建一个无序列表，它看起来有点像这样。
- en: ul starts the unordered list and each，list item is an li tag like item 1 and。then
    item 2 and then item 3 something，like that gives me an unordered list。that has
    three elements inside of it，but I don't want to do this now because。I don't want
    to hard-code or exactly，specify what all of the tasks are going。
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: ul开始无序列表，每个列表项是一个li标签，像item 1，然后是item 2，再然后是item 3，类似的内容给我一个包含三个元素的无序列表，但我现在不想这样做，因为我不想硬编码或精确指定所有任务是什么。
- en: to be what I really want to do is loop，over this tasks variable here looping。over
    all of the tasks inside of it and，creating a list item for each one of。those tasks
    and just as in before where，we could use if inside of curly braces。and percent
    signs to use the condition，likewise we can use for to say something。
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我真正想做的是遍历这个任务变量，循环遍历其中所有任务，并为每个任务创建一个列表项。就像之前那样，我们可以在大括号内和百分号中使用if条件，同样我们可以使用for来表达某些内容。
- en: like for tasks in tasks I would like to，display a list item and then using these。double
    curly braces I'm saying plug in，the tasks here in between these list。item tasks
    I would like to plug in。![](img/aeb2017a72de30151dcf67bd2b62b63c_41.png)
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 像tasks中的任务一样，我想显示一个列表项，然后使用这些双大括号，我在说在这些列表项之间插入任务！[](img/aeb2017a72de30151dcf67bd2b62b63c_41.png)
- en: whatever the value of the tasks variable，is and then I'll go ahead and end the。for
    loop there so what I've done here is，rather than add a condition into a。template
    which we've already seen I now，have the ability to add a loop into an。HTML template
    using Django to say that，for tasks in tasks I'd like to loop over。
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 无论任务变量的值是什么，然后我将结束for循环。因此我在这里做的事情是，与之前看到的在模板中添加条件不同，我现在有能力在HTML模板中使用Django添加循环，表示对于tasks中的任务，我想循环遍历。
- en: all of the elements inside of this，sequence called tasks and for each one。of
    those individual tasks I would like，to display a list item in HTML that。includes
    whatever the value of the task，happens to be and and for just like and。if into
    the S statement and for is going，to end the for loop so this syntax now。
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 所有的元素在这个名为tasks的序列中，对于每一个单独的任务，我想在HTML中显示一个列表项，包含任务的值是什么，并且for像if一样在S语句中，for将结束for循环，因此这个语法现在。
- en: rather than give me exactly the same，number of list items every time with。exactly
    the same content will be dynamic，whatever the value of tasks is we will。now see
    on this page each one as a list，item and we can test this right now if I。actually
    run this application by going，to Python manage PI run server I'll go。
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 与其每次给我完全相同数量的列表项，内容也完全相同，不如让它动态化，无论任务的值是什么，我们现在在这个页面上会看到每一个都是一个列表项，我们可以立即测试这一点。如果我通过运行`Python
    manage.py runserver`来运行这个应用程序，我将前往。
- en: ahead and go to this URL，the default URL has no page but if I go。to slash tasks
    well then here is what I，see I see an unordered list that has foo。![](img/aeb2017a72de30151dcf67bd2b62b63c_43.png)
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这个URL，默认的URL没有页面，但如果我去斜杠tasks，那么我看到的是一个无序列表，其中有foo。![](img/aeb2017a72de30151dcf67bd2b62b63c_43.png)
- en: bar and Baz each one is a list item and，if I view the page source to see what。the
    actual HTML is here's what I see I，only wrote one Li tag inside of my。template
    but because I put it inside of，a for loop that iterates over each of。the tasks
    what I ultimately get in the，HTML that comes back to the user is one。
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: bar和Baz每一个都是一个列表项，如果我查看页面源代码，看看实际的HTML是什么，以下是我看到的。我只在我的模板中写了一个Li标签，但因为我把它放在一个遍历每个任务的for循环中，所以最终返回给用户的HTML是一个。
- en: list item for each of the elements that，was originally inside of that list。so
    I don't have the ability to loop over，a list in order to generate that list of。tasks
    of course it is still no way to，like modify any of these tasks what we。
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 列表项对应于原本在该列表中的每个元素。因此，我无法循环一个列表来生成任务列表，当然也没有办法修改这些任务。
