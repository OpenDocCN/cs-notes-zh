# 🖥️ UCB CS162 操作系统笔记：第一课 - 操作系统概述

在本节课中，我们将要学习操作系统的基本概念、核心功能以及其发展历史。操作系统是计算机系统中至关重要的软件，它管理硬件资源并为应用程序提供运行环境。

## 什么是操作系统？

操作系统是计算机硬件和用户之间的中介。它管理计算机的硬件和软件资源，并为计算机程序提供公共服务。操作系统的主要目标是让计算机系统方便、高效地使用。

## 操作系统的核心功能

上一节我们介绍了操作系统的定义，本节中我们来看看它的核心功能。操作系统主要承担四大职责。

以下是操作系统的四大核心功能：

1.  **进程管理**
    *   操作系统负责创建、调度和终止进程。进程是正在执行的程序实例。
    *   核心概念：**进程 = 程序 + 执行上下文**。操作系统通过进程控制块（PCB）来跟踪每个进程的状态。

2.  **内存管理**
    *   操作系统管理主内存，负责为进程分配和回收内存空间，并确保不同进程的内存空间互不干扰。
    *   核心概念：**虚拟内存**。它使得程序可以使用比物理内存更大的地址空间。

3.  **文件系统管理**
    *   操作系统提供一种逻辑方式，用于在磁盘等存储设备上创建、访问、删除和组织文件及目录。
    *   核心概念：**文件 = 命名的字节序列**。文件系统通过如 `inode` 等数据结构来管理文件的元数据和数据块。

4.  **设备管理**
    *   操作系统通过设备驱动程序来控制和协调计算机的输入/输出设备，如键盘、鼠标、显示器、磁盘等。

## 操作系统的发展简史

了解了核心功能后，我们有必要回顾一下操作系统是如何演变的。其发展历程与硬件能力的提升紧密相关。

以下是操作系统发展的几个关键阶段：

*   **第一代（1940s-1950s）：无操作系统**
    *   程序员直接通过机器语言或穿孔卡片操作硬件，效率极低。

*   **第二代（1950s-1960s）：批处理系统**
    *   出现了简单的监控程序，能够自动依次执行一批作业，减少了人工操作时间。

*   **第三代（1960s-1970s）：多道程序与分时系统**
    *   **多道程序**：允许多个程序同时驻留内存，当一个程序等待I/O时，CPU可以执行另一个程序，提高了CPU利用率。
    *   **分时系统**：通过快速切换（时间片轮转）使多个用户可以通过终端同时与一台计算机交互，每个用户都感觉独占了计算机。

*   **第四代（1980s-至今）：个人计算机与现代操作系统**
    *   随着微处理器的发展，出现了面向个人用户的图形界面操作系统，如 Windows、macOS 和各种 Linux 发行版。
    *   现代操作系统通常融合了多道程序、分时、网络、安全等复杂功能。

## 核心抽象：进程与虚拟内存

操作系统的强大能力建立在几个关键抽象之上。其中，**进程**和**虚拟内存**是最为重要的两个抽象。

*   **进程抽象**：操作系统将CPU的执行能力抽象为“进程”。每个进程都仿佛独占了CPU，实际上是通过操作系统的调度在多个进程间快速切换实现的。
    *   代码示例（概念性）：`PCB = {进程ID, 程序计数器, 寄存器集合, 内存指针, ...}`

*   **虚拟内存抽象**：操作系统为每个进程提供一个统一的、连续的私有地址空间，仿佛独占了全部内存。这通过硬件（MMU）和软件（页表）协同实现。
    *   公式（简化）：`虚拟地址 -> (通过页表查询) -> 物理地址`

本节课中我们一起学习了操作系统的基本定义、四大核心功能（进程管理、内存管理、文件系统管理和设备管理），并回顾了其从批处理到现代系统的发展历程。最后，我们探讨了进程和虚拟内存这两个核心抽象，它们是操作系统实现资源管理和多任务的基础。理解这些概念是进一步学习操作系统具体机制的第一步。