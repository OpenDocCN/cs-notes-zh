<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Building from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Building from Scratch</h1>
<blockquote>原文：<a href="https://cs50.harvard.edu/scratch/notes/9/">https://cs50.harvard.edu/scratch/notes/9/</a></blockquote>

                    

<h2 id="broadcasts">Broadcasts</h2>

<ul>
  <li data-marker="*">A useful feature in Scratch will allow our sprites to communicate with each other.</li>
  <li data-marker="*">We’ll add our cat and dinosaur sprites, and rotate the dinosaur so it faces the cat.</li>
  <li data-marker="*">Now, we’ll have the cat say hello to the dinosaur:
    <pre><code class="language-scratch">  when green flag clicked
  say [Hello, Dinosaur!] for (2) seconds
</code></pre>
  </li>
  <li data-marker="*">We’ll also have our dinosaur say hello back, but it should wait for two seconds:
    <pre><code class="language-scratch">  when green flag clicked
  wait (2) seconds
  say [Hello, Cat!] for (2) seconds
</code></pre>
  </li>
  <li data-marker="*">But now, if we want to have the cat say hello for just one second, we have to remember to change how long the dinosaur waits. And this will be more complex as we have more interactions, or even more sprites on the stage.</li>
  <li data-marker="*">It turns out that our cat sprite can use <strong>broadcasting</strong>, or the ability to send a message or signal. And our dinosaur sprite can respond when it receives that message.</li>
  <li data-marker="*">In the Events category of blocks, we’ll use the “broadcast” block. We’ll use the dropdown to choose “New message”, and we’ll just call it “greet”:
    <pre><code class="language-scratch">  broadcast (greet v)
</code></pre>
  </li>
  <li data-marker="*">We’ll change our cat’s script to use that block to send a message when it’s done:
    <pre><code class="language-scratch">  when green flag clicked
  say [Hello, Dinosaur!] for (2) seconds
  broadcast (greet v)
</code></pre>
  </li>
  <li data-marker="*">And for our dinosaur, we can use the “when I receive” block:
    <pre><code class="language-scratch">  when I receive [greet v]
  say [Hello, Cat!] for (2) seconds
</code></pre>
    <ul>
      <li data-marker="*">Now, our dinosaur will always respond when our cat finishes saying hello.</li>
    </ul>
  </li>
</ul>

<h2 id="control-the-duck">Control the Duck</h2>

<ul>
  <li data-marker="*">Let’s add a duck to our stage for <a href="https://scratch.mit.edu/projects/507464954/">Control the Duck</a>.</li>
  <li data-marker="*">We can use the arrow keys to control it, but let’s add two arrows sprites to the stage, and rotate one so it’s pointing up, and the other so it’s pointing down:<br/>
  <img src="../Images/980014d5a10e8122adf9a9f78d0a7a80.png" alt="stage with arrows and duck" width="486" data-original-src="https://cs50.harvard.edu/scratch/notes/9/arrows.png"/></li>
  <li data-marker="*">For the arrow pointing up, we’ll tell it to broadcast a message of “up” whenever it’s clicked:
    <pre><code class="language-scratch">  when this sprite clicked
  broadcast (up v)
</code></pre>
  </li>
  <li data-marker="*">And for the arrow pointing down, we’ll broadcast another message, “down”:
    <pre><code class="language-scratch">  when this sprite clicked
  broadcast (down v)
</code></pre>
  </li>
  <li data-marker="*">For our duck, we’ll tell it to move up or down based on the message it receives:
    <pre><code class="language-scratch">  when I receive [up v]
  change y by (10)

  when I receive [down v]
  change y by (-10)
</code></pre>
  </li>
  <li data-marker="*">Now, each of the arrow sprites will broadcast a message when they are clicked, and our duck will move when it receives a message.</li>
</ul>

<h2 id="visiting-fish">Visiting Fish</h2>

<ul>
  <li data-marker="*">The stage can broadcast messages as well, as we’ll see in <a href="https://scratch.mit.edu/projects/507465389/">Visiting Fish</a>.</li>
  <li data-marker="*">We’ll change our backdrop to “Underwater 1”, and add a fish sprite.</li>
  <li data-marker="*">Now, we can click on the backdrop in the bottom right, and in the Code tab, add the “when stage clicked” block in the Events section:
    <pre><code class="language-scratch">  when stage clicked
  broadcast (visit v)
</code></pre>
    <ul>
      <li data-marker="*">Then, we’ll broadcast a new message that we’ll call “visit”.</li>
    </ul>
  </li>
  <li data-marker="*">We’ll tell our fish to go to our mouse pointer when it receives the “visit” message:
    <pre><code class="language-scratch">  when I receive [visit v]
  point towards (mouse-pointer v)
  glide (1) secs to (mouse-pointer v)
</code></pre>
    <ul>
      <li data-marker="*">Now, after we click the flag, we can click anywhere on the stage and our fish will move to it.</li>
    </ul>
  </li>
</ul>

<h2 id="stars">Stars</h2>

<ul>
  <li data-marker="*">Let’s see how we might be able to clone, or copy, a sprite with <a href="https://scratch.mit.edu/projects/507465575/">Stars</a>.</li>
  <li data-marker="*">With our plain white backdrop and a star sprite, we’ll add the following blocks:
    <pre><code class="language-scratch">  when this sprite clicked
  create clone of (myself v)

  when I start as a clone
  glide (1) secs to (random position v)
</code></pre>
    <ul>
      <li data-marker="*">The “create clone” and “when I start as a clone” blocks are in the Control section of blocks.</li>
      <li data-marker="*">Now, whenever our star is clicked, it will make a copy of itself. Then, the copy will run whatever script is under “when I start as a clone”, moving itself to a random position on the stage.</li>
    </ul>
  </li>
</ul>

<h2 id="crystal-catch">Crystal Catch</h2>

<ul>
  <li data-marker="*">Let’s remove our stars, and build a fully complete game with <a href="https://scratch.mit.edu/projects/507465773/">Crystal Catch</a>.</li>
  <li data-marker="*">We’ll start by using our cat, and try to build a game where we’re catching the “Crystal” sprite. We’ll ultimately want crystals to fall from the sky, and for the cat to catch them before they reach the ground.</li>
  <li data-marker="*">First, we’ll add blocks for our cat to move left and right with the arrow keys:
    <pre><code class="language-scratch">  when [left arrow v] key pressed
  change x by (-10)

  when [right arrow v] key pressed
  change x by (10)
</code></pre>
  </li>
  <li data-marker="*">Then, we’ll want our cat to start in the middle of the stage when the green flag is clicked:
    <pre><code class="language-scratch">  when green flag clicked
  go to x: (0) y: (-125)
  say (Catch the crystals without letting them hit the ground!) for (4) seconds
  broadcast (begin v)
</code></pre>
    <ul>
      <li data-marker="*">We’ll also say some instructions for our user.</li>
      <li data-marker="*">We should hide the crystal before the game starts, and then make clones of itself since we’ll want many crystals to appear. Before that, we’ll need our cat to broadcast a message, “begin”.</li>
    </ul>
  </li>
  <li data-marker="*">Now we can tell our crystal to hide itself at the beginning, and make clones of itself when the game has started:
    <pre><code class="language-scratch">  when green flag clicked
  hide

  when I receive [begin v]
  create clone of (myself v)
</code></pre>
  </li>
  <li data-marker="*">Then, when the crystal starts as a clone, it should show itself:
    <pre><code class="language-scratch">  when I start as a clone
  show
  go to x: (0) y: (160)
  forever
  change y by (-2)
</code></pre>
    <ul>
      <li data-marker="*">After our crystal appears, it will start at the top center of the stage, and move down over and over in a forever loop.</li>
    </ul>
  </li>
  <li data-marker="*">Notice that we’re building our game one component at a time, and we can always start our program to make sure that everything we’ve made is working so far.</li>
  <li data-marker="*">Next, our crystal will need to check if it is touching the cat:
    <pre><code class="language-scratch">  when I start as a clone
  show
  go to x: (0) y: (160)
  forever
  change y by (-2)
  if &lt;touching (Cat v) ?&gt; then
</code></pre>
  </li>
  <li data-marker="*">We’ll make a new variable called “catches” to represent the score, and we’ll reset it in our cat’s script, since we’re doing other resetting there as well:
    <pre><code class="language-scratch">  when green flag clicked
  go to x: (0) y: (-125)
  set [catches v] to (0)
  say (Catch the crystals without letting them hit the ground!) for (4) seconds
  broadcast (begin v)
</code></pre>
  </li>
  <li data-marker="*">Now we can go back to our crystal’s script, and add blocks for what we need to do when it touches our cat:
    <pre><code class="language-scratch">  when I start as a clone
  show
  go to x: (0) y: (160)
  forever
  change y by (-2)
  if &lt;touching (Cat v) ?&gt; then
  change [catches v] by (1)
  create clone of (myself v)
  delete this clone
</code></pre>
    <ul>
      <li data-marker="*">We’ll need to increase our “catches” variable by 1, to keep track of our score.</li>
      <li data-marker="*">Then, we need to create a new crystal, and make our original crystal delete itself.</li>
      <li data-marker="*">The new crystal will start at the top of the screen, since it’s a new clone.</li>
    </ul>
  </li>
  <li data-marker="*">Let’s change the x value of the crystal’s position to something random, so our game has some unpredictability. The far left and far right of the stage will be some big numbers, so we’ll use negative 200 and 200:
    <pre><code class="language-scratch">  when I start as a clone
  show
  go to x: (pick random (-200) to (200)) y: (160)
</code></pre>
    <ul>
      <li data-marker="*">Now, our crystals will appear in different spots every time.</li>
    </ul>
  </li>
  <li data-marker="*">If we don’t catch the crystal, we might want to count the number of misses there has been so far.</li>
  <li data-marker="*">We’ll create a new variable called “misses”, which will keep track of the number of times that our cat has not caught the crystal. We’ll reset this to 0 every time the game is started, as well:
    <pre><code class="language-scratch">  when green flag clicked
  go to x: (0) y: (-125)
  set [catches v] to (0)
  set [misses v] to (0)
  say (Catch the crystals without letting them hit the ground!) for (4) seconds
  broadcast (begin v)
</code></pre>
  </li>
  <li data-marker="*">Now, we can tell our crystal to check if it’s touching the ground (or edge):
    <pre><code class="language-scratch">  when I start as a clone
  show
  go to x: (0) y: (160)
  forever
  change y by (-2)
  if &lt;touching (Cat v) ?&gt; then
  change [catches v] by (1)
  create clone of (myself v)
  delete this clone
  end
  if &lt;touching (edge v) ?&gt; then
  change [misses v] by (1)
  create clone of (myself v)
  delete this clone
  end
</code></pre>
    <ul>
      <li data-marker="*">If our crystal reaches the edge, we’ll increase the value of “misses”, and then create a new clone, and delete this clone.</li>
    </ul>
  </li>
  <li data-marker="*">We might want a limit to the number of misses we can have, so we can have a condition to check for that:
    <pre><code class="language-scratch">  if &lt;touching (edge v) ?&gt; then
  change [misses v] by (1)
  if &lt;(misses) = (3)&gt; then
  broadcast (game over v)
  delete this clone
  end
  create clone of (myself v)
  delete this clone
  end
</code></pre>
    <ul>
      <li data-marker="*">After we miss, we’ll check if the number is three. If so, we’ll broadcast a message for our cat, and then delete this clone.</li>
    </ul>
  </li>
  <li data-marker="*">Finally, in our cat’s script, we can say our score when we receive that message:
    <pre><code class="language-scratch">  when I receive [game over v]
  say (join (Your score is) (catches)) for (5) seconds
</code></pre>
  </li>
  <li data-marker="*">We can try this, and see that our program is working as we intended. We can create more crystals at a time, by having our crystal clone itself over and over:
    <pre><code class="language-scratch">  when I receive [begin v]
  forever
  create clone of (myself v)
  wait (15) seconds
</code></pre>
    <ul>
      <li data-marker="*">Now, every 15 seconds, a new crystal will be created.</li>
    </ul>
  </li>
  <li data-marker="*">But we see that when the game ends, new crystals will still be created. So, we’ll need our cat to stop everything in our program:
    <pre><code class="language-scratch">  when I receive [game over v]
  say (join (Your score is) (catches)) for (5) seconds
  stop [all v]
</code></pre>
  </li>
  <li data-marker="*">With these examples, hopefully you can see how all of these components, tools, and concepts can be used to build interesting and exciting projects in Scratch.</li>
  <li data-marker="*">We encourage you to create something of your own, and share it with your friends, family and us. Thanks for joining us in Introduction to Programming with Scratch!</li>
</ul>


                    
</body>
</html>