- en: Abstraction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://cs50.harvard.edu/scratch/notes/8/](https://cs50.harvard.edu/scratch/notes/8/)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: So far, we’ve seen many features of Scratch, with blocks that let us add loops,
    variables, and conditions to our projects.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, let’s think about how we might be able to improve upon the way that we’ve
    designed the blocks inside of our Scratch projects.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dinosaur Game
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s start by adding a dinosaur sprite to start building our [Dinosaur Game](https://scratch.mit.edu/projects/507462509/)
    example.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll add blocks so that it can move when the arrow keys are pressed:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We’ll add another sprite, the star, and we can say that we’ve won the game when
    our dinosaur touches the star.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Let’s tell our dinosaur to check if it’s touching the star after we’ve moved
    up:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Recall that the “if” block is under the Control section of blocks, and “touching?”
    block is under the Sensing section.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll also add a “say” block along with the “timer” variable, so that our dinosaur
    can tell us how long it took to find the star.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: But this doesn’t work if we reach the star after we pressed right to get to
    it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We want our dinosaur to check if we’ve reached the star no matter which key
    we used for it, so we need to right-click, or control-click, on the “if” block,
    and choose “Duplicate” to make a copy for each key:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We’ll also add some code to our star so it moves to a random position every
    time the program is started:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, we can use the arrow keys to move our dinosaur to the star, and every time
    it will tell us how long we took.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It looks like the time is reported with decimals, like 9.70\. So we can round
    this time to the nearest number of seconds, with the “round” block in the Operators
    section.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: But now, we’d have to drag the “round” block into the scripts for each of the
    four directions.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When we’re copying a lot of code in our projects, it’s often the case that there’s
    a better solution.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this case, it turns out we can create a new block of our own, and refer back
    to it every time we need to.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll look in the section of blocks called “My Blocks”, and click “Make a Block”
    to make a new block. We’ll name this “check if won”, since that’s what we’re trying
    to do. Then, we’ll see this block appear:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, we can add blocks underneath, that will run every time we use the “check
    if won” block.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'So we’ll take the condition and the “say” block, and move them to it:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'And for our other scripts, we’ll drag out our own “check if won” block:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, we’re using fewer blocks to achieve the same effect.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If we wanted to round the value of the timer, we can change it just one place
    now, instead of four:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: The ability to create our own blocks will allow us to improve the overall design
    and readability of our projects.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Balloon
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Let’s add a balloon sprite for [Balloon 1](https://scratch.mit.edu/projects/507463302/),
    and add blocks for it to inflate and deflate itself:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Our balloon will start at a size of 50%, increase its size by 10 ten times,
    wait a second, and then decrease its size by 10 (changing it by negative 10) ten
    times.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: But this code would require someone else to think about what the numbers and
    loops are doing, to understand what will happen. We can make our code easier to
    read by adding more blocks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We can make a new block called “inflate”, that will increase the size of our
    balloon by 10 ten times:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'And we’ll make another block called “deflate”, that will decrease the size
    of our balloon:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'For the main script, we’ll use our new blocks:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note that our program does the exact same thing still, but the script under
    “when flag clicked” is easier to read.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: We can call these custom blocks **abstractions**, or taking more complex ideas
    or actions, and giving them a name that we can refer to and use over and over.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We can give ourselves even more control in [Balloon 2](https://scratch.mit.edu/projects/507463768/).
    Let’s right-click, or control-click, the “inflate” block we have, and choose “Edit”.
    Then, we’ll click “Add an input” to give this block the ability to accept some
    input, and we’ll call it “n”:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Make a Block with inflate and n as input](../Images/a261caf502a91780bcb08d42851894a8.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: “n” will be the name of the input, and since it will be some number, we can
    use “n” by convention.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll also click “Add a label”, and change that to say “times”, so our block
    will look like this:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![block with inflate n times](../Images/6abff0088368a76b984e9d703959a104.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: The label lets us add more words to describe what the block will do.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Notice that our “define” block for “inflate” will show an “n” in an oval that
    we can use in our block below, so we’ll drag it into the “repeat” block:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, “inflate” will increase the balloon’s size by 10 for “n” times.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll do this with deflate as well. Then, in our script for “when flag clicked”,
    we’ll need to type a number into each of our custom blocks:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We can type in 10 so the balloon is inflated 10 times, or we can change that
    to 20, or any other value.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: By giving our functions the ability to take inputs, we can make them more flexible.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Walking Bear
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s take a look at a function that can take multiple inputs in [Walking Bear](https://scratch.mit.edu/projects/507464163/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll add our bear sprite, and rename our costumes for the bear on four legs
    to “4”, and the costume for the bear on two legs “2”.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Let’s make a new block called “walk”, and give it an input called “m”. We’ll
    add a label “steps on”, and then another input, “n”. Finally, we’ll add another
    label, “feet”:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![block labeled walk m steps on n feet](../Images/fa7376ce1913daf149db3bc9ba250dc7.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: We could call the inputs anything we’d like, but we’ll use “m” and “n”.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'What we want this block to do is to make our bear walk “m” steps on “n” feet,
    so we’ll define it as:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We’ll first switch our costume to “n”, and then move 1 step “m” times.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now, in our main script, we can tell our bear to walk any number of steps,
    on two or four feet:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Notice that it’s easier to understand what our bear will do when the flag is
    clicked. And we’ve saved ourselves from having to repeat multiple blocks over
    and over again.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: With our own custom blocks, we can define complex behaviors that we can reuse
    and keep our project better organized.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
