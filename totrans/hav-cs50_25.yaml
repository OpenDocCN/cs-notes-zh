- en: Lecture 3
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 讲座 3
- en: 原文：[https://cs50.harvard.edu/cybersecurity/notes/3/](https://cs50.harvard.edu/cybersecurity/notes/3/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://cs50.harvard.edu/cybersecurity/notes/3/](https://cs50.harvard.edu/cybersecurity/notes/3/)
- en: '[Securing Software](#securing-software)'
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[保护软件](#securing-software)'
- en: '[Phishing](#phishing)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[钓鱼攻击](#phishing)'
- en: '[Code Injection](#code-injection)'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[代码注入](#code-injection)'
- en: '[Reflected Attack](#reflected-attack)'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[反射攻击](#reflected-attack)'
- en: '[Stored Attack](#stored-attack)'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[存储攻击](#stored-attack)'
- en: '[Character Escapes](#character-escapes)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[字符转义](#character-escapes)'
- en: '[HTTP Headers](#http-headers)'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[HTTP 头部](#http-headers)'
- en: '[SQL Injection](#sql-injection)'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[SQL 注入](#sql-injection)'
- en: '[Prepared Statements](#prepared-statements)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[预处理语句](#prepared-statements)'
- en: '[Command Injection](#command-injection)'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[命令注入](#command-injection)'
- en: '[Developer Tools](#developer-tools)'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[开发者工具](#developer-tools)'
- en: '[Server-Side Validation](#server-side-validation)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[服务器端验证](#server-side-validation)'
- en: '[Cross-Site Request Forgery (CSRF)](#cross-site-request-forgery-csrf)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[跨站请求伪造 (CSRF)](#cross-site-request-forgery-csrf)'
- en: '[Arbitrary Code Execution (ACE)](#arbitrary-code-execution-ace)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[任意代码执行 (ACE)](#arbitrary-code-execution-ace)'
- en: '[Open-Source Software](#open-source-software)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[开源软件](#open-source-software)'
- en: '[Closed-Source Software](#closed-source-software)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[封闭源代码软件](#closed-source-software)'
- en: '[App Stores](#app-stores)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[应用商店](#app-stores)'
- en: '[Package Managers](#package-managers)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[软件包管理器](#package-managers)'
- en: '[Bug Bounty](#bug-bounty)'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[漏洞赏金](#bug-bounty)'
- en: '[Identifying Vulnerabilities](#identifying-vulnerabilities)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[识别漏洞](#identifying-vulnerabilities)'
- en: '[Summing Up](#summing-up)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[总结](#summing-up)'
- en: Securing Software
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护软件
- en: This is CS50’s Introduction to Cybersecurity.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是 CS50 的网络安全入门。
- en: This week, let’s focus on securing software that you use or software that you
    create.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这周，让我们专注于保护你使用的软件或你创建的软件。
- en: Last time, we introduced various attacks that could be used by adversaries to
    obtain information from you.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上次，我们介绍了各种攻击，攻击者可以使用这些攻击从你那里获取信息。
- en: Phishing
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 钓鱼攻击
- en: We introduced an attack called *phishing*, where an adversary tricks you into
    providing information of some kind.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们介绍了一种称为 *钓鱼攻击* 的攻击，其中攻击者欺骗你提供某种信息。
- en: 'In the source code of a website, for example, in the language of HTML, you
    may see code like this:'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，在网站的源代码中，在 HTML 语言中，你可能看到如下代码：
- en: '[PRE0]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Notice in the code above that a paragraph starts and ends. It begins with an
    opening tag and a closing tag.
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，上面的代码中，一个段落开始并结束。它以一个开标签和一个闭标签开始。
- en: Similarly, links in web pages use a specific type of tag called an *anchor tag*
    to take users from one web page to another.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类似地，网页中的链接使用一种称为 *锚点标签* 的特定类型的标签，将用户从一个网页带到另一个网页。
- en: 'Such code looks like this:'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这样的代码看起来是这样的：
- en: '[PRE1]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Notice that this code is an anchor tag that allows the user to click the word
    ‘Harvard’ and visit `harvard.edu`.
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，此代码是一个锚点标签，允许用户点击“哈佛”一词并访问 `harvard.edu`。
- en: On an actual web page, you could move your mouse over such a link and see where
    this precise link will take you.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在实际的网页上，你可以将鼠标移到这样的链接上，并看到这个精确链接将带你去哪里。
- en: Adversaries may take advantage of your lack of attention to claim you are linking
    to one web page when you are actually linking to another one.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击者可能会利用你注意力不集中的弱点，声称你正在链接到一个网页，而实际上你正在链接到另一个网页。
- en: 'For example, an adversary could provide code like this:'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，攻击者可能提供如下代码：
- en: '[PRE2]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Notice that this code is an anchor tag that tricks the user into clicking `https://harvard.edu`
    when it actually browses to `yale.edu`. While the user will think they are clicking
    a link for Harvard, they are actually browsing to Yale.
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，此代码是一个锚点标签，它欺骗用户点击 `https://harvard.edu`，而实际上它浏览到的是 `yale.edu`。虽然用户会认为他们点击的是哈佛的链接，但实际上他们正在浏览耶鲁。
- en: You can imagine how this strategy can be used by an adversary to trick you into
    thinking you are visiting one website when you are actually visiting another.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以想象这种策略如何被攻击者用来欺骗你，让你认为你正在访问一个网站，而实际上你正在访问另一个网站。
- en: Adversaries often create fake versions of websites for the sole purpose of tricking
    users into inputting sensitive information into those websites. For example, if
    you were a Harvard student visiting such a fake Harvard website, you may attempt
    to log in and provide your username and password to an adversary.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击者经常创建网站的假版本，目的就是为了欺骗用户在这些网站上输入敏感信息。例如，如果你是一名哈佛学生访问这样的假哈佛网站，你可能会尝试登录并提供你的用户名和密码给攻击者。
- en: Code Injection
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 代码注入
- en: '*Cross-site scripting*, or *XSS*, is a form of attack where a website is tricked
    into running malicious code via a user’s input.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*跨站脚本攻击*，或称 *XSS*，是一种攻击形式，其中网站被欺骗通过用户的输入运行恶意代码。'
- en: For example, on Google, when you type a search for the term “cat”, notice how
    the term appears on the screen elsewhere, showing you how many results are present
    for this search.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，在 Google 上，当你搜索“猫”这个术语时，注意这个术语如何在屏幕上的其他地方出现，显示这个搜索的结果数量。
- en: Imagine that an adversary who knows a bit about the web could insert code as
    input as a way of tricking the website into running such code.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 想象一下，一个对网络略知一二的对手可能会将代码作为输入插入，以此来欺骗网站运行此类代码。
- en: 'For example, consider the following code that could be inserted into a search
    field:'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，考虑以下可能被插入搜索字段的代码：
- en: '[PRE3]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Notice how this script displays a notification that says “attack.” While the
    Google website will not display such a notice due to security, this is representative
    of what an adversary could attempt.
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，此脚本显示了一个通知，说“攻击。”虽然由于安全原因，Google 网站不会显示此类通知，但这代表了对手可能尝试的事情。
- en: If a website blindly copies user input and outputs what the adversary typed,
    this is a major security concern.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果网站盲目地复制用户输入并输出对手输入的内容，这将是一个重大的安全问题。
- en: Reflected Attack
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 反射攻击
- en: A *reflected attack* is one that takes advantage of how websites accept input
    to trick a user’s browser into sending a request for information that results
    in an attack.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*反射攻击* 是一种利用网站接受输入的方式，欺骗用户的浏览器发送请求信息，从而导致攻击的攻击方式。'
- en: 'Imagine that a user could be tricked to click a link structured as follows:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 想象一下，一个用户可能会被欺骗点击一个结构如下链接：
- en: '[PRE4]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Notice that this link includes the exact script presented above that is intended
    to create an attack alert on the user’s screen.
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，此链接包含上面展示的精确脚本，该脚本旨在在用户的屏幕上创建攻击警报。
- en: The user’s actions trick their own web browser into reflecting back an attack
    upon the user.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户的操作会欺骗他们自己的网络浏览器反射回针对用户的攻击。
- en: Stored Attack
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 存储攻击
- en: A website could be vulnerable to an attack where it is tricked into storing
    malicious code.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个网站可能会受到攻击，被欺骗存储恶意代码。
- en: Imagine where one could email malicious code. If an email provider blindly accepts
    any code sent to it, any person receiving the malicious code may become a victim
    of an attack.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 想象一下，有人可能会通过电子邮件发送恶意代码。如果电子邮件提供商盲目接受发送给它的任何代码，接收恶意代码的任何人可能都会成为攻击的受害者。
- en: Character Escapes
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 字符转义
- en: Services use *character escapes* as a way by which to protect against such attacks.
    Software should escape potentially troublesome characters that represent common
    coding-based characters.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务使用 *字符转义* 作为防止此类攻击的一种方式。软件应该转义可能引起麻烦的字符，这些字符代表常见的基于编码的字符。
- en: For example, code like the following…
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，以下代码...
- en: '[PRE5]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: will be outputted by secured software as…
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将由安全软件输出...
- en: '[PRE6]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: While a bit cryptic, notice that `&lt;` is used to escape potential characters
    that would pose a threat to the software. The output of the above then becomes
    a text-only representation of the malicious code.
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然有点晦涩，但请注意 `&lt;` 用于转义可能对软件构成威胁的潜在字符。上述输出的结果变成了恶意代码的纯文本表示。
- en: 'Commonly escaped characters include:'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常见的转义字符包括：
- en: '`&lt;`, which is is the less-than sign, “<”'
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&lt;`，这是小于号，“<”'
- en: '`&gt;`, which is is the greater-than sign, “>”'
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&gt;`，这是大于号，“>”'
- en: '`&amp;`, which is the ampersand, “&”'
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&amp;`，这是和号，“&”'
- en: '`&quot;`, which is the double quote, “, itself'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&quot;`，这是双引号，“, 本身'
- en: '`&apos;`, which is the single quote, ‘'
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&apos;`，这是单引号，“‘”'
- en: HTTP Headers
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: HTTP 头部
- en: Recall that *HTTP headers* are additional instructions that are provided to
    the browser.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回想一下，*HTTP 头部* 是提供给浏览器的一些附加指令。
- en: 'Consider the following header:'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑以下头部：
- en: '[PRE7]'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Notice that the above security policy in a website header will only allow Javascript
    to be loaded via separate files, usually ending in `.js`. Thus, `<script>` tags
    inside HTML will not be run by the browser when this security policy is in place.
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，上述网站头部的安全策略仅允许通过单独的文件加载 JavaScript，通常以 `.js` 结尾。因此，当此安全策略生效时，HTML 中的 `<script>`
    标签不会被浏览器运行。
- en: 'Similarly, the following header will allow CSS only from `.css` files:'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 同样，以下头部将只允许从 `.css` 文件加载 CSS：
- en: '[PRE8]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Notice that `style-src` indicates that only CSS that is loaded from a `.css`
    file will be permitted.
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意 `style-src` 指示仅允许从 `.css` 文件加载的 CSS。
- en: SQL Injection
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SQL 注入
- en: '*Structured query language* or *SQL* is a programming language that allows
    for retrieving specific information from a database.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*结构化查询语言* 或 *SQL* 是一种编程语言，允许从数据库中检索特定信息。'
- en: Consider how an adversary may attempt to trick SQL into executing malicious
    code.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑攻击者可能如何尝试欺骗 SQL 执行恶意代码。
- en: 'Consider the following SQL code:'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑以下 SQL 代码：
- en: '[PRE9]'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Notice that here a user’s inputted username is inserted into the SQL code.
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，这里插入的用户输入的用户名被插入到 SQL 代码中。
- en: Never trust a user’s input.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 永远不要信任用户的输入。
- en: All input should be scrubbed such that all user input is escaped.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有输入都应清理，以确保所有用户输入都被转义。
- en: 'Suppose that an adversary inserted the following code into the username field:'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设攻击者将以下代码插入到用户名字段中：
- en: '[PRE10]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Notice that in addition to a username, malicious code is inserted.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，除了用户名外，还插入了恶意代码。
- en: 'What results because of the above input is the following:'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于上述输入，结果是以下内容：
- en: '[PRE11]'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Notice that the adversary’s malicious input adds additional code to the query.
    What results is the deletion of all users from the system. Every account on the
    system is deleted.
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，攻击者的恶意输入向查询中添加了额外的代码。结果是系统中的所有用户都被删除。系统上的每个账户都被删除。
- en: 'Suppose that a user is asked for a username and password as follows:'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设用户被要求如下输入用户名和密码：
- en: '[PRE12]'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Notice a user is asked for a username and password.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意用户被要求输入用户名和密码。
- en: 'An adversary could insert the following into the password field:'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击者可能会将以下内容插入到密码字段中：
- en: '[PRE13]'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The following SQL code will then execute:'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，以下 SQL 代码将执行：
- en: '[PRE14]'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Notice grammatically, this results in providing all the users in the database.
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意语法上，这会导致向数据库中的所有用户提供。
- en: 'To see this more plainly, notice the additional parentheses added below:'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了更清楚地看到这一点，注意下面添加了额外的括号：
- en: '[PRE15]'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Notice that this code will either show all users where the username and password
    combination are true `OR` all users.
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，此代码将显示所有用户名和密码组合为真的用户 `OR` 所有用户。
- en: Effectively, the above input is always true. Through this security vulnerability,
    the adversary may have information about all users on the system, including the
    administrator.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事实上，上述输入始终为真。通过这种安全漏洞，攻击者可能了解系统上所有用户的信息，包括管理员。
- en: Prepared Statements
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 预处理语句
- en: '*Prepared statements* are pre-designed snippets of code that correctly handle
    many database functions, including user input.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*预处理语句* 是预先设计的代码片段，可以正确处理许多数据库功能，包括用户输入。'
- en: Such statements, for example, ensure that user-inputted data is properly escaped.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这样的语句，例如，确保用户输入的数据被正确转义。
- en: A prepared statement will take code as the following…
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预处理语句将采用以下代码…
- en: '[PRE16]'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: and replace it with…
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 并将其替换为…
- en: '[PRE17]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Prepared statements will look for any `''` characters and replace them with
    `''''`. Hence, our previous attack shown above would be rendered by the prepared
    statement:'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预处理语句将查找任何 `'` 字符并将其替换为 `''`。因此，我们上面显示的先前攻击将通过预处理语句呈现：
- en: '[PRE18]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Notice that the `'` at the end of ‘malan’ is replaced with `''`, rendering the
    malicious code inoperable.
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，在“malan”的末尾的 `'` 被替换为 `''`，使恶意代码无法运行。
- en: What results is that malicious characters are escaped, such that malicious code
    cannot run.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结果是恶意字符被转义，使得恶意代码无法运行。
- en: Command Injection
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 命令注入
- en: A *command line interface* is a method by which to run a computer system using
    text-based commands, as opposed to clicking on menus and buttons.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*命令行界面* 是一种使用基于文本的命令来运行计算机系统的方法，与点击菜单和按钮相反。'
- en: A *command injection* attack is one that issues a command on the underlying
    system itself.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*命令注入* 攻击是在底层系统本身发出命令。'
- en: Should a command be passed from user input to the command line, the effect could
    be disastrous.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果从用户输入传递命令到命令行，可能会造成灾难性的后果。
- en: Two common places of vulnerability are that of `system` and `eval`, wherein
    if you pass user input without sanitization, malicious commands could be issued
    on a system.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个常见的漏洞点是 `system` 和 `eval`，在这些地方，如果你未对用户输入进行清理，恶意命令可能会在系统上执行。
- en: Always read the documentation to learn how to escape the user’s input.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 总是阅读文档以了解如何转义用户的输入。
- en: Developer Tools
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开发者工具
- en: Let’s return to the world of HTML and the web.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让我们回到 HTML 和网络的世界。
- en: In the context of the browser, *developer tools* allow you to poke around some
    of the underlying code in a web page.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在浏览器上下文中，*开发者工具* 允许你探索网页中的一些底层代码。
- en: 'Consider what we can do using developer tools. Here is the code for a textbox:'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑我们可以使用开发者工具做什么。以下是文本框的代码：
- en: '[PRE19]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Notice that this creates a type of input called a checkbox. Further, notice
    that this textbox is disabled and not usable via the `disabled` attribute.
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意这创建了一种称为复选框的输入类型。此外，注意这个文本框已被禁用，无法通过`disabled`属性使用。
- en: Perhaps a challenge with the security of HTML is that the HTML is resident on
    their computer. Therefore, the user could be able to make changes to a local file
    on their computer.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 也许HTML安全性的一个挑战是HTML驻留在用户的电脑上。因此，用户可能能够更改他们电脑上的本地文件。
- en: A user with access to HTML on their own computer via developer tools can change
    HTML.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拥有通过开发者工具访问自己电脑上HTML的用户可以更改HTML。
- en: '[PRE20]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Notice that a local copy of the HTML here has the `disabled` attribute removed.
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意这里HTML的本地副本已移除`disabled`属性。
- en: You should never trust *client-side validation* alone.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你永远不应该只信任客户端验证。
- en: 'Similarly, consider the following HTML:'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类似地，考虑以下HTML：
- en: '[PRE21]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Notice how this text input is `required`.
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意这个文本输入是`required`。
- en: 'Someone with access to developer tools could remove the requirement of this
    input as follows:'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以访问开发者工具的人可以取消此输入的要求，如下所示：
- en: '[PRE22]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Notice the `required` attribute is removed.
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，已移除`required`属性。
- en: Again, never trust that client-side validation will ensure the security of your
    web application.
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 再次强调，永远不要相信客户端验证将确保你的Web应用程序的安全性。
- en: Server-Side Validation
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 服务器端验证
- en: '*Server-side validation* provides security features to ensure that user input
    is appropriate and safe.'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*服务器端验证*提供安全功能，以确保用户输入是适当和安全的。'
- en: While this topic is beyond the scope of this class, simply trust in the principle
    that user input should be validated on the server-side. Never trust user input.
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虽然这个主题超出了本课程的范围，但只需相信一个原则：用户输入应该在服务器端进行验证。永远不要信任用户输入。
- en: Cross-Site Request Forgery (CSRF)
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 跨站请求伪造 (CSRF)
- en: Another threat is called *cross-site request forgery* or *CSRF*.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一个威胁被称为*跨站请求伪造*或*CSRF*。
- en: Websites use two primary methods to interact with users called `GET` and `POST`
    methods.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站使用两种主要方法与用户交互，称为`GET`和`POST`方法。
- en: '`GET` gets information from a server.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GET`从服务器获取信息。'
- en: 'You might consider how Amazon uses the `GET` method for the following HTML:'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可能会考虑亚马逊如何使用`GET`方法来处理以下HTML：
- en: '[PRE23]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Notice how with a single click, one can buy this product.
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意单击一下就可以购买这个产品。
- en: You can imagine how one may trick someone into buying something they don’t intend.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以想象如何欺骗某人购买他们不打算购买的东西。
- en: 'One could provide an image that is automatically attempting to buy a product:'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个人可以提供一个自动尝试购买产品的图片：
- en: '[PRE24]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Notice that no image is provided here. Instead, the browser will attempt to
    execute the `GET` method using this web page, making a possibly unauthorized or
    unwanted purchase.
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意这里没有提供图片。相反，浏览器将尝试使用这个网页执行`GET`方法，可能进行未经授权或不需要的购买。
- en: Similarly, adversaries can use the `POST` method to make unauthorized purchases.
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 同样，对手可以使用`POST`方法进行未经授权的购买。
- en: 'Consider the following HTML of the ‘Buy Now’ button:'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑以下“立即购买”按钮的HTML代码：
- en: '[PRE25]'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Notice how a web form, as implemented above, could naively make one believe
    that one is safe from an unauthorized purchase. Because this form includes a `hidden`
    value that is used by Amazon, hypothetically, for validation, it may make a programmer
    think that users are safe.
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意一个网页表单，如上所述实现，可能会让人天真地认为自己是安全的，免受未经授权的购买。因为这个表单包含一个亚马逊用于验证的`hidden`值，从理论上讲，它可能会让程序员认为用户是安全的。
- en: However, as is the case with many exploits, this feeling of safety is misplaced.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然而，正如许多漏洞的情况一样，这种安全感是错误的。
- en: 'Indeed, adding only a few lines of code could subvert the above. Imagine an
    adversary has the following code on their own website (not Amazon’s):'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事实上，只需添加几行代码就可以颠覆上述情况。想象一下，一个对手在自己的网站上（不是亚马逊的）有以下代码：
- en: '[PRE26]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Notice how a few lines of code on an adversary’s website could locate a form
    and submit it automatically.
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意一个对手网站上的几行代码可以定位到一个表单并自动提交它。
- en: This ability to trick a user into executing commands on another website is the
    essence of a CSRF.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种欺骗用户在另一个网站上执行命令的能力是CSRF（跨站请求伪造）的本质。
- en: One way to protect against an attack such as this is a *CSRF token*,where a
    secret value is generated by the server for each user. Thus, a server will validate
    that one’s CSRF token presented in their submissions matches the token expected
    by the server.
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保护此类攻击的一种方法是在每个用户处由服务器生成一个秘密值的*CSRF令牌*。因此，服务器将验证用户提交的CSRF令牌是否与服务器期望的令牌匹配。
- en: These tokens are often submitted via HTML headers.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些令牌通常通过HTML头提交。
- en: Arbitrary Code Execution (ACE)
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 随意代码执行 (ACE)
- en: '*Arbitrary code execution*, or *ACE*, is the act of executing code that is
    not part of the intended code within software.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*随意代码执行*，或 *ACE*，是在软件中执行不属于预期代码的行为。'
- en: One such threat is called *buffer overflow*, where software is overwhelmed with
    input. Such input overflows into other areas of memory, causing the program to
    malfunction. For example, the software may expect input of a short length, but
    the user inputs an input of a massive length.
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其中一种威胁被称为 *缓冲区溢出*，其中软件被输入所淹没。这种输入溢出到内存的其他区域，导致程序故障。例如，软件可能期望输入短长度，但用户输入了大量长度的输入。
- en: Another similar threat is called a *stack overflow*, where overflows can be
    used to insert and execute malicious code.
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一个类似的威胁被称为 *栈溢出*，其中溢出可以用来插入和执行恶意代码。
- en: Sometimes, attacks such as these can be used for *cracking* or bypassing the
    need to register or pay for a piece of software.
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有时，这样的攻击可以用于 *破解* 或绕过注册或付费使用软件的需求。
- en: Further, attacks such as these can be used for *reverse engineering* to see
    how code functions.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，这些攻击可以用于 *逆向工程* 来查看代码的功能。
- en: Open-Source Software
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开源软件
- en: One way to circumvent threats like this is to use and make *open-source software*.
    Such software’s code is published readily online for anyone to see.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 绕过这种威胁的一种方法是通过使用和创建 *开源软件*。这种软件的代码可以轻松在线发布，任何人都可以查看。
- en: One can audit the code and make sure that there are fewer security threats.
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以审计代码，确保安全威胁更少。
- en: These pieces of software are still vulnerable to attacks.
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些软件仍然容易受到攻击。
- en: Closed-Source Software
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 封闭源代码软件
- en: '*Closed-source software* is the opposite of open-source software.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*封闭源代码软件* 是开源软件的对立面。'
- en: Such software’s code is not available to the public and, therefore, may be less
    vulnerable to adversaries.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种软件的代码对公众不可用，因此可能对对手的攻击更不脆弱。
- en: However, there is a tradeoff between open-source software, where thousands of
    eyes are looking for vulnerabilities in the software, and closed-source software,
    where code is hidden from public view.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然而，在开源软件（数千双眼睛在寻找软件中的漏洞）和封闭源代码软件（代码对公众隐藏）之间有一个权衡。
- en: App Stores
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用商店
- en: '*App stores* are run by entities like Google and Apple, where they monitor
    submitted code for adversarial intent.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*应用商店* 由谷歌和苹果等实体运营，他们监控提交的代码是否存在对抗意图。'
- en: When you install only authorized software, you are far more protected than installing
    software from any developer without using an app store.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当你只安装授权软件时，你比安装任何开发者提供的软件（不使用应用商店）要安全得多。
- en: App stores employ encryption to accept only software or code that is signed
    by authorized developers. In turn, app stores sign software with a digital signature.
    Thus, operating systems can ensure that only authorized, signed software is being
    installed.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用商店使用加密技术，只接受由授权开发者签名的软件或代码。反过来，应用商店使用数字签名来签名软件。因此，操作系统可以确保只安装了授权的、签名的软件。
- en: Package Managers
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 软件包管理器
- en: '*Package managers* adopt a similar signing mechanism to ensure that what you
    download from third parties is trustworthy. However, there is no guarantee that
    one is entirely safe.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*软件包管理器* 采用类似的签名机制，以确保从第三方下载的内容是可信的。然而，并不能保证完全安全。'
- en: Still, we are always attempting to raise the bar for adversaries to install
    adversarial code.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管如此，我们总是试图提高对手安装对抗性代码的门槛。
- en: Bug Bounty
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 缺陷赏金
- en: '*Bug bounties* are paid opportunities for individuals to discover and report
    vulnerabilities in software.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*缺陷赏金* 是个人发现并报告软件漏洞的付费机会。'
- en: Bounties such as these may effectively influence would-be adversaries to opt
    to be paid for finding vulnerabilities rather than deploying them as an attacker.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这样的赏金可能会有效地影响潜在的对手，使他们选择为了发现漏洞而获得报酬，而不是作为攻击者部署它们。
- en: Identifying Vulnerabilities
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 识别漏洞
- en: Developers can examine a database of *common vulnerabilities and exposures*
    or *CVE* numbers to see what adversaries are doing worldwide.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开发者可以检查 *常见漏洞和暴露* 或 *CVE* 编号数据库，以了解全球对手在做什么。
- en: Further, they may examine the *common vulnerabilities scoring system* or *CVSS*
    to see how severe such threats are.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，他们可能会检查 *常见漏洞评分系统* 或 *CVSS*，以了解这种威胁的严重程度。
- en: There is also an *exploit prediction scoring system* or *EPSS* that allows developers
    to see the potential for vulnerabilities worldwide to allow them to prioritize
    their security efforts.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，还有一个 *漏洞预测评分系统* 或 *EPSS*，允许开发者看到全球漏洞的潜在风险，以便他们优先考虑他们的安全工作。
- en: '*Known exploited vulnerabilities* or *KEV* database is a list of known vulnerabilities.'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*已知的漏洞利用* 或 *KEV* 数据库是已知漏洞的列表。'
- en: Summing Up
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: In this lesson, you learned about securing software. You learned…
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，你学习了如何确保软件的安全性。你学习了...
- en: How adversaries use attacks such as phishing, code injection, reflected attacks,
    SQL injection, and stored attacks to infiltrate software;
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对手如何利用钓鱼、代码注入、反射攻击、SQL注入和存储攻击等攻击手段渗透软件；
- en: How character escapes, HTML headers, prepared statements, and server-side validation
    may help thwart the attacks of adversaries;
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 字符转义、HTML头、预编译语句和服务器端验证如何帮助阻止对手的攻击；
- en: How app stores, package managers, and developer signatures help protect against
    the installation of malicious code;
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用商店、包管理器和开发者签名如何帮助防止恶意代码的安装；
- en: How experts in the cybersecurity field track exploits.
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络安全领域的专家如何追踪漏洞利用。
- en: See you next time!
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 次次见！
