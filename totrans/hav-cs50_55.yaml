- en: Building from Scratch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://cs50.harvard.edu/scratch/notes/9/](https://cs50.harvard.edu/scratch/notes/9/)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Broadcasts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A useful feature in Scratch will allow our sprites to communicate with each
    other.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll add our cat and dinosaur sprites, and rotate the dinosaur so it faces
    the cat.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now, we’ll have the cat say hello to the dinosaur:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We’ll also have our dinosaur say hello back, but it should wait for two seconds:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: But now, if we want to have the cat say hello for just one second, we have to
    remember to change how long the dinosaur waits. And this will be more complex
    as we have more interactions, or even more sprites on the stage.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It turns out that our cat sprite can use **broadcasting**, or the ability to
    send a message or signal. And our dinosaur sprite can respond when it receives
    that message.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the Events category of blocks, we’ll use the “broadcast” block. We’ll use
    the dropdown to choose “New message”, and we’ll just call it “greet”:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We’ll change our cat’s script to use that block to send a message when it’s
    done:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'And for our dinosaur, we can use the “when I receive” block:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, our dinosaur will always respond when our cat finishes saying hello.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Control the Duck
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s add a duck to our stage for [Control the Duck](https://scratch.mit.edu/projects/507464954/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We can use the arrow keys to control it, but let’s add two arrows sprites to
    the stage, and rotate one so it’s pointing up, and the other so it’s pointing
    down:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![stage with arrows and duck](../Images/980014d5a10e8122adf9a9f78d0a7a80.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'For the arrow pointing up, we’ll tell it to broadcast a message of “up” whenever
    it’s clicked:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'And for the arrow pointing down, we’ll broadcast another message, “down”:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'For our duck, we’ll tell it to move up or down based on the message it receives:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, each of the arrow sprites will broadcast a message when they are clicked,
    and our duck will move when it receives a message.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Visiting Fish
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The stage can broadcast messages as well, as we’ll see in [Visiting Fish](https://scratch.mit.edu/projects/507465389/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll change our backdrop to “Underwater 1”, and add a fish sprite.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now, we can click on the backdrop in the bottom right, and in the Code tab,
    add the “when stage clicked” block in the Events section:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Then, we’ll broadcast a new message that we’ll call “visit”.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll tell our fish to go to our mouse pointer when it receives the “visit”
    message:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, after we click the flag, we can click anywhere on the stage and our fish
    will move to it.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Stars
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s see how we might be able to clone, or copy, a sprite with [Stars](https://scratch.mit.edu/projects/507465575/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'With our plain white backdrop and a star sprite, we’ll add the following blocks:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: The “create clone” and “when I start as a clone” blocks are in the Control section
    of blocks.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, whenever our star is clicked, it will make a copy of itself. Then, the
    copy will run whatever script is under “when I start as a clone”, moving itself
    to a random position on the stage.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Crystal Catch
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s remove our stars, and build a fully complete game with [Crystal Catch](https://scratch.mit.edu/projects/507465773/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll start by using our cat, and try to build a game where we’re catching the
    “Crystal” sprite. We’ll ultimately want crystals to fall from the sky, and for
    the cat to catch them before they reach the ground.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'First, we’ll add blocks for our cat to move left and right with the arrow keys:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Then, we’ll want our cat to start in the middle of the stage when the green
    flag is clicked:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We’ll also say some instructions for our user.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: We should hide the crystal before the game starts, and then make clones of itself
    since we’ll want many crystals to appear. Before that, we’ll need our cat to broadcast
    a message, “begin”.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now we can tell our crystal to hide itself at the beginning, and make clones
    of itself when the game has started:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Then, when the crystal starts as a clone, it should show itself:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: After our crystal appears, it will start at the top center of the stage, and
    move down over and over in a forever loop.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Notice that we’re building our game one component at a time, and we can always
    start our program to make sure that everything we’ve made is working so far.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Next, our crystal will need to check if it is touching the cat:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We’ll make a new variable called “catches” to represent the score, and we’ll
    reset it in our cat’s script, since we’re doing other resetting there as well:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Now we can go back to our crystal’s script, and add blocks for what we need
    to do when it touches our cat:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We’ll need to increase our “catches” variable by 1, to keep track of our score.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Then, we need to create a new crystal, and make our original crystal delete
    itself.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The new crystal will start at the top of the screen, since it’s a new clone.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Let’s change the x value of the crystal’s position to something random, so
    our game has some unpredictability. The far left and far right of the stage will
    be some big numbers, so we’ll use negative 200 and 200:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, our crystals will appear in different spots every time.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If we don’t catch the crystal, we might want to count the number of misses there
    has been so far.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll create a new variable called “misses”, which will keep track of the number
    of times that our cat has not caught the crystal. We’ll reset this to 0 every
    time the game is started, as well:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Now, we can tell our crystal to check if it’s touching the ground (or edge):'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: If our crystal reaches the edge, we’ll increase the value of “misses”, and then
    create a new clone, and delete this clone.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We might want a limit to the number of misses we can have, so we can have a
    condition to check for that:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: After we miss, we’ll check if the number is three. If so, we’ll broadcast a
    message for our cat, and then delete this clone.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Finally, in our cat’s script, we can say our score when we receive that message:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We can try this, and see that our program is working as we intended. We can
    create more crystals at a time, by having our crystal clone itself over and over:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, every 15 seconds, a new crystal will be created.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'But we see that when the game ends, new crystals will still be created. So,
    we’ll need our cat to stop everything in our program:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: With these examples, hopefully you can see how all of these components, tools,
    and concepts can be used to build interesting and exciting projects in Scratch.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We encourage you to create something of your own, and share it with your friends,
    family and us. Thanks for joining us in Introduction to Programming with Scratch!
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
