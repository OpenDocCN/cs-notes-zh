<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Events</h1>
<blockquote>原文：<a href="https://cs50.harvard.edu/scratch/notes/3/">https://cs50.harvard.edu/scratch/notes/3/</a></blockquote>

                    

<h2 id="last-time">Last time</h2>

<ul>
  <li data-marker="*">Last time, we put together sequences of instructions, or functions, by assembling stacks of blocks.</li>
  <li data-marker="*">We used functions to move our characters, or sprites, around the stage, draw, play sound, and more.</li>
</ul>

<h2 id="events-1">Events</h2>

<ul>
  <li data-marker="*">We’ll start with a new program with a cat, and start with a block we’ve seen before:
    <pre><code class="language-scratch">  say [Hello!] for (2) seconds
</code></pre>
    <ul>
      <li data-marker="*">Now, we can have our cat do this every time the block was clicked.</li>
    </ul>
  </li>
  <li data-marker="*">But we might want our cat to do something in response to us, or another sprite.</li>
  <li data-marker="*">We’ll add a dinosaur sprite, and turn it so our two sprites face each other:<br/>
  <img src="../Images/d20a5c84b1e70c9c839edaf406db63be.png" alt="dinosaur with rotation to left, next to cat" width="494" data-original-src="https://cs50.harvard.edu/scratch/notes/3/dinosaur.png"/></li>
  <li data-marker="*">We’ll also add the same block for the dinosaur, but now if we want both our cat and dinosaur to say hello, we have to very quickly click on these blocks for each of them.</li>
  <li data-marker="*">With multiple scripts and sprites, we won’t be able to do that ourselves quickly enough. It would be better if we could click a single button to start our project, and have all our scripts run automatically.</li>
  <li data-marker="*">It turns out that Scratch has a button, which looks like a green flag, to the top left of the stage, that starts our project. But nothing happens right now when we click it.</li>
  <li data-marker="*">We’ll need a new category of blocks, under Events. And in programming, an <strong>event</strong> is just something that happens in our program, that our code can respond to.</li>
  <li data-marker="*">So we’ll drag out an event block called “when flag clicked”, and attach our “say hello” block to it:
    <pre><code class="language-scratch">  when green flag clicked
  say [Hello!] for (2) seconds
</code></pre>
    <ul>
      <li data-marker="*">Now, our code is attached to the event of the flag being clicked. And when we click the green flag, our dinosaur says hello.</li>
      <li data-marker="*">Nothing can be attached to the start of this script, since the event is what causes the rest of our code to run.</li>
    </ul>
  </li>
  <li data-marker="*">We can select the cat sprite, and do the same thing by adding a “when flag clicked” block to the beginning of its script as well. Now, when we click the green flag, both of our sprites say hello.</li>
  <li data-marker="*">In fact, someone else can run our project now, <a href="https://scratch.mit.edu/projects/507426433/">When Flag Clicked</a>, just by clicking the green flag, without having to know what the blocks look like and which to click on.</li>
</ul>

<h3 id="when-sprite-clicked">When Sprite Clicked</h3>

<ul>
  <li data-marker="*">We’ll remove our cat and dinosaur, and add a duck for our next example, <a href="https://scratch.mit.edu/projects/507426938/">When Sprite Clicked</a>.</li>
  <li data-marker="*">Now we’ll use a block called “when this sprite clicked”, which will make whatever code below run when our sprite is clicked:
    <pre><code class="language-scratch">  when this sprite clicked
  go to (random position v)
</code></pre>
    <ul>
      <li data-marker="*">Now, when we click on the duck in the stage, it will go to a random position. We could also replace the “go to” block with a “glide” block for it to move more smoothly.</li>
    </ul>
  </li>
  <li data-marker="*">Notice that, when we click the sprite on the stage, the script also lights up as it’s running:<br/>
  <img src="../Images/ce6a6ac8c8b089e60a4f6132a32b1c11.png" alt="blocks from the duck outlined in yellow glow" width="247" data-original-src="https://cs50.harvard.edu/scratch/notes/3/event.png"/></li>
</ul>

<h2 id="backdrop-chooser">Backdrop Chooser</h2>

<ul>
  <li data-marker="*">Now, we can build something that works like a button in a computer program, where something happens when that button is pressed, in <a href="https://scratch.mit.edu/projects/507427209/">Backdrop Chooser</a>.</li>
  <li data-marker="*">We’ll add some backdrops to our project, and a sprite called Button2. We’ll drag the button to the left side of the screen, and add some text in its costume:<br/>
  <img src="../Images/ef2ffda238f1374338f5bdba094747de.png" alt="button with text Arctic" width="1138" data-original-src="https://cs50.harvard.edu/scratch/notes/3/arctic_button.png"/></li>
  <li data-marker="*">Now we’ll go back to the Code tab, and combine blocks from the Events and Looks categories:
    <pre><code class="language-scratch">  when this sprite clicked
  switch backdrop to (Arctic v)
</code></pre>
    <ul>
      <li data-marker="*">Then, when we click this button, the backdrop will change.</li>
    </ul>
  </li>
  <li data-marker="*">We can right-click, or control-click the sprite, and select the “duplicate” item to make a copy of it. We’ll rename one to “Arctic Button”, and the other to “Jungle Button”. Then, we can change the text in the costume of the “Jungle Button” to say “Jungle”.</li>
  <li data-marker="*">Notice that the top right of the code editor will have a slightly transparent version of the current sprite, so we know what script we’re changing. We’ll change the code to switch the backdrop to “Jungle” for this button:
    <pre><code class="language-scratch">  when this sprite clicked
  switch backdrop to (Jungle v)
</code></pre>
  </li>
  <li data-marker="*">We’ll drag our “Jungle Button” to the left, under the “Arctic Button”, and repeat this process for a button called “Underwater Button”. The blocks for that button will be:
    <pre><code class="language-scratch">  when this sprite clicked
  switch backdrop to (Underwater 1 v)
</code></pre>
  </li>
  <li data-marker="*">And we’ll stack our buttons on the stage like so:<br/>
  <img src="../Images/c8131280e023c03a431016317e8955f8.png" alt="button stacked on stage, labeled Arctic, Jungle, Underwater" width="493" data-original-src="https://cs50.harvard.edu/scratch/notes/3/buttons.png"/></li>
  <li data-marker="*">Now whoever uses our project can interact with it, changing the stage to whatever they like.</li>
</ul>

<h2 id="drum-kit">Drum Kit</h2>

<ul>
  <li data-marker="*">We’ll change our backdrop back to the plain white backdrop, and add some new sprites.</li>
  <li data-marker="*">We’ll choose a few instruments, “Drum-snare”, “Drums Conga”, and “Drum-cymbal”, and arrange them on our stage for <a href="https://scratch.mit.edu/projects/507447260/">Drum Kit</a>.</li>
  <li data-marker="*">For each of them, we’ll add the “when this sprite clicked” block from the Events category, and a “play sound” block from the Sound category:
    <pre><code class="language-scratch">  when this sprite clicked
  play sound (tap snare v) until done
</code></pre>
    <ul>
      <li data-marker="*">We’ll do this for each instrument, with a different sound that matches each one.</li>
    </ul>
  </li>
  <li data-marker="*">Now, we have a “drum kit” that we can play by clicking on any of these sprites.</li>
  <li data-marker="*">Recall that a click is an event, and our code is responding to these events.</li>
</ul>

<h2 id="swimming-fish">Swimming Fish</h2>

<ul>
  <li data-marker="*">We’ll remove our drums and add a fish. We’ll use the “when key pressed” block to start a new script for it in <a href="https://scratch.mit.edu/projects/507447918/">Swimming Fish</a>:
    <pre><code class="language-scratch">  when [space v] key pressed
  play sound (bubbles v) until done
</code></pre>
    <ul>
      <li data-marker="*">Now, when we press the space bar on our keyboard, our fish will play a sound.</li>
    </ul>
  </li>
  <li data-marker="*">And we can click the dropdown menu to customize the “when key pressed” block to respond to other keys.</li>
  <li data-marker="*">We’ll change it to:
    <pre><code class="language-scratch">  when [right arrow v] key pressed
  change x by (10)
</code></pre>
    <ul>
      <li data-marker="*">We’ll use a Motion block to move our sprite’s position’s x-value by 10 steps when the right arrow key is pressed.</li>
    </ul>
  </li>
  <li data-marker="*">We’ll right-click, or control-click this script, and select the “Duplicate” option to make a copy of these two blocks. We’ll click to place it in the code editor for our fish sprite, and change the new script to respond to the left arrow:
    <pre><code class="language-scratch">  when [left arrow v] key pressed
  change x by (-10)
</code></pre>
  </li>
  <li data-marker="*">But our fish is moving backwards, so we’ll first add blocks to make sure that it’s facing right when the right arrow key is pressed:
    <pre><code class="language-scratch">  when [right arrow v] key pressed
  point in direction (90)
  change x by (10)
</code></pre>
    <ul>
      <li data-marker="*">Recall that we could use the dial in the sprite panel to check what number to use for the value of direction.</li>
    </ul>
  </li>
  <li data-marker="*">Next, we’ll make sure that it faces left when the left arrow key is pressed:
    <pre><code class="language-scratch">  when [left arrow v] key pressed
  point in direction (-90)
  change x by (-10)
</code></pre>
    <ul>
      <li data-marker="*">Our fish is upside-down at first, so we’ll need to set the rotation style to be “left and right” in the sprite panel. We can also use a block, “set rotation style”, to do that for us.</li>
    </ul>
  </li>
  <li data-marker="*">We’ll repeat this so our fish can move up …
    <pre><code class="language-scratch">  when [up arrow v] key pressed
  change y by (10)
</code></pre>
  </li>
  <li data-marker="*">… and down:
    <pre><code class="language-scratch">  when [down arrow v] key pressed
  change y by (-10)
</code></pre>
  </li>
  <li data-marker="*">Now, we have the ability to program sprites to move all around the stage, in response to keys being pressed.</li>
</ul>

<h2 id="changing-size">Changing size</h2>

<ul>
  <li data-marker="*">We’ll add a few more scripts to change the size of our fish, when numbers are pressed:
    <pre><code class="language-scratch">  when [1 v] key pressed
  set size to (50) %

  when [2 v] key pressed
  set size to (100) %

  when [3 v] key pressed
  set size to (200) %
</code></pre>
    <ul>
      <li data-marker="*">With these, we can move our fish around the stage as before, but also change how big or small it is by pressing the 1, 2, or 3 keys.</li>
    </ul>
  </li>
</ul>

<h2 id="loudness">Loudness</h2>

<ul>
  <li data-marker="*">We’ll delete our fish and change our backdrop back to a plain white backdrop, and add a new balloon sprite for <a href="https://scratch.mit.edu/projects/507448632/">Balloon</a>.</li>
  <li data-marker="*">Let’s try using another block in the Events category, “when loudness greater than”. Our browser might ask us for permission to use the microphone, since Scratch will be listening to our microphone.</li>
  <li data-marker="*">We’ll drag out this block, and add one to change the size of our balloon when the loudness Scratch hears is greater than 30:
    <pre><code class="language-scratch">  when [loudness v] &gt; (30)
  change size by (10)
</code></pre>
    <ul>
      <li data-marker="*">A loudness value of 0 is like silence, and 100 will be very, very loud, so we can try different numbers for the level of loudness we want Scratch to listen for.</li>
      <li data-marker="*">Then, our code below will respond. Now, when we make noise for our microphone to hear, our balloon will get bigger and bigger.</li>
    </ul>
  </li>
</ul>

<h2 id="timers">Timers</h2>

<ul>
  <li data-marker="*">We can change the value of the dropdown menu in the block as well, from “loudness” to “timer”:
    <pre><code class="language-scratch">  when [timer v] &gt; (30)
</code></pre>
    <ul>
      <li data-marker="*">It turns out that, when we start our project by clicking the flag, there is a timer keeping track of how much time has passed.</li>
      <li data-marker="*">So this block will cause some code to run when the timer reaches a particular number.</li>
    </ul>
  </li>
  <li data-marker="*">We’ll add our cat and dinosaur back in <a href="https://scratch.mit.edu/projects/507449066/">Timer</a>, and for our cat, we’ll use the same script as before:
    <pre><code class="language-scratch">  when green flag clicked
  say [Hello!] for (2) seconds
</code></pre>
  </li>
  <li data-marker="*">As for our dinosaur, we’ll have it wait two seconds after the flag is clicked:
    <pre><code class="language-scratch">  when [timer v] &gt; (2)
  say [Hello!] for (2) seconds
</code></pre>
  </li>
  <li data-marker="*">Now, when we click on the green flag, our cat will say hello first, and our dinosaur will wait before saying hello back.</li>
  <li data-marker="*">Every time we start our project by clicking on the green flag, the timer is reset to 0, and will count up the number of seconds until our project is started or stopped again.</li>
</ul>

<h2 id="when-backdrop-switches">When Backdrop Switches</h2>

<ul>
  <li data-marker="*">There are other events, too, like this block:
    <pre><code class="language-scratch">  when backdrop switches to ( v)
</code></pre>
    <ul>
      <li data-marker="*">Now, if the backdrop switches, we can make a sprite do some actions.</li>
    </ul>
  </li>
  <li data-marker="*">By using these Event blocks, we can make our Scratch projects interactive and respond to various events, like clicks or keypresses.</li>
</ul>


                    
</body>
</html>