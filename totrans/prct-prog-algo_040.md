# 7.3 组合电路

> 原文：[`introcs.cs.princeton.edu/java/73combinational`](https://introcs.cs.princeton.edu/java/73combinational)

本章节正在大规模施工中。

**多米诺加法器。** 这个 [视频](https://www.youtube.com/watch?v=lNuPy-r1GuQ) 展示了一个使用 10,000 个多米诺骨牌实现的 4 位串行进位加法器。

#### 练习。

1.  设计一个电路，通过三个开关控制一个灯泡。该电路有三个输入（开关设置 *x*、*y* 和 *z*）和一个输出（灯控制）。任何时候，你都应该能够通过改变三个开关中的任意一个的位置将灯关闭（如果打开）或打开（如果关闭）。当三个开关都为 0（下方位置）时，灯控制为 0（灯关闭）。

1.  以下 TOY 机器组件中哪些不是 *组合电路*？

    1.  控制

    1.  计数器

    1.  寄存器

    1.  主存储器

    1.  加法器

#### 创意练习。

1.  **积和形式。** 析取范式。代数性质：和与积是可交换和可结合的，分配律等。

1.  **积和形式。** 合取范式。为真值表中的每个 0 包含一个项。

1.  **共识定理。** 验证 (a+b)(a'+c)(b+c) = (a+b)(a'+c) 和 (ab) + (a'c) + (bc) = (ab) + (a'c)。

1.  **对偶性。** 任何布尔恒等式的对偶通过交换 OR 与 AND 以及 0 与 1 而得到。

1.  **德摩根定律。**

1.  **使用 NAND 实现 XOR。** 只使用 NAND 门实现 XOR 门。假设输入可以是 0 或 1。

1.  **使用 NAND 实现 XOR。** 只使用 4 个 NAND 门实现 XOR 门。假设输入可以是 0 或 1。 *答案*：XOR(a, b) = NAND(d, e)，其中 c = NAND(a, b)，d = NAND(a, c)，e = NAND(b, c)。

1.  **使用 NOR 实现 OR 和 NAND。** 使用 NOR 门实现 OR 门。使用 NOR 门实现 NAND 门。不要假设可以使用输入为 0 或 1。

1.  **普适性。** 证明以下门的组合是通用的：

    +   { 与, 非 }

    +   { 或, 非 }

    +   { NAND }

    +   { NOR }

    +   { XOR, 与 }

1.  **非普适性。** 证明以下门不是通用的：

    +   { 与 }

    +   { 或 }

    +   { XOR }

1.  **从 XOR 到 AND。** 证明你不能用 XOR 门制作 AND 门。

    *解答*。如上所述 { XOR, 与 } 是通用的。因此，如果你可以用 XOR 门制作 AND 门，{ XOR } 就是通用的。但在前一个问题中，你证明它不是通用的。

1.  **两个 NOT 问题。** 给定三个输入 a、b 和 c，设计一个电路，输出 a'、b' 和 c'。你可以使用任意多个 AND 和 OR 门，但最多两个 NOT 门。 *警告*：难度较高。

1.  **平面计算机。** 展示原则上你可以在平面上绘制电路。假设两个输入 AND、OR 和 NOT 可以在平面上绘制。只需绘制一个交叉电路即可。[平面交叉电路](http://www.math.uwaterloo.ca/navigation/ideas/Zeno/zenocs.shtml#flatcomp)。

1.  **比较器电路。**

1.  **至少 k。** 一个 n 路多数电路接受 n 个输入，仅当其输入中的 1 严格多于 0 时返回 1。给定一个 n 路多数电路，描述如何构建一个至少 k 电路，仅当其输入中至少 k 个��� 1 时返回 1。 *答案*：考虑一个 2n 路多数电路。使 n-k+1 个输入为 1，k-1 个输入为 0，以及原始的 n 个输入。

1.  **恰好 k 电路。** 描述如何构建一个电路，仅当其输入中恰好有 k 个为 1 时输出 1。 *答案*：如果 k = n，则使用 n 路与门。否则按照前一个练习中的方法构建一个至少 k 电路和一个至少 k+1 电路。它恰好有 k 个输入为 1，如果第一个电路输出 1，则第二个电路输出 0。

1.  **从多数门到奇校验。** 描述如何只使用多数门构建一个 n 路奇校验电路。你可以假设输入为 0 和 1。

1.  **奇校验。** 描述如何只使用 AND、OR、NOT 构建一个 N 路奇校验电路。提示：构建一个 3 路奇校验门的树，总共使用 ceil(2.5(N-1)) 个门。

    你能为 N = 2 到 6 构建的最小电路是什么？对于 N = 2 到 5，3 路 XOR 树结构是最优的：分别为 3 个门、5 个门、8 个门和 10 个门。对于 N = 6 的答案尚不清楚（但已知为 12 或 13）。（Ingo Wegener，1991）

1.  **AND 门实现 XOR。** 只使用 AND 和 NOT 设计一个 XOR 电路。使用尽可能少的 AND 门。最小值 = 3。

1.  **AND 门实现 MAJ。** 只使用 AND 和 NOT 设计一个 3 路 MAJ 电路。使用尽可能少的 AND 门。最小值 = 4。

1.  **多数门实现加法器。** 描述如何只使用多数门构建一个 n 位串行进位加法器电路。你可以假设你有 0 和 1 作为输入。*提示*：用 3 位多数门构建一个 3 路奇偶校验电路。注意 MAJ(x, y) = AND(x, y) 和 MAJ(x, y, 1) = OR(x, y)。

1.  **布尔逻辑谜题。** 你必须用一条船将一只狼、一只山羊和一颗卷心菜运到河的另一边。由于自然的捕食关系，你不能让山羊和狼同时留在同一边。也不能让山羊和卷心菜在一起。

    ![逻辑谜题](img/959fd6d98b63ca7efaf696e0f4e4a58d.png)

1.  **二进制补码加法器的溢出。** 如何检测二进制补码加法器的溢出？减法器呢？<en>答案：如果最左边比特的进位不同于进位。</en>

1.  **布尔函数和电路。** 设 f 是一个关于 n 个输入比特的布尔函数。证明对于大多数函数 f，实现 f 所需的 AND、OR 和 NOT 门的数量至少为 2^(n/3)。提示：证明 m 个门的电路数量至多为 2^m，并将此数量与 n 个输入的布尔函数数量进行比较。
