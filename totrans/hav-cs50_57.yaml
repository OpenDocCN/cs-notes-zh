- en: Lecture 0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: ÂéüÊñáÔºö[https://cs50.harvard.edu/sql/notes/0/](https://cs50.harvard.edu/sql/notes/0/)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Introduction](#introduction)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What is a Database?](#what-is-a-database)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[SQL](#sql)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Getting Started with SQLite](#getting-started-with-sqlite)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Terminal Tips](#terminal-tips)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`SELECT`](#select)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions-1)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`LIMIT`](#limit)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`WHERE`](#where)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`NULL`](#null)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`LIKE`](#like)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions-2)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Ranges](#ranges)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions-3)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`ORDER BY`](#order-by)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions-4)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Aggregate Functions](#aggregate-functions)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Questions](#questions-5)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Fin](#fin)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Databases (and SQL) are tools that can be used to interact with, store, and
    manage information. Although the tools we‚Äôre using in this course are new, a database
    is an age-old idea.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Look at this diagram from a few thousand years ago. It has rows and columns,
    and seems to contain stipends for workers at a temple. One could call this diagram
    a table, or even a spreadsheet.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Table with Temple Workers'' Stipends](../Images/791bb4dd298a0f9c0323ac50323e6f24.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Based on what we see in the diagram above, we can conclude that:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A table stores some set of information (here, worker stipends).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Every row in a table stores one item in that set (here, one worker).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Every column has some attribute of that item (here, the stipend for a particular
    month).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Let us now consider a modern context. Say you are a librarian tasked with organizing
    information about the book titles and authors in this diagram.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '!["Book Titles and Authors - Unorganized"](../Images/668f1f2a20ce98a517b2484c0b0b7b9b.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: One way of organizing the information would be to have each book title followed
    by its author, as below.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '!["Table with Book Titles followed by Author"](../Images/0901febd63c4e4f95578517dc2a1b253.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Notice that each book is now a row in this table.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Every row has two columns ‚Äî each a different attribute of the book (book title
    and author).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In today‚Äôs information age, we can store our tables using software like Google
    Sheets instead of paperüìù or stone tabletsü™®. However, in this course we will talk
    about databases and not spreadsheets.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Three reasons to move beyond spreadsheets to databases are
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scale**: Databases can store not just items numbering to tens of thousands
    but even millions and billions.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Update Capacity**: Databases are able to handle multiple updates of data
    in a second.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Speed**: Databases allow faster look-up of information. This is because databases
    provide us with access to different algorithms to retrieve information. In contrast,
    spreadsheets that merely allow the use of Ctrl+F or Cmd+F to go through hits one
    at a time.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: What is a Database?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A database is a way of organizing data such that you can perform four operations
    on it
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: create
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: read
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: update
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: delete
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: A database management system (DBMS) is a way to interact with a database using
    a graphical interface or textual language.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Examples of DBMS: MySQL, Oracle, PostgreSQL, SQLite, Microsoft Access, MongoDB
    etc.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The choice of a DBMS would rest on factors like
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cost**: proprietary vs. free software,'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Amount of support**: free and open source software like MySQL, PostgreSQL
    and SQLite come with the downside of having to set up the database yourself,'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Weight**: more fully-featured systems like MySQL or PostgreSQL are heavier
    and require more computation to run than systems like SQLite.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In this course, we will start with SQLite and then move on to MySQL and PostgreSQL.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: SQL stands for Structured Query Language. It is a language used to interact
    with databases, via which you can create, read, update, and delete data in a database.
    Some important notes about SQL
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: it is structured, as we‚Äôll see in this course,
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: it has some keywords that can be used to interact with the database, and
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: it is a query language ‚Äî it can be used to ask questions of data inside a database.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In this lesson, we will learn how to write some simple SQL queries.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Are there subsets of SQL?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: SQL is a standard both of the American National Standards Institute (ANSI) and
    the International Organization for Standardization (ISO). Most DBMS support some
    subset of the SQL language. So for SQLite, for example, we‚Äôre using a subset of
    SQL that is supported by SQLite. If we wanted to port our code to a different
    system like MySQL, it is likely we would have to change some of the syntax.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting Started with SQLite
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: It is worth noting that SQLite is not merely something we use for this class,
    but a database used in plenty of other applications including phones, desktop
    applications and websites.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now, consider a database of books that have been longlisted for the [International
    Booker Prize](https://en.wikipedia.org/wiki/International_Booker_Prize#:~:text=Its%20aim%20is%20to%20encourage,the%20winner%20announced%20in%20May.).
    Each year, there are 13 books on the longlist and our database contains 5 years‚Äô
    worth of such longlists.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Before we begin interacting with this database:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Log in to [Visual Studio Code for CS50](https://cs50.dev/). This is where we
    will write code and edit files.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The SQLite environment is already set up in your Codespace! Open it up on the
    terminal.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Terminal Tips
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Here are some useful tips for writing SQL code on the terminal.
  prefs: []
  type: TYPE_NORMAL
- en: To clear the terminal screen, hit Ctrl + L.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To get the previously executed instruction(s) on the terminal, press the Up
    Arrow key.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If your SQL query is too long and wrapping around the terminal, you can hit
    enter and continue writing the query on the next line.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To exit a database or the SQLite environment, use `.quit`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SELECT`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: What data is actually in our database? To answer this, we will use our first
    SQL keyword, `SELECT`, which allows us to select some (or all) rows from a table
    inside the database.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the SQLite environment, run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This selects all the rows from the table called `longlist`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The output we get contains all the columns of all the rows in this table, which
    is a lot of data. We can simplify it by selecting a particular column, say the
    title, from the table. Let‚Äôs try
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, we see a list of the titles in this table. But what if we want to see titles
    and authors in our search results? For this, we run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Is it necessary to use the double quotes (‚Äú) around table and column names?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: It is good practice to use double quotes around table and column names, which
    are called SQL identifiers. SQL also has strings and we use single quotes around
    strings to differentiate them from identifiers.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Where is the data in this database coming from?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This database contains data from various sources.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Longlists of books (years 2018‚Äî2023) come from the [Booker Prize](https://thebookerprizes.com/the-booker-library/features/full-list-of-international-booker-prize-winners-shortlisted-authors-and-their-books)
    website.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ratings and other information about these books come from [Goodreads](https://www.goodreads.com/).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do we know what tables and columns are in a database?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The database schema contains the structure of the database, including table
    and column names. Later in this course, we will learn how to get the database
    schema and understand it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Is SQLite 3 case-sensitive? Why are some parts of the query in capital letters
    and some in small letters?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'SQLite is case-insensitive. However, we do follow some style conventions. Observe
    this query:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: SQL keywords are written in capital letters. This is especially useful in improving
    the readability of longer queries. Table and column names are in lowercase.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`LIMIT`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If a database had millions of rows, it might not make sense to select all of
    its rows. Instead, we might want to merely take a peek at the data it contains.
    We use the SQL keyword `LIMIT` to specify the number of rows in the query output.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_UL
  type: TYPE_PRE
- en: This query gives us the first 10 titles in the database. The titles are ordered
    the same way in the output of this query as they are in the database.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`WHERE`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The keyword `WHERE` is used to select rows based on a condition; it will output
    the rows for which the specified condition is true.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_UL
  type: TYPE_PRE
- en: This gives us the titles and authors for the books longlisted in 2023\. Note
    that `2023` is not in quotes because it is an integer, not a string or identifier.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The operators that can be used to specify conditions in SQL are `=` (‚Äúequal
    to‚Äù), `!=` (‚Äúnot equal to‚Äù) and `<>` (also ‚Äúnot equal to‚Äù).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To select the books that are not hardcovers, we can run the query
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note that `hardcover` is in single quotes because it is an SQL string and not
    an identifier.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`!=` can be replaced with the operator `<>` to get the same results. The modified
    query would be'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Yet another way to get the same results is to use the SQL keyword `NOT`. The
    modified query would be
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To combine conditions, we can use the SQL keywords `AND` and `OR`. We can also
    use parentheses to indicate how to combine the conditions in a compound conditional
    statement.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To select the titles and authors of the books longlisted in 2022 or 2023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To select the books longlisted in 2022 or 2023 that were **not** hardcovers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Here, the parantheses indicate that the `OR` clause should be evaluated before
    the `AND` clause.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`NULL`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: It is possible that tables may have missing data. `NULL` is a type used to indicate
    that certain data does not have a value, or does not exist in the table.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For example, the books in our database have a translator along with an author.
    However, only some of the books have been translated to English. For other books,
    the translator value will be `NULL`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Conditions used with `NULL` are `IS NULL` and `IS NOT NULL`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To select the books for which translators don‚Äôt exist, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Let‚Äôs try the reverse: selecting the books for which translators do exist.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`LIKE`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This keyword is used to select data that roughly matches the specified string.
    For example, `LIKE` could be used to select books that have a certain word or
    phrase in their title.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`LIKE` is combined with the operators `%` (matches any characters around a
    given string) and `_` (matches a single character).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To select the books with the word ‚Äúlove‚Äù in their titles, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`%` matches 0 or more characters, so this query would match book titles that
    have 0 or more characters before and after ‚Äúlove‚Äù ‚Äî¬†that is, titles that contain
    ‚Äúlove‚Äù.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To select the books whose title begin with ‚ÄúThe‚Äù, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: The above query may also return books whose titles begin with ‚ÄúTheir‚Äù or ‚ÄúThey‚Äù.
    To select only the books whose titles begin with the **word** ‚ÄúThe‚Äù, we can add
    a space.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Given that there is a book in the table whose name is either ‚ÄúPyre‚Äù or ‚ÄúPire‚Äù,
    we can select it by running
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This query could also return book titles like ‚ÄúPore‚Äù or ‚ÄúPure‚Äù if they existed
    in our database, because `_` matches any single character.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Can we use multiple `%` or `_` symbols in a query?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Yes, we can! Example 1: If we wanted to select books whose titles begin with
    ‚ÄúThe‚Äù and have ‚Äúlove‚Äù somewhere in the middle, we could run'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Note: No book from our current database matches this pattern, so this query
    returns nothing.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Example 2: If we knew there was a book in the table whose title begins with
    ‚ÄúT‚Äù and has four letters in it, we can try to find it by running'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Is the comparison of strings case-sensitive in SQL?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In SQLite, comparison of strings with `LIKE` is by default case-*in*sensitive,
    whereas comparison of strings with `=` is case-sensitive. (Note that, in other
    DBMS‚Äôs, the configuration of your database can change this!)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ranges
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We can also use the operators `<`, `>`, `<=` and `>=` in our conditions to match
    a range of values. For example, to select all the books longlisted between the
    years 2019 and 2022 (inclusive), we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Another way to get the same results is using the keywords `BETWEEN` and `AND`
    to specify inclusive ranges. We can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To select the books that have a rating of 4.0 or higher, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To further limit the selected books by number of votes, and have only those
    books with at least 10,000 votes, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To select the books that have less than 300 pages, we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For range operators like `<` and `>`, do the values in the database have to
    be integers?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: No, the values can be integers or floating-point (i.e., ‚Äúdecimal‚Äù or ‚Äúreal‚Äù)
    numbers. While creating a database, there are ways to set these data types for
    columns.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ORDER BY`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `ORDER BY` keyword allows us to organize the returned rows in some specified
    order.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The following query selects the bottom 10 books in our database by rating.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note that we get the bottom 10 books because `ORDER BY` chooses ascending order
    by default.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Instead, to select the top 10 books
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note the use of the SQL keyword `DESC` to specify the descending order. `ASC`
    can be used to explicitly specify ascending order.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To select the top 10 books by rating and also include number of votes as a tie-break,
    we can run
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note that for each column in the `ORDER BY` clause, we specify ascending or
    descending order.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To sort books by title alphabetically, can we use `ORDER BY`?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Yes, we can. The query would be
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Aggregate Functions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`COUNT`, `AVG`, `MIN`, `MAX`, and `SUM` are called aggregate functions and
    allow us to perform the corresponding operations over multiple rows of data. By
    their very nature, each of the following aggregate functions will return only
    a single output‚Äîthe aggregated value.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To find the average rating of all books in the database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To round the average rating to 2 decimal points
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To rename the column in which the results are displayed
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note the use of the SQL keyword `AS` to rename columns.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To select the maximum rating in the database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To select the minimum rating in the database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To count the total number of votes in the database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: To count the number of books in our database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Remember that we used `*` to select every row and column from the database.
    In this case, we are trying to count every row in the database and hence we use
    the `*`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To count the number of translators
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: We observe that the number of translators is fewer than the number of rows in
    the database. This is because the `COUNT` function does not count `NULL` values.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To count the number of publishers in the database
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: As with translators, this query will count the number of publisher values that
    are not `NULL`. However, this may include duplicates. Another SQL keyword, `DISTINCT`,
    can be used to ensure that only distinct values are counted.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Would using `MAX` with the title column give you the longest book title?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: No, using `MAX` with the title column would give you the ‚Äúlargest‚Äù (or in this
    case, last) title alphabetically. Similarly, `MIN` will give the first title alphabetically.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fin
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This brings us to the conclusion of Lecture 0 about Querying in SQL! To exit
    the SQLite prompt, you can type in the SQLite keyword `.quit` and this should
    take you back to the regular terminal.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Until next time!
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
